(this.$WP=this.$WP||[]).push(["n0vfy1",(e,t)=>{function a(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function i(e){a(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&Error().stack,new Date(NaN))}function s(e,t){for(var a=Math.abs(e).toString();a.length<t;)a="0"+a;return(e<0?"-":"")+a}function r(e,t){if(arguments.length<1)throw TypeError("1 argument required, but only ".concat(arguments.length," present"));var r=i(e);if(!function(e){return a(1,arguments),!isNaN(i(e))}(r))throw RangeError("Invalid time value");var n=t||{},o=null==n.format?"extended":String(n.format),l=null==n.representation?"complete":String(n.representation);if("extended"!==o&&"basic"!==o)throw RangeError("format must be 'extended' or 'basic'");if("date"!==l&&"time"!==l&&"complete"!==l)throw RangeError("representation must be 'date', 'time', or 'complete'");var p="",h="",c="extended"===o?"-":"";if("time"!==l){var d=s(r.getDate(),2),u=s(r.getMonth()+1,2),m=s(r.getFullYear(),4);p="".concat(m).concat(c).concat(u).concat(c).concat(d)}if("date"!==l){var g=r.getTimezoneOffset();if(0!==g){var v=Math.abs(g),D=s(Math.floor(v/60),2),k=s(v%60,2);h="".concat(g<0?"+":"-").concat(D,":").concat(k)}else h="Z";var f=s(r.getHours(),2),C=s(r.getMinutes(),2),y=s(r.getSeconds(),2),b=""===p?"":"T",I=[f,C,y].join("extended"===o?":":"");p="".concat(p).concat(b).concat(I).concat(h)}return p}var n,o,l,p,h,c,d,u,m,g,v,D,k,f,C,y,b,I,P,S,_,M,w,E,T,O,H,L,N,U,R,A,x,F,V,B,W,G,z,K,q,j,Q,Y,J,$,X,Z,ee,et,ea,ei,es,er,en,eo,el,ep,eh,ec,ed,eu,em,eg,ev,eD,ek,ef,eC,ey,eb,eI,eP,eS,e_,eM,ew,eE,eT,eO,eH,eL,eN,eU,eR,eA,ex,eF,eV,eB,eW,eG,ez,eK,eq,ej,eQ,eY,eJ,e$,eX,eZ,e0,e1,e2,e5,e4,e6,e9,e8=(e,t)=>!!(!e||t&&t<e),e3=(e,t)=>!!(!e||t&&t>e),e7=e=>e&&e.slice(0,7)||"",te=e=>e.toISOString().slice(0,10),tt=e=>e.toISOString().slice(0,7),ta=(e,t,a)=>{var{months:i}=e||{};if(!t||!i)return null;for(var s=[],r=0;r<a;r++){var n=new Date(t);n.setMonth(n.getMonth()+r),n&&s.push(n)}if(s&&s.length){var o=null;return s.forEach(e=>{var t=e7(e.toISOString()),a=i.get(t),s={lowUSD:a?.pricesUSD?.rangeLow,highUSD:a?.pricesUSD?.rangeHigh,lowDisplay:a?.pricesDisplay?.rangeLow,highDisplay:a?.pricesDisplay?.rangeHigh},r=e8(o?.lowUSD,s?.lowUSD),n=e3(o?.highUSD,s?.highUSD);o={lowUSD:r?s.lowUSD:o?.lowUSD,highUSD:n?s.highUSD:o?.highUSD,lowDisplay:r?s.lowDisplay:o?.lowDisplay,highDisplay:n?s.highDisplay:o?.highDisplay}}),o}return null},ti=e=>{if(!e)return null;var{items:t,percentiles:a,popularDates:i}=e,s=a&&new Map(a.map(e=>[e7(e?.startDate),{pricesUSD:e?.pricesUSD,pricesDisplay:e?.pricesDisplay}]));return{days:t&&new Map(t.map(e=>{var{date:t,priceUSD:a,priceDisplay:i}=e||{},r=e7(t),n=r&&s&&s.get(r)||null,o=n?.pricesUSD?.low;return t&&a?[t,{price:a,priceDisplay:i,low:!!(o&&Math.round(a/100)<Math.round(o/100))}]:null}).filter(Boolean)),months:s,popularDates:i,endDate:t?.length?t.reduce((e,t)=>e.date>t.date?e:t)?.date:null}};function ts(e,t){if(!e||!t)return null;var a=te(e),i=tt(e),s=t.days?.get(a),r=t.months?.get(i);return s&&r?s.price<=r.pricesUSD.rangeLow?"CHEAP":s.price>=r.pricesUSD.rangeHigh?"HIGH":s.price>r.pricesUSD.rangeLow&&s.price<r.pricesUSD.rangeHigh?"AVERAGE":null:null}function tr(e,t){return"CHEAP"===ts(e,t)}function tn(e,t){return"AVERAGE"===ts(e,t)}function to(e,t){return"HIGH"===ts(e,t)}var tl=e=>[e.string("sunday_52"),e.string("monday_52"),e.string("tuesday_52"),e.string("wednesday_52"),e.string("thursday_52"),e.string("friday_52"),e.string("saturday_52")],tp=e=>[e.string("common_day_sun_abbr"),e.string("common_day_mon_abbr"),e.string("common_day_tue_abbr"),e.string("common_day_wed_abbr"),e.string("common_day_thu_abbr"),e.string("common_day_fri_abbr"),e.string("common_day_sat_abbr")],th=(e,t)=>tp(t)[e],tc=(e,t)=>tl(t)[e],td=(e,t)=>{var a=e.getFullYear();switch(e.getMonth()){case 0:return t.string("common_month_year1",{0:a});case 1:return t.string("common_month_year2",{0:a});case 2:return t.string("common_month_year3",{0:a});case 3:return t.string("common_month_year4",{0:a});case 4:return t.string("common_month_year5",{0:a});case 5:return t.string("common_month_year6",{0:a});case 6:return t.string("common_month_year7",{0:a});case 7:return t.string("common_month_year8",{0:a});case 8:return t.string("common_month_year9",{0:a});case 9:return t.string("common_month_year10",{0:a});case 10:return t.string("common_month_year11",{0:a});case 11:return t.string("common_month_year12",{0:a});default:return t.string("common_month_year")}},tu={container:"FiSzx",wrapper:"rYbqD V",legend:"nGqGB",clickableIcon:"rhyVJ",explanation:"YORrA",link:"CXJym",legendDot:"htmVL",lowPrice:"iwlim",navBar:"WiWYg t",navButton:"oupgG c Wc _J",prev:"rZvCq",next:"fyUZp",disabledButton:"ECpab",months:"rujDD q c",monthsHrImproved:"RNUrK",monthDHM:"SmgvF",month:"sJwLz",monthDHMImprovementsWithoutPrice:"ttujL",monthDHMImprovementsWithPrice:"yrlQl",caption:"nuvkh c",hrHeatmapImproved:"DaZiq",week:"ZeumR u",weekdays:"CcMAv",weekdaysRow:"TAGfl",weekday:"OOihO",weekdayHrHeatmapImproved:"iCHzP u",largeDates:"vxVSB",weekend:"VnxeB",body:"SWwwt",day:"rJYai Vt Z1",dayCell:"WiccV",dayCellImprovementsWithoutPrice:"zSQsx u",dayCellImprovementsWithPrice:"MtbIX u",dayHeatMap:"ToDuh e u",withHeatMap:"ZxKNQ",heatmapImprovements:"CNtGv",monthHrImprovementsEnabled:"mPGxI",checkOutContainer:"tXUqa",rounded:"ZGlzW",checkInContainer:"MNzWi",today:"oFcdM",outside:"XimKR U",selected:"q",disabled:"q",dayCheaperPrice:"DDJau",dayAveragePrice:"rewuu",dayHigherPrice:"kMXBe",dayDate:"UWlOj",overflowBackground:"XLWUv",datepickerInlineMessageContainer:"JgfOd u Q2",conversationalFilterModalCalendar:"Z1"},tm=({weekday:e,className:t,localeUtils:a})=>{var i=[0,6].indexOf(e)>=0,s=C(),r=a.formatWeekdayShort(e,s).toUpperCase();return n("div",{className:em(t,{[tu.weekend]:i}),children:n("abbr",{title:a.formatWeekdayLong(e,s),children:r})})},tg=({weekday:e,localeUtils:t})=>{var a=C(),i=new Intl.DateTimeFormat(a,{weekday:"narrow",timeZone:"UTC"}).format(new Date(Date.UTC(0,0,e)));return n("div",{className:tu.weekdayHrHeatmapImproved,children:n("abbr",{title:t.formatWeekdayLong(e,a),children:i})})},tv=({onNextClick:e,onPreviousClick:t,showNextButton:a,showPreviousButton:i})=>o("div",{className:tu.navBar,children:[n("button",{className:em("ui_icon single-chevron-left",tu.navButton,tu.prev,{[tu.disabledButton]:!i}),"data-testid":"nav_prev","data-test-disabled":!i,onClick:()=>t&&t()}),n("button",{className:em("ui_icon single-chevron-right",tu.navButton,tu.next,{[tu.disabledButton]:!a}),"data-testid":"nav_next",onClick:()=>e&&e()})]}),tD=({calendarDisplayOptions:e,largeDates:t,shouldShowYellowBricks:a,showHeatMap:i,onDayClick:s,onDayMouseEnter:l,onDayMouseLeave:p,onMonthChange:c,inConversationalFilter:d,heatmapImprovementsVariant1:u,heatmapImprovementsVariant2:m,hrHeatmapImprovementEnabled:g})=>{var v,D=eg(),{localize:k}=f(),C={...eE.LocaleUtils,formatWeekdayShort:e=>ez.formatWeekdayShort(e,k),formatWeekdayLong:e=>ez.formatWeekdayLong(e,k),formatMonthTitle:e=>ez.formatMonthTitle(e,k)},{params:y}=eD(),b="detailId"in y&&y.detailId||void 0,I="geoId"in y&&y.geoId||0,{heatMap:P,isCheckin:S}=e;i&&(v=u?{month:`${tu.monthDHMImprovementsWithoutPrice} ${g?tu.monthHrImprovementsEnabled:""}`,day:tu.dayCellImprovementsWithoutPrice,months:em(tu.months,{[tu.monthsHrImproved]:g})}:m?{month:`${tu.monthDHMImprovementsWithPrice} ${g?tu.monthHrImprovementsEnabled:""}`,day:tu.dayCellImprovementsWithPrice,months:`${tu.months} ${g?tu.monthsHrImproved:""}`}:{month:tu.monthDHM,day:tu.dayCell,months:tu.months});var _={interactionDisabled:"",navButtonInteractionDisabled:"",navButtonNext:"",navButtonPrev:""},M={..._,...tu,...v,container:em(tu.checkInContainer,{[tu.conversationalFilterModalCalendar]:d}),body:`${tu.body} notranslate`},w={..._,...tu,...v,container:em(tu.checkOutContainer,{[tu.conversationalFilterModalCalendar]:d}),body:`${tu.body} notranslate`},E=h(()=>!i&&a?e.modifiers:{...e.modifiers,low:()=>!1},[e,i,a]),T=h(()=>{if(i&&!a&&P)return e=>{var t,a=i&&em(tu.dayHeatMap,{[tu.rounded]:u||m,[tu.dayCheaperPrice]:tr(e,P),[tu.dayAveragePrice]:!m&&tn(e,P),[tu.dayHigherPrice]:!m&&(to(e,P)||(t=te(e),!P.days?.get(t)&&!!P.endDate&&t<=P.endDate))}),s=te(e),r=P.days?.get(s);return o("div",{className:a,children:[n("div",{className:tu.dayDate,children:e.getDate()}),m&&r?.priceDisplay&&n(eT,{variant:"supporting-02",color:"inherit",children:r.priceDisplay}),(u||m)&&n("div",{className:tu.overflowBackground})]})}},[P,i,a,u,m]);return n("div",{className:em({[tu.largeDates]:t,[tu.withHeatMap]:!!P,[tu.heatmapImprovements]:u||m||g,[tu.hrHeatmapImproved]:g}),children:n("div",{className:"f v _Y G",children:n(eK,{classNames:S?M:w,navbarElement:tv,weekdayElement:g?tg:tm,localeUtils:C,containerProps:{"data-testid":"day_picker"},onMonthChange:c,...e,numberOfMonths:e.numberOfMonths,month:e.month,modifiers:E,renderDay:T,onDayClick:(t,a,n)=>{var o={},l=0===n.detail,p=document.activeElement;!l&&p&&p.blur(),s(t,a,n),i&&P?tr(t,P)?o.priceFlag="cheap":tn(t,P)?o.priceFlag="avg":to(t,P)?o.priceFlag="high":o.priceFlag="heatmapNoData":o.priceFlag="generalCalendar",e.modifiers.start&&(o.checkIn=r(e.modifiers.start,{representation:"date"})),e.modifiers.end&&(o.checkOut=r(e.modifiers.end,{representation:"date"})),D({actionType:"click",actionSubType:"setHotelDates",geoId:I,itemName:S?"hotelCheckinDate":"hotelCheckoutDate",locationId:b,team:"Hotels",customData:{...o}})},onDayMouseEnter:(e,t,a)=>{i&&l(e,t,a)},onDayMouseLeave:(e,t,a)=>{i&&p(e,t,a)}})})})},tk={heatMapLegendItemBox:"bWqTr",heatMapLegendItemBoxCheaper:"Wjavz",heatMapLegendItemBoxAverage:"XoAOY",heatMapLegendItemBoxHigher:"YAJMq",heatMapLegendItem:"VnPwV f v G u",heatMapLegendItemImprovement:"NHlsP f v G u Ph PW Pu PI",heatMapLegendItems:"f v G u"},tf=({heatmapImprovementsVariant1:e,heatmapImprovementsVariant2:t})=>e||t?o("div",{className:tk.heatMapLegendItems,children:[n("div",{className:em(tk.heatMapLegendItemImprovement,tk.heatMapLegendItemBoxCheaper),children:n(eT,{variant:"supporting-02",color:"primaryText",children:e?n(k,{id:"hotels_price_heatmap_cheaper"}):n(k,{id:"hotels_price_heatmap_cheaper_than_average"})})}),e&&o(l,{children:[n("div",{className:em(tk.heatMapLegendItemImprovement,tk.heatMapLegendItemBoxAverage),children:n(eT,{variant:"supporting-02",color:"primaryText",children:n(k,{id:"hotels_price_heatmap_average"})})}),n("div",{className:em(tk.heatMapLegendItemImprovement,tk.heatMapLegendItemBoxHigher),children:n(eT,{variant:"supporting-02",color:"primaryText",children:n(k,{id:"hotels_price_heatmap_higher"})})})]})]}):o("div",{className:tk.heatMapLegendItems,children:[o("div",{className:tk.heatMapLegendItem,children:[n("div",{className:em(tk.heatMapLegendItemBox,tk.heatMapLegendItemBoxCheaper)}),n(eT,{variant:"supporting-01",children:n(k,{id:"hotels_price_heatmap_cheaper"})})]}),o("div",{className:tk.heatMapLegendItem,children:[n("div",{className:em(tk.heatMapLegendItemBox,tk.heatMapLegendItemBoxAverage)}),n(eT,{variant:"supporting-01",children:n(k,{id:"hotels_price_heatmap_average"})})]}),o("div",{className:tk.heatMapLegendItem,children:[n("div",{className:em(tk.heatMapLegendItemBox,tk.heatMapLegendItemBoxHigher)}),n(eT,{variant:"supporting-01",children:n(k,{id:"hotels_price_heatmap_higher"})})]})]}),tC={footer:"gizUp Ci",footerWithAvgPrices:"VjlZw",inConversationalFilter:"sSryB",popular_dates:"otuZF H3",popular_dates_label:"CLWVt",popular_dates_range:"LZVmy",heatMapFooter:"cqUAg f u",heatMapFooterHrImprovedVariant1:"oDZUT f u",heatMapFooterHrImprovedVariant2:"LHRkm f u",heatMapFooterInline:"CQEAH",heatMapFooterLegendText:"TfIQi f u",heatMapFooterCenter:"rTcub",heatMapFooterLegendTextCenter:"wGwqL",legendBelow:"qpkeB",noBorder:"nJUDO",noMargin:"kTfdv",noPaddingTop:"RtvTA",barContainer:"gytJk",legendAndPrice:"ZtxoL f",avgPrice:"LSPhG"},ty=({heatMap:e,legend:t,month:a,numberOfMonths:i,onPopularDatesClick:s,showHeatMapLegend:r,showHeatMapLegendItems:p,showLegendBelowDates:h,popularDatesSuggestionEnabled:c,popularDates:d,inConversationalFilter:u,heatmapImprovementsVariant1:m,heatmapImprovementsVariant2:g,hrHeatmapImprovementEnabled:v})=>{var{localize:D}=f(),k=ta(e,a,i),C=k?.lowDisplay,y=k?.highDisplay,b=!!e&&!!e.popularDates&&e.popularDates.length>0,I=m||g;return o(l,{children:[!r&&b&&o("div",{className:tC.popular_dates,"data-testid":"popular-dates-footer",children:[o("span",{className:tC.popular_dates_label,children:[D("select_from_pop_dates")," "]}),e&&e.popularDates&&e.popularDates.map(e=>n(A,{element:"span",click:{module:"datepicker",action:"popular_dates_click"},children:n("span",{className:tC.popular_dates_range,onClick:()=>s(e),"data-testid":"popular-date",children:D("oracle_date_range",{checkIn:e.checkInShort,checkOut:e.checkOutShort})})},`popularDates_${e.checkInShort}_${e.checkOutShort}`))]}),r&&o("div",{className:em(tC.footer,tC.heatMapFooter,{[tC.heatMapFooterCenter]:!v&&(!p||I),[tC.inConversationalFilter]:u,[tC.noBorder]:c||v,[tC.noMargin]:I,[tC.noPaddingTop]:I&&c,[tC.heatMapFooterInline]:g,[tC.heatMapFooterHrImprovedVariant1]:v&&m,[tC.heatMapFooterHrImprovedVariant2]:v&&g}),"data-testid":"heatmap-legend-footer",children:[p&&n(ej,{heatmapImprovementsVariant1:m,heatmapImprovementsVariant2:g}),n("div",{className:em(tC.heatMapFooterLegendText,{[tC.heatMapFooterLegendTextCenter]:!p||I,[tC.noMargin]:g}),children:n(eT,{variant:I?"supporting-02":"supporting-01",color:I?"primaryText":void 0,children:I?D("hsx_heatmap_improvements_based_average"):D("hotels_average_prices_for_one_night_stay")})})]}),!r&&C&&y?n("div",{className:em(tC.footer,{[tC.footerWithAvgPrices]:!!e&&h}),"data-testid":"average-prices-footer",children:o("div",{className:tC.legendAndPrice,children:[e&&h?n("div",{className:tC.legendBelow,children:t}):null,n("div",{className:tC.avgPrice,children:n("span",{dangerouslySetInnerHTML:{__html:D.string("price_heatmap_avg_daily_rates_range",{0:C,1:y})}})})]})}):null,c&&o(l,{children:[n(eO,{marginX:I?void 0:"spacing-03"}),n("div",{className:tC.barContainer,children:n(eH,{popularDates:d,isBottomVariant:!0})})]})]})},tb={header:"MjHry Cj b",headerTacticsPopDates:"LeCxi",headerHeatmapImprovements:"puzqg",hrHeaderHeatmapImprovements:"OLhsf",headerDatePickerImprovements:"QqhSf",headerPopularDates:"SFVKS f v u",headerPopularDatesTop:"dWypj",popularDatesHeaderText:"KaCIc f",datepickerInlineMessageContainer:"YjGKV f u",alignLeft:"UgzPX",inlineMessageHeatmapImprovements:"aGVGP",barContainer:"cZOrb"},tI=({datepickerTacticsInlineMessageEnabled:e,isMobile:t,popularDatesSuggestionEnabled:a,popularDatesSuggestionTop:i,popularDates:s,heatmapImprovementsEnabled:r,datePickerImprovementsEnabled:l,hrHeatmapImprovementsEnabled:p})=>!a&&(p||e||l)?o("div",{className:em(tb.datepickerInlineMessageContainer,{[tb.inlineMessageHeatmapImprovements]:r&&!p,[tb.alignLeft]:p}),children:[n(eU,{size:r?16:18,color:"primaryIcon",marginRight:"spacing-02"}),n(eT,{variant:t?"supporting-03":"title-05",children:n(k,{id:"hotels_calendar_messaging"})})]}):a?o("div",{className:em(tb.headerPopularDates,{[tb.headerPopularDatesTop]:i}),children:[!i&&n(eU,{size:18,color:"primaryIcon",marginRight:"spacing-02"}),n("div",{className:tb.popularDatesHeaderText,children:n(eT,{variant:t||i&&!t?"supporting-03":"title-05",children:i&&!t?n(k,{id:"hsx_popular_dates_datepicker_message"}):n(k,{id:"hotels_calendar_messaging"})})}),i&&n("div",{className:tb.barContainer,children:n(eH,{popularDates:s,isTopVariant:!0,isNonLithium:!0})})]}):n(k,{id:"mob_popped_calendar_cta"}),tP=({hasHeatMap:e,legend:t,showHeatMap:a,showLegendBelowDates:i})=>e&&!i&&!a&&t?t:null,tS=({children:e,datepickerTacticsInlineMessageEnabled:t,headerRef:a,heatmapImprovementsEnabled:i,popularDatesSuggestionEnabled:s,datePickerImprovementsEnabled:r,hrHeatmapImprovementsEnabled:o})=>n("div",{className:em(tb.header,{[tb.headerTacticsPopDates]:t||s,[tb.headerHeatmapImprovements]:i,[tb.hrHeaderHeatmapImprovements]:o,[tb.headerDatePickerImprovements]:r}),ref:a,children:e}),t_=({datepickerTacticsInlineMessageEnabled:e,hasHeatMap:t,headerRef:a,isMobile:i,legend:s,showHeatMap:r,showLegendBelowDates:l,popularDatesSuggestionEnabled:p,popularDatesSuggestionTop:h,popularDates:c,heatmapImprovementsEnabled:d,datePickerImprovementsEnabled:u,hrHeatmapImprovementsEnabled:m})=>o(tS,{headerRef:a,datepickerTacticsInlineMessageEnabled:e,heatmapImprovementsEnabled:d,popularDatesSuggestionEnabled:p,datePickerImprovementsEnabled:u,hrHeatmapImprovementsEnabled:m,children:[n(tI,{datepickerTacticsInlineMessageEnabled:e,isMobile:i,popularDatesSuggestionEnabled:p,popularDatesSuggestionTop:h,popularDates:c,heatmapImprovementsEnabled:d,datePickerImprovementsEnabled:u,hrHeatmapImprovementsEnabled:m}),n(tP,{hasHeatMap:t,showLegendBelowDates:l,showHeatMap:r,legend:s})]}),tM=({calendarDisplayOptions:e,setStayDates:t,largeDates:a,closePicker:i,heatmapDatepickerEnabled:s,inConversationalFilter:r,datepickerTacticsEnabled:l,popularDatesTopVariant:p,popularDatesBottomVariant:h,popularDatesBottomNewLabelVariant:c,popularDatesBottomOldLabelVariant:v,suppressCalendarHeader:D,onDayClick:k,onDayMouseEnter:C,onDayMouseLeave:y,setLastMonth:b,heatmapImprovementsVariant1:I,heatmapImprovementsVariant2:P,hrHeatmapImprovementEnabled:S})=>{var[_,M]=d(e.month),{heatMap:w,legend:E,numberOfMonths:T}=e,O=!!w,{enabled:H}=Q(),L=ew(),{page:N}=eD(),U=u(null),R=u(null),[A,x]=d(0),[F,V]=d(!1),B=m(ed),{localize:W}=f();g(()=>{b(e.month)},[]),g(()=>{var e=U?.current?.getBoundingClientRect().top,t=R?.current?.getBoundingClientRect().height;e&&t&&x(e-t-56)},[U,R]),g(()=>{0!==A&&F&&(B.current?.scrollTo({top:A}),V(!1))},[A,B,F]);var G=O&&s,z=!G&&!("HotelsList"===N||"HotelsNear"===N),K=eL(),q=h||c||v,j=eN(t,i,W,K,c||v,c);return n("div",{className:"f",children:o("div",{className:em("ELrBW F1",{GpoOm:h,DbTce:G&&!z&&I,SYIrr:G&&!z&&P,Ra:G&&!z&&(I||P)}),children:[!D&&n(eY,{datepickerTacticsInlineMessageEnabled:!0===l,hasHeatMap:O,headerRef:R,isMobile:"MOBILE"===L,legend:E,popularDates:j,showHeatMap:G,showLegendBelowDates:!!H,popularDatesSuggestionEnabled:p||h,popularDatesSuggestionTop:p,heatmapImprovementsEnabled:I||P,hrHeatmapImprovementsEnabled:S,datePickerImprovementsEnabled:H}),n(eq,{calendarDisplayOptions:e,largeDates:!!a,shouldShowYellowBricks:z,showHeatMap:G,onDayClick:k,onDayMouseEnter:C,onDayMouseLeave:y,onMonthChange:e=>{b(e),M(e)},inConversationalFilter:r,heatmapImprovementsVariant1:I,heatmapImprovementsVariant2:P,hrHeatmapImprovementEnabled:S}),n(eQ,{heatMap:G||z?w:null,legend:E,month:_,numberOfMonths:T,onPopularDatesClick:e=>{var a=eM(e.checkIn),s=eM(e.checkOut);a&&s&&(t(a,s),i(!1,!1))},showHeatMapLegend:G,showHeatMapLegendItems:G,showLegendBelowDates:!!H,popularDatesSuggestionEnabled:q,popularDates:j,inConversationalFilter:r,heatmapImprovementsVariant1:I,heatmapImprovementsVariant2:P,hrHeatmapImprovementEnabled:S})]})})},tw=e=>n(ek,{component:ef.travel_info_picker_date,enabled:ea(),children:n(tM,{...e})}),tE=({showPriceExplanation:e})=>{var{localize:t}=f();return o("div",{className:tu.legend,children:[n("span",{className:em(tu.legendDot,tu.lowPrice)})," ",t("price_heatmap_lowest_prices_2")," ",e&&n("div",{className:tu.explanation,children:`${t.string("price_heatmap_lowest_prices_explanation")} `})]})};function tT(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var tO={overlay_clickout:"qATVW _Q l Y",closeCircular:"zExJM _Q",close:"dJQaI _Q c _S B- Wc y _J"};function tH(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var tL=(e,t)=>e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||t.clientHeight)&&e.right<=(window.innerWidth||t.clientWidth),tN=(e,t,a)=>{if(G("mw_datepicker_scroll_into_view")&&!a&&e&&document&&document.documentElement){var{documentElement:i}=document;tL(e.getBoundingClientRect(),i)||(window.scrollTo({behavior:"smooth",top:t}),R({module:"datepicker",action:"mw_datepicker_scroll"}))}},tU=e=>{var{enabled:t}=Y();return n(eF,{...e,tabbedLayoutEnabled:t})},tR={trip_search_body:"GqoPg q c",picker_label_icon:"sBpHF"},tA={label:"wQNLv o b PR",icon:"Mksha Nd",ticker:"imCzB _m c q B1 Z R2",control:"OoDeI",inactive:"rRIPM",tickerLabel:"zqdcI"};function tx(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var tF={container:"TBvBV",label:"jbaHy",option:"MwApI _R Wc Wh _m _S Z R2 Nc Cj",error:"oNmZV",optionLabel:"urOgU",dropdown:"QTOPt Z R2",optionsContainer:"glHOV _g _f Z",openClose:"HEcuY t"};function tV(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var tB={container:"dHAPm S4 z",picker:"Mf",agesWrap:"dafmJ Mf Z _V",buttonWrap:"Mf",noScroll:"iuvpS"};function tW(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var tG=e=>{var{localize:t}=f(),a=eg(),i=eD();return n(ek,{component:ef.travel_info_picker_guest,enabled:ea(),children:n(eB,{...e,localize:t,interactionV3Logger:a,route:i})})},tz={US:"Qokdp+Qniawzg2b45M0PaMZ8NARDkdsTtdg/TDeat1qSk5TqF/vH1v95NfokxDui",ROW:"Qokdp+Qniawzg2b45M0PaMZ8NARDkdsTtdg/TDeat1oKOeYp190sxqUdFy/B2qLb"},tK={US:"Qokdp+Qniawzg2b45M0PaGHBK6p/I4DqCgnsEJHa9YK5Q5x1c7s1S/MO9R0OFHhs",ROW:"Qokdp+Qniawzg2b45M0PaGHBK6p/I4DqCgnsEJHa9YI/1uDFSgh96qOYt1U9P+CS"};function tq(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var tj="calendar_in_view",tQ="RPG_in_view",tY="skipGuestsAutoAdvance",tJ=e=>{var{isVariant1Enabled:t,isVariant2Enabled:a}=J(),i=$(),{enabled:s,isVariant1Enabled:r,isVariant2Enabled:o}=X(),l=Z()||s,{isTopVariant:p,isBottomVariant:h,isBottomSEOldLabelVariant:c,isBottomSENewLabelVariant:d}=ee(),u=et(),{localize:m}=f(),g=y(),v=C(),D=ea(),{isWebview:k}=j(),b="en-US"===v,I=b?tz.US:tz.ROW,P=b?tK.US:tK.ROW,S=e2.useIncrementCallback(I),_=e5.useIncrementCallback("Qokdp+Qniawzg2b45M0PaGHBK6p/I4DqCgnsEJHa9YJDY1GDNhYWzC0K+L7EoDHMWOKe9M75ROrX5IJkEXYe5Q==",P),M=e5.useIncrementCallback("Qokdp+Qniawzg2b45M0PaGHBK6p/I4DqCgnsEJHa9YJDY1GDNhYWzC0K+L7EoDHM20wHSm1FMaKyxCHj3l3HIA==",P),w=e5.useIncrementCallback("Qokdp+Qniawzg2b45M0PaGHBK6p/I4DqCgnsEJHa9YI0t2Xuciv1nl6XHPRglmS3qlBjSVo/p3hjB/eF+igRrg==",P);return n(eW,{isWebview:k,heatmapDatepickerEnabled:l,cupidHeroTestMWEnabled:e.cupidHeroTestMWEnabled,datepickerTacticsEnabled:e.datepickerTacticsEnabled,popularDatesTopVariant:p,popularDatesBottomVariant:h,popularDatesBottomNewLabelVariant:d,popularDatesBottomOldLabelVariant:c,heatmapImprovementsVariant1:i||t||r,heatmapImprovementsVariant2:a||o,hrHeatmapImprovementEnabled:s,localize:m,globalize:g,isNewDateFormatAllowed:u,incrementDateUpdateMetric:D?S:void 0,incrementPickerOpenMetricCheckin:D?_:void 0,incrementPickerOpenMetricCheckout:D?M:void 0,incrementPickerOpenMetricRoomsGuests:D?w:void 0,...e})};return[()=>{eR=class extends p{render(){return this.props.children(ti(this.props.data))}},eG=x((e,t)=>{var a=t(e?.route?.page==="Hotel_Review"&&e.page.detailId?`/data/1.0/hotelDetail/${e.page.detailId}/heatMap`:`/data/1.0/hotelOracle/${e.page.geoId}/heatMap`);return()=>({data:a&&a.get().data})})(eR),ez={...eE.LocaleUtils,formatWeekdayShort:th,formatWeekdayLong:tc,formatMonthTitle:td},eK=c(eE),eq=tD,ej=tf,eQ=ty,eY=t_,eJ=tw,tE.defaultProps={showPriceExplanation:!1,fullWidth:!0},e$=tE,eA=class{constructor(e,t,a,i){tT(this,"startDate",void 0),tT(this,"endDate",void 0),tT(this,"isStartDate",void 0),tT(this,"validation",void 0),tT(this,"numMonths",1),tT(this,"getCalendarDisplayOptions",()=>{}),this.startDate=e,this.endDate=t,this.isStartDate=a,this.validation=i}},ex=class extends eA{constructor(e,t,a,i,s,r,o,l,p,h,c,d){super(e,t,a,i),tT(this,"numMonthsDesktop",2),tT(this,"numMonthsMobile",1),tT(this,"numMonths",void 0),tT(this,"isMobile",void 0),tT(this,"heatMap",void 0),tT(this,"legend",void 0),tT(this,"applyCalendarEndingStyles",void 0),tT(this,"firstDayOfWeek",void 0),tT(this,"geoTimezone",void 0),tT(this,"isIEorEdge",void 0),tT(this,"checkoutInitialMonth",void 0),tT(this,"getCalendarDisplayOptions",()=>({fixedWeeks:!1,numberOfMonths:this.numMonths,fromMonth:this.getMinEnabledDate(),toMonth:this.getMaxEnabledDate(),month:this.getInitialMonth(),isCheckin:this.isStartDate,modifiers:this.getCalendarModifiers(),heatMap:this.heatMap,legend:this.legend,firstDayOfWeek:this.firstDayOfWeek})),tT(this,"adjustToFirstBookableDateForGeo",(e,t,a,i)=>{try{if(e&&t&&!a)return new Date(i?new Date().toLocaleString("en-US",{timeZone:t}):e.toLocaleString("en-US",{timeZone:t}))}catch(e){}return e}),tT(this,"getMinEnabledDate",()=>{var e=new b,t=this.startDate&&new b(this.startDate),a=this.isStartDate?e:(t||e).relativeDay(1);return this.adjustToFirstBookableDateForGeo(a.date,this.geoTimezone,this.isIEorEdge,this.isStartDate)}),tT(this,"getMaxEnabledDate",()=>{var e=new b,t=this.startDate&&new b(this.startDate);return(this.isStartDate||!t||t.relativeDay(this.validation.maxStayLength).compare(e.relativeDay(this.validation.maxStayDistance))>=0?e.relativeDay(this.validation.maxStayDistance):t.relativeDay(this.validation.maxStayLength)).date}),tT(this,"getInitialMonth",()=>{if(this.isStartDate)return this.startDate||this.endDate||new Date;if(this.checkoutInitialMonth)return this.checkoutInitialMonth;var e=this.numMonths-1,t=new b(this.startDate).thisMonth(),a=new b(this.endDate).thisMonth();return(0>t.relativeMonth(e).compare(a)?a.relativeMonth(-e):t).date}),tT(this,"isLowPrice",e=>{if(e instanceof Date){var t=e.toISOString().slice(0,10),a=t&&this.heatMap&&this.heatMap.days&&this.heatMap.days.get(t)||void 0;return!!a?.low}return!1}),tT(this,"isSelected",e=>e instanceof Date&&void 0!==this.startDate&&void 0!==this.endDate&&e>=this.startDate&&e<=this.endDate),tT(this,"isSameDay",(e,t)=>null!=e&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()),tT(this,"isStartDateOrFirstInLine",e=>{if(e instanceof Date){if(this.isSameDay(this.startDate,e))return!0;if(this.isSelected(e))return 1===e.getDate()||e.getDay()===this.firstDayOfWeek}return!1}),tT(this,"isLastDayOfMonth",e=>{var t=new Date(e);return t.setDate(t.getDate()+1),1===t.getDate()}),tT(this,"isEndDateOrLastInLine",e=>{if(e instanceof Date){if(this.isSameDay(this.endDate,e))return!0;if(this.isSelected(e)){var t=(this.firstDayOfWeek+6)%7;return e.getDay()===t||this.isLastDayOfMonth(e)}}return!1}),tT(this,"getCalendarModifiers",()=>({start:this.applyCalendarEndingStyles?this.isStartDateOrFirstInLine:this.startDate,end:this.applyCalendarEndingStyles?this.isEndDateOrLastInLine:this.endDate,...this.startDate&&this.endDate&&{selected:{from:this.startDate,to:this.endDate}}||void 0,disabled:{before:this.getMinEnabledDate(),after:this.getMaxEnabledDate()},low:this.isLowPrice,noClick:void 0})),this.isMobile=s,this.numMonths=this.isMobile?this.numMonthsMobile:this.numMonthsDesktop,this.heatMap=o,this.legend=l||n(e$,{}),this.applyCalendarEndingStyles=null!=p&&p,this.firstDayOfWeek=null==r?0:r,this.geoTimezone=h,this.isIEorEdge=c,this.checkoutInitialMonth=d}},eF=class extends p{componentDidMount(){F("cookie-banner").on("banner-shown",this.updateCount),this.setState({isOpen:!0})}componentWillUnmount(){!this.props.preventCloseOnUnmount&&(F("cookie-banner").off("banner-shown",this.updateCount),this.props.close&&this.props.close(!0)),this.setState({isOpen:!1})}getPositionProps(){return this.props.overlayPositionOptions?this.props.overlayPositionOptions:this.props.popAbove?this.props.isMobile?{position:"above",shiftY:-6,alignEdge:"windowX"}:{position:"above",shiftY:-6,animated:this.props.animated,alignEdge:"left",shiftX:-77}:this.props.isMobile?{position:"below",shiftY:6,alignEdge:"windowX"}:this.props.horizontal?{position:"rightOf",alignEdge:"top",shiftX:4,shiftY:-72,animated:this.props.animated}:{position:"below",shiftY:6,animated:this.props.animated}}renderClose(){var e=!0===this.props.datepickerTacticsEnabled,t=!0===this.props.isPopularDatesEnabled,a=e||t;return a?n("div",{className:tO.closeCircular,children:n(ep,{variant:a?"clear":"clear-on-dark",icon:eh,"aria-label":"Close",size:"small",onClick:()=>this.props.close()})}):n("button",{className:tO.close,onClick:this.props.close})}render(){var{target:e,close:t,children:a,isMobile:i,showClosingX:s,fixed:r,wasAutopopped:l,isDetailPage:p,hideOverlayArrow:h,isAboveOverlay:c,cupidHeroTestMWEnabled:d,isCupidExperience:u,autoFocus:m,inConversationalFilter:g,paddingX:v}=this.props,D=i?n("div",{style:{top:this.getTop()},className:tO.overlay_clickout,onClick:t}):null,k=this.getArrowColor(),f=this.renderClose(),C=s?f:null;return o(es,{events:["onClick","onTouchStart"],children:[D,n(ei,{onChange:e=>{e||t()},onRef:e=>{!i||p&&l||this.state.isOpen||tN(e,this.getTop(),d&&u)},threshold:this.IN_VIEW_OFFSET,children:t=>h?g?n(eu,{inline:"div",backButtonPosition:"left",backButton:n(ep,{variant:"clear",icon:ec,size:"small","aria-label":"Go back",onClick:()=>this.props.close()}),closeButtonPosition:"none",variant:"variable-height",children:n("div",{ref:t,"data-test-target":"trip-search-open",children:a})}):o("div",{ref:t,"data-test-target":"trip-search-open",children:[C,a]}):n(el,{target:e,paddingX:void 0!==v?v:16,paddingY:16,minWidth:288,zIndex:c?10105:9991,fixed:!!r,...this.getPositionProps(),shouldRestoreFocus:this.props.shouldRestoreFocus,color:k,autofocus:m,arrowType:this.props.isDatepickerImprovements?"none":void 0,isShadowBoxRounded:this.props.isRoundedDatepicker,isUpdatedOnScroll:this.props.isUpdatedOnScroll,children:o("div",{ref:t,"data-test-target":"trip-search-open",children:[C,a]})})}),n(er,{keyName:"Escape",callback:()=>t()}),n(en,{event:"click",callback:()=>t()})]})}constructor(e){super(e),tH(this,"calculateTopOffset",()=>this.props.tabbedLayoutEnabled&&document.getElementById(eo)?.getBoundingClientRect().height||0),tH(this,"getTop",()=>this.props.target.getBoundingClientRect().top-8+window.pageYOffset-this.calculateTopOffset()||0),tH(this,"updateCount",()=>{this.setState({count:this.state.count+1})}),tH(this,"IN_VIEW_OFFSET",200),tH(this,"getArrowColor",()=>{var{datepickerTacticsEnabled:e,isRoundedDatepicker:t,isPopularDatesEnabled:a}=this.props;return e&&!t||a?"secondary":"default"}),this.state={count:0,isOpen:!1}}},tH(eF,"defaultProps",{autoFocus:!0}),tU.DrgOverlay=eF,eX=tU,eV=class extends p{render(){var{label:e,min:t,max:a,value:i,icon:s,testTarget:r}=this.props,p=i<=t,h=i>=a;return o(l,{children:[o("div",{className:tA.ticker,"data-test-target":r?`ticker-${r}`:null,"data-automation":r,children:[n("button",{onClick:p?void 0:this.decrement,className:em(tA.control,{[tA.inactive]:p}),"data-test-target":r?`ticker-minus-${r}`:null,"data-test-disabled":p,"data-automation":r?`${r}Less`:null,children:n(eC,{name:"minus"})}),n("span",{className:tA.tickerLabel,"data-test-target":r?`ticker-label-${r}`:null,"data-automation":r?`${r}Num`:null,children:i}),n("button",{onClick:h?void 0:this.increment,className:em(tA.control,{[tA.inactive]:h}),"data-test-target":r?`ticker-plus-${r}`:null,"data-test-disabled":h,"data-automation":r?`${r}More`:null,children:n(eC,{name:"plus"})})]}),o("div",{className:tA.label,children:[s?n(eC,{name:s,className:tA.icon}):null,e]})]})}constructor(...e){super(...e),tx(this,"tick",e=>{var{value:t,onChange:a}=this.props;a&&a(t+e)}),tx(this,"increment",this.tick.bind(this,1)),tx(this,"decrement",this.tick.bind(this,-1))}},tx(eV,"defaultProps",{min:0}),eZ=eV,e0=class extends p{renderOverlay(e){var t=this,{min:a,max:i,value:s,isOpen:r,getOptionLabel:l,onClose:p,fixed:h}=this.props;if(!r||!e)return null;for(var c=[],d=function(e){c.push(o("button",{className:tF.option,onClick:()=>t.selectOption(e),children:[s===e?n(eC,{name:"checkmark"}):null,n("span",{className:tF.optionLabel,children:l(e)})]},e))},u=a;u<=i;u++)d(u);return n(es,{events:["onClick","onTouchStart"],children:o(eb,{target:e,position:"below",arrowType:"none",shiftY:-38,shouldRestoreFocus:!0,fixed:h,children:[o("div",{className:tF.dropdown,children:[o("div",{className:tF.option,onClick:p,children:[n("span",{className:tF.optionLabel,children:l(s)}),n(eC,{name:"caret-up",className:tF.openClose})]}),n("div",{className:tF.optionsContainer,children:c})]}),n(en,{event:"click",callback:p})]})})}renderPicker(e){var{label:t,value:a,getOptionLabel:i,showErrors:s,onOpen:r,name:l}=this.props,p=s&&!this.isValid();return o("div",{className:em(tF.container,{[tF.error]:p}),children:[n("span",{className:tF.label,children:t}),o("button",{className:tF.option,onClick:e=>{r(),e.stopPropagation()},ref:e,"data-automation":l,children:[n("span",{className:tF.optionLabel,children:i(a)}),n(eC,{name:"caret-down",className:tF.openClose,dataProps:l?{"data-automation":`${l}Caret`}:{}})]})]})}render(){return n(ey,{children:(e,t)=>o(l,{children:[this.renderPicker(e),this.renderOverlay(t)]})})}constructor(...e){super(...e),tV(this,"selectOption",e=>{this.props.onSelect(e)&&this.props.onClose()}),tV(this,"isValid",()=>{var{min:e,max:t,value:a}=this.props;return null!=a&&E(a,e,t)})}},eB=class extends p{componentDidUpdate(e){this.props.fixed!==e.fixed&&this.clearSelectedAgePicker()}clearSelectedAgePicker(){this.setState({selectedAgePicker:null})}renderAgePickers(){var{selectedAgePicker:e,showErrors:t,guestInfo:{children:a}}=this.state,{MIN_CHILD_AGE:i,MAX_CHILD_AGE:s}=this.props.guestValidation.limits,{fixed:r}=this.props;return a?a.map((a,o)=>{var l=this.props.localize.string("airm_child_ba9",{0:o+1});return n("div",{className:tB.picker,children:n(e0,{min:i,max:s,value:a,label:l,getOptionLabel:this.getDropdownLabel,isOpen:o===e,onOpen:()=>this.onAgePickerClick(o),onClose:()=>this.onAgePickerClick(null),onSelect:e=>this.onAgeChange(o,e),showErrors:t||this.props.showGuestErrors,fixed:r,name:`child${o}`})},o)}):null}render(){var{rooms:e,adults:t,children:a}=this.state.guestInfo,{MIN_ROOMS:i,MAX_ROOMS:s,MIN_ADULTS:r,MAX_ADULTS:l,MIN_CHILDREN:p,MAX_CHILDREN:h}=this.props.guestValidation.limits,c=null!=this.state.selectedAgePicker&&a&&a.length>4;return o("div",{className:tB.container,onClick:()=>this.onAgePickerClick(null),children:[n("div",{className:tB.picker,children:n(eZ,{label:this.props.localize.string("mobile_sherpa_rooms_ffffeaf4"),icon:"hotels",value:e,min:i,max:s,onChange:this.onRoomsChange,testTarget:"rooms"})}),n("div",{className:tB.picker,children:n(eZ,{label:this.props.localize.string("mobile_sherpa_guests_ffffeaf4"),icon:"users",value:t,min:r,max:l,onChange:this.onAdultsChange,testTarget:"adults"})}),n("div",{className:tB.picker,children:n(eZ,{label:this.props.localize.string("common_children"),icon:"children",value:a.length,min:p,max:h,onChange:this.onChildrenChange,testTarget:"children"})}),a&&a.length?n("div",{className:em(tB.agesWrap,{[tB.noScroll]:c}),children:this.renderAgePickers()}):null,n("div",{className:tB.buttonWrap,"data-automation":"guestsUpdateBtn",children:o(ev,{type:"primary",size:"fullwidth",onClick:this.onSubmit,children:[this.props.localize("com_mc_update")," "]})})]})}constructor(e){super(e),tW(this,"onChange",e=>{var t={...this.state.guestInfo,...e},a=this.props.guestValidation.validate(t,this.state.guestInfo);this.setState({guestInfo:a})}),tW(this,"onRoomsChange",e=>{R({module:"guestpicker",action:"click",context:"change_rooms"}),this.onChange({rooms:e})}),tW(this,"onAdultsChange",e=>{R({module:"guestpicker",action:"click",context:"change_adults"}),this.onChange({adults:e})}),tW(this,"onChildrenChange",e=>{R({module:"guestpicker",action:"click",context:"change_children"});var{children:t}=this.state.guestInfo;this.onChange({children:Array(e).fill(-1).map((e,a)=>t.length>a?t[a]:e)})}),tW(this,"onAgeChange",(e,t)=>{var{children:a}=this.state.guestInfo;return(a=a.slice())[e]=t,this.onChange({children:a}),!0}),tW(this,"onAgePickerClick",e=>{this.setState({selectedAgePicker:e})}),tW(this,"onSubmit",()=>{var{interactionV3Logger:e,onSelection:t,guestValidation:a}=this.props;if(a.isValid(this.state.guestInfo)){if(t&&t(this.state.guestInfo),e){var{page:i,params:s}=this.props.route;e({actionType:"click",actionSubType:"setHotelGuests",itemName:"hotelGuests",locationId:"detailId"in s&&s.detailId?s.detailId:null,geoId:"geoId"in s&&s.geoId?s.geoId:null,page:i,team:"Hotels",customData:{...this.state.guestInfo,children:this.state.guestInfo.children.length||0,childrenAges:this.state.guestInfo.children}})}}else this.setState({showErrors:!0})}),tW(this,"getDropdownLabel",e=>{if(null!=e){if(e>0)return e;if(0===e)return"0-1"}return this.props.localize.string("mem_pf_928")}),this.state={guestInfo:e.guestInfo,selectedAgePicker:null,showErrors:!1}}},tG.GuestWrapperComponent=eB,e1=tG,e2=new eI({metricName:"Qokdp+Qniawzg2b45M0PaAWxSCn23oT9/5KI8XePj3ST4J+BJnPD73PyvP/BvxlhFbNcm2WpA6RKaefTWugFAlmShMQ+QN6Sm8AsX41+UOhYhHLsVgcF0141IrZru5gn",version:0,additionalLabels:["Qokdp+Qniawzg2b45M0PaDgO2UWv0V4fkHmDcdSA0iptfg1NP+9g1dwdMXqyo0PYH7mG+iq3Qikn80vztFOtxQ=="],labelHooks:[eP,eS,e_]}),e5=new eI({metricName:"Qokdp+Qniawzg2b45M0PaGHBK6p/I4DqCgnsEJHa9YLJmec1Vt5jMGKHN1mtyB9rYIkZuxoh5V3mCySg34tby/I0vm3CvpuIktJLIiycFBmtFWD9Ql+S8lCa1JgjRjkDpBhETz8W6XsuXgv8eP1cqg==",version:0,additionalLabels:["Qokdp+Qniawzg2b45M0PaGHBK6p/I4DqCgnsEJHa9YJO97IDHC6HDyNXPjx/h24okeeLGtrUwCb4SMUNd/eD2Q=="],labelHooks:[eP,eS,e_]}),e("TripSearch",eW=class extends p{componentDidMount(){this.autopopCalendar(),this.props.initialCurrentPickerType&&this.openPicker(this.props.initialCurrentPickerType),!this.props.inConversationalFilter&&(this.pickerRadio=F("h-drg"),this.pickerRadio&&(this.pickerRadio.on("close",()=>this.closePickerDirectly()),this.pickerRadio.on("open",()=>this.openPicker("CHECKIN")),this.pickerRadio.on("openWithTargetLocation",this.openWithTargetLocation))),P(!0),this.props.inConversationalFilter&&this.props.getCheckInCheckOutDates&&!this.props.defaultDates&&this.props.getCheckInCheckOutDates(this.state.startDate,this.state.endDate)}componentWillUnmount(){this.pickerRadio&&(this.pickerRadio.off("close",()=>this.closePickerDirectly()),this.pickerRadio.off("open",()=>this.openPicker("CHECKIN")),this.pickerRadio.off("openWithTargetLocation",this.openWithTargetLocation))}componentDidUpdate(e){(this.props.dateInfo!==e.dateInfo||this.props.guestInfo!==e.guestInfo)&&this.resize();var{startDate:t,endDate:a}=this.props.dateInfo,{startDate:i,endDate:s}=e.dateInfo;t&&a&&!this.props.defaultDates&&(0!==new b(i).compare(new b(t))||0!==new b(s).compare(new b(a)))&&this.updateDateState(t,a),this.props.autopop!==e.autopop&&this.props.autopop&&this.autopopCalendar()}getOverlayPositionOptions(){if(this.props.overlayPositions&&this.state.currentPickerType){var{checkin:e,checkout:t,roomsGuests:a}=this.props.overlayPositions;return["CHECKIN","PLUS_CHECKIN"].includes(this.state.currentPickerType)?e:["CHECKOUT","PLUS_CHECKOUT"].includes(this.state.currentPickerType)?t:"ROOMSGUESTS"===this.state.currentPickerType?a:void 0}}getOverlayPaddingX(){var{currentPickerType:e}=this.state,t=("CHECKIN"===e||"CHECKOUT"===e)&&(this.props.heatmapImprovementsVariant1||this.props.heatmapImprovementsVariant2);return t&&this.props.heatmapImprovementsVariant1?10:t&&this.props.heatmapImprovementsVariant2?0:void 0}renderOverlay(){var{currentPickerType:e}=this.state,t=null;if(!this.props.hidden&&e){var{pickerRef:a,getOverlayContents:i}=this.getType(e),s=("CHECKIN"===e||"CHECKOUT"===e)&&(this.props.heatmapImprovementsVariant1||this.props.heatmapImprovementsVariant2),r=this.props.sharedCheckinCheckoutRef&&("CHECKIN"===e||"CHECKOUT"===e)?this.sharedRef.current:a&&a.current,o=i&&i(),l=this.getOverlayPaddingX(),p="PLUS_CHECKIN"===e||"PLUS_CHECKOUT"===e||this.props.inConversationalFilter;t=r&&o?n(V,{name:this.props.name,children:n(eX,{target:r,hideOverlayArrow:p,close:this.closePickerDirectly,horizontal:this.props.stacked,isMobile:this.props.isMobile,showClosingX:"ROOMSGUESTS"===e||this.props.isMobile,popAbove:this.props.popAbove,fixed:this.props.fixed,shouldRestoreFocus:this.shouldRestoreFocus,wasAutopopped:this.wasAutopopped,isDetailPage:this.props.isDetailPage,preventCloseOnUnmount:p,isAboveOverlay:this.props.inMapView||this.props.inConversationalFilter,cupidHeroTestMWEnabled:!!this.props.cupidHeroTestMWEnabled,isCupidExperience:!!this.props.isCupidExperience,overlayType:"ROOMSGUESTS"===e?"ROOMSGUESTS":"DATES",datepickerTacticsEnabled:this.props.datepickerTacticsEnabled,overlayPositionOptions:this.getOverlayPositionOptions(),autoFocus:!this.wasAutopopped||this.props.focusOnAutopop,animated:!0,inConversationalFilter:this.props.inConversationalFilter,isDatepickerImprovements:this.props.isDatepickerImprovements,isPopularDatesEnabled:this.props.popularDatesTopVariant||this.props.popularDatesBottomVariant,isRoundedDatepicker:s,paddingX:l,isUpdatedOnScroll:"hr_datepicker_sticky"===this.props.name,children:o})}):null}return this.props.isWebview?t:n(q,{children:t})}render(){var{children:e,name:t}=this.props;return o(l,{children:[G("oracle_geo_heatmap")&&this.props.showHeatMap&&!this.heatMap?n(eG,{children:e=>(this.heatMap=e,null)}):null,n(U,{ref:this.resizerRef,className:tR.trip_search_body,defaultFontSizePx:16,minFontSizePx:8,resizeOnScreenResize:!0,children:e({getDatePickerValue:this.getDatePickerValue,getGuestPickerValue:this.getGuestPickerValue,isDimmed:this.isDimmed,isFocused:this.isFocused,openPicker:this.openPicker,getPickerRefForType:this.getPickerRefForType,getSharedPickerRef:this.getSharedPickerRef,setStayDates:this.setStayDates,getDatePickerDisplayDate:this.getDatePickerDisplayDate})}),n(B,{name:t,children:e=>(this.globalOpener=e,null)}),this.renderOverlay()]})}constructor(e){super(e),tq(this,"openWithTargetLocation",e=>{this.openPicker("CHECKIN"),this.setState({targetLocationId:e})}),tq(this,"autopopCalendar",()=>{var{autopop:e,defaultDates:t,isDetailPage:a,geoId:i}=this.props;e&&t&&!window?.location?.hash&&(!z.wasDismissed(a)||i&&!z.wasDismissedForGeo(i))?(R({module:tj,action:"autopop"}),this.openPicker("CHECKIN"),this.wasAutopopped=!0):this.props.onAutopopDismiss&&this.props.onAutopopDismiss()}),tq(this,"onDateSelection",(e,t)=>{var a=!1;if(null!=e){var i=e;"PLUS_CHECKIN"===e?i="CHECKIN":"PLUS_CHECKOUT"===e&&(i="CHECKOUT"),a=this.processClickedDate(i,t)}if(a){var{onPickerClose:s}=this.props;"CHECKIN"===e||"PLUS_CHECKIN"===e?R({module:"datepicker",action:"select",context:"checkin_date"}):("CHECKOUT"===e||"PLUS_CHECKOUT"===e)&&R({module:"datepicker",action:"select",context:"checkout_date"}),S.isStartDateType(e)?(this.openPicker("CHECKOUT"),this.setState({isAutoAdvanced:!0}),R({module:tj,action:"transition"}),null!=s&&s("CHECKIN",!0,!1)):S.isEndDateType(e)&&!W.get(tY)?(this.openPicker("ROOMSGUESTS"),this.setState({isAutoAdvanced:!0}),null!=s&&s("CHECKOUT",!0,!1),R({module:tQ,action:"transition"})):"PLUS_CHECKIN"===e?(this.openPicker("PLUS_CHECKOUT"),this.setState({isAutoAdvanced:!0}),null!=s&&s("CHECKIN",!0,!1)):"ROOMSGUESTS"===e?(this.closePicker(!0,!1),this.setState({isAutoAdvanced:!1}),null!=s&&s("ROOMSGUESTS",!0,!1)):(this.closePicker(!0,!1),this.setState({isAutoAdvanced:!1}),null!=s&&s("CHECKOUT",!0,!1))}!this.props.isDetailPage&&this.props.fixed&&"PLUS_CHECKIN"!==e&&this.scrollToTop()}),tq(this,"onGuestSelection",e=>{D(e,this.props.guestInfo)?this.closePicker(!1,!1):(this.setGuests(e),this.closePicker(!0,!1)),this.setLocalStorageSkipGuestsAutoAdvance()}),tq(this,"getFormattedMonths",e=>{var t=new Intl.DateTimeFormat(this.props.ietfLocale,{month:"short"}),a=e.slice(0,4).map(e=>t.format(e)).join(", ");return e.length>4?`${a}...`:a}),tq(this,"getDateFromState",e=>"CHECKIN"===e?this.state.startDate:this.state.endDate),tq(this,"formatDate",e=>this.props.isNewDateFormatAllowed?this.props.globalize.formatDate("week_short_month_short_date",e):this.props.globalize.formatDate("week_date_short_v2",e)),tq(this,"getDatePickerValue",e=>{var t=this.getDateFromState(e);return this.props.defaultDates||!t?this.props.localize.string("em_dash_date_format"):this.formatDate(t)}),tq(this,"getDatePickerDisplayDate",e=>this.state.isLocalDatesOnly?!this.props.defaultDates||this.props.defaultDates&&this.state.datesUpdated?"CHECKIN"===e?this.state.startDate:this.state.endDate:void 0:this.props.defaultDates?void 0:this.props.dateInfo["CHECKIN"===e?"startDate":"endDate"]),tq(this,"getGuestPickerValue",e=>{var{isMobile:t,guestInfo:a}=this.props;if(!a)return"<span>&#8212;</span>";var{rooms:i,adults:s,children:r}=a;return t||e?`<span class="${tR.picker_label_icon} ui_icon hotels"></span>
           <span>${i}</span>
           <span class="${tR.picker_label_icon} ui_icon users"></span>
           <span>${s+r.length}</span>`:this.props.localize.string("trip_search_traveler_info_text",{sRoomInfoClass:"room-info",nNumRooms:i,sAdultInfoClass:"adult-info",nNumAdults:s,sChildInfoClass:"child-info",nNumChildren:r.length})}),tq(this,"persistStayDates",(e,t)=>{this.state.targetLocationId&&window?.ta?.page?.setTargetLocationId&&window.ta.page.setTargetLocationId(this.state.targetLocationId),this.state.isLocalDatesOnly?this.props.getCheckInCheckOutDates&&(this.props.getCheckInCheckOutDates(e,t),this.state.datesUpdated||this.setState({datesUpdated:!0})):_(e,t,this.props.dateInfo,this.props.defaultDates,this.props.name,!!this.props.isDetailPage),this.props.incrementDateUpdateMetric&&this.props.incrementDateUpdateMetric(1)}),tq(this,"processClickedDate",(e,t)=>{var{startDate:a,endDate:i}=this.state;return S.isStartDateType(e)?(a=t,i=new b(t).relativeDay(1).date):i=t,!!M.validate(a,i)&&(this.areDatesUpdated(a,i)&&this.persistStayDates(a,i),this.setState({startDate:a,endDate:i}),!0)}),tq(this,"setStayDates",(e,t)=>!!M.validate(e,t)&&(this.persistStayDates(e,t),this.setState({startDate:e,endDate:t}),!0)),tq(this,"setLocalStorageSkipGuestsAutoAdvance",()=>{W.set(tY,!0,12096e5)}),tq(this,"setGuests",e=>{O(e)}),tq(this,"setEndDate",(e,t)=>{var{startDate:a}=this.props.dateInfo;M.validate(a,t)&&t!==this.state.endDate&&null!=e&&("PLUS_CHECKOUT"===e||"CHECKOUT"===e)&&(this.state.isLocalDatesOnly?this.setState({endDateHover:t}):this.setState({endDate:t}))}),tq(this,"resetEndDate",()=>{this.setState({endDate:this.state.isLocalDatesOnly?this.state.endDate:this.props.dateInfo.endDate})}),tq(this,"setLastMonth",e=>{e.getTime()!==this.state.lastMonth?.getTime()&&this.setState({lastMonth:e})}),tq(this,"getCalendarWrapper",e=>{var{showPriceExplanation:t,endDate:a,startDate:i,endDateHover:s}=this.state,{geoTimezone:r,isIE:o}=this.props,l="CHECKIN"===e||"PLUS_CHECKIN"===e,p=n(e$,{showPriceExplanation:t}),h=new ex(i,this.state.isLocalDatesOnly?s:a,l,M,this.props.isMobile,this.props.firstDayOfWeek,this.heatMap,p,!1,r,o,this.props.isDatepickerImprovements?this.state.lastMonth:void 0).getCalendarDisplayOptions();return n(eJ,{calendarDisplayOptions:h,onDayClick:(t,{disabled:a})=>!a&&this.onDateSelection(e,t),onDayMouseEnter:(t,{disabled:a})=>!a&&this.setEndDate(e,t),onDayMouseLeave:(e,{disabled:t})=>!t&&this.resetEndDate(),setStayDates:this.setStayDates,closePicker:this.closePickerDirectly,heatmapDatepickerEnabled:this.props.heatmapDatepickerEnabled,datepickerTacticsEnabled:this.props.datepickerTacticsEnabled,popularDatesTopVariant:this.props.popularDatesTopVariant,popularDatesBottomVariant:this.props.popularDatesBottomVariant,popularDatesBottomNewLabelVariant:this.props.popularDatesBottomNewLabelVariant,popularDatesBottomOldLabelVariant:this.props.popularDatesBottomOldLabelVariant,inConversationalFilter:this.props.inConversationalFilter,suppressCalendarHeader:this.props.suppressCalendarHeader,setLastMonth:this.setLastMonth,heatmapImprovementsVariant1:this.props.heatmapImprovementsVariant1,heatmapImprovementsVariant2:this.props.heatmapImprovementsVariant2,hrHeatmapImprovementEnabled:this.props.hrHeatmapImprovementEnabled})}),tq(this,"getCalendar",(e,t)=>t?n(K,{bodyProps:{bodyScroll:"hidden"},containerProps:{roundedCorners:!0},hideBoxShadow:!0,onClose:this.closePickerClick,enableCloseIcon:!0,children:this.getCalendarWrapper(e)}):this.getCalendarWrapper(e)),tq(this,"getCheckinCalendar",()=>this.getCalendar("CHECKIN",!1)),tq(this,"getCheckoutCalendar",()=>this.getCalendar("CHECKOUT",!1)),tq(this,"getGuestFields",()=>n(e1,{onSelection:this.onGuestSelection,guestInfo:this.props.guestInfo||H,guestValidation:L,onClose:this.closePickerDirectly,fixed:this.props.fixed,showGuestErrors:this.state.showGuestErrors})),tq(this,"getPlusCheckinCalendar",()=>this.getCalendar("PLUS_CHECKIN",!0)),tq(this,"getPlusCheckoutCalendar",()=>this.getCalendar("PLUS_CHECKOUT",!0)),tq(this,"getType",e=>e&&this.pickerTypes[e]||{}),tq(this,"getPickerRefForType",e=>this.getType(e).pickerRef),tq(this,"getSharedPickerRef",()=>this.sharedRef),tq(this,"sharedRef",v()),tq(this,"pickerTypes",{CHECKIN:{trackingModule:"datepicker",inViewPageProperty:tj,openPageAction:"checkin-click",pickerRef:v(),getOverlayContents:this.getCheckinCalendar},CHECKOUT:{trackingModule:"datepicker",inViewPageProperty:tj,openPageAction:"checkout-click",pickerRef:v(),getOverlayContents:this.getCheckoutCalendar},ROOMSGUESTS:{trackingModule:"guestpicker",inViewPageProperty:tQ,openPageAction:"rgp-click",pickerRef:v(),getOverlayContents:this.getGuestFields},PLUS_CHECKIN:{trackingModule:"datepicker",inViewPageProperty:tj,openPageAction:"checkin-click",pickerRef:v(),getOverlayContents:this.getPlusCheckinCalendar},PLUS_CHECKOUT:{trackingModule:"datepicker",inViewPageProperty:tj,openPageAction:"checkout-click",pickerRef:v(),getOverlayContents:this.getPlusCheckoutCalendar}}),tq(this,"areDatesUpdated",(e,t,a)=>this.props.defaultDates&&!a||0!==new b(e).compare(new b(this.props.dateInfo.startDate))||0!==new b(t).compare(new b(this.props.dateInfo.endDate))),tq(this,"areGuestsUpdated",e=>!D(e,this.props.guestInfo)),tq(this,"scrollToTop",()=>{var e=document.querySelector("#TRIP_PLANNER"),t=document.querySelector("#PERSISTENT_TRIP_SEARCH_BAR");if(e&&t){var a=window.pageYOffset||document.documentElement&&document.documentElement.scrollTop;a+=e.getBoundingClientRect().bottom-t.getBoundingClientRect().height,window.scrollTo({top:a,behavior:"smooth"})}}),tq(this,"globalOpener",null),tq(this,"shouldRestoreFocus",!1),tq(this,"wasAutopopped",!1),tq(this,"resizerRef",v()),tq(this,"heatMap",null),tq(this,"pickerRadio",null),tq(this,"resize",()=>{this.resizerRef&&this.resizerRef.current&&this.resizerRef.current.makeFit()}),tq(this,"closePicker",(e,t)=>{this.shouldRestoreFocus=!1,this.wasAutopopped=!1;var a=this.state.isAutoAdvanced?this.state.currentPickerType:this.state.prevPickerType||this.state.currentPickerType;w(!1);var{isDetailPage:i,geoId:s,onPickerClose:r}=this.props;null!=a&&null!=r&&r(a,e,t);var n=this.state.prevPickerType&&this.state.prevPickerType!==this.state.currentPickerType&&!e&&!this.state.isAutoAdvanced;this.setState({currentPickerType:n?this.state.currentPickerType:null,prevPickerType:null}),this.setState({isAutoAdvanced:!1}),n||null==this.state.targetLocationId||this.setState({targetLocationId:null}),z.setDismissed(i),s&&z.setDismissedForGeo(s),this.pickerRadio&&this.pickerRadio.emit("pickers-closed",a,e)}),tq(this,"closePickerDirectly",()=>this.closePicker(!1,!1)),tq(this,"closePickerClick",()=>this.closePicker(!1,!0)),tq(this,"updateDateState",(e,t)=>{this.setState({startDate:e,endDate:t})}),tq(this,"openPicker",(e,t)=>{if(this.wasAutopopped=!1,w(!0),t){"click"!==t.type&&"touchstart"!==t.type&&t.stopPropagation();var a=0===t.detail,{trackingModule:i,inViewPageProperty:s,openPageAction:r}=this.getType(e);R({module:i,action:a?"enter":"click",context:null!=e?e.toLowerCase():"null"}),R({module:s,action:r}),this.shouldRestoreFocus=a}this.setState(t=>({currentPickerType:e,prevPickerType:t.currentPickerType})),this.globalOpener&&this.globalOpener(),this.pickerRadio?.emit("picker-opened",e),"CHECKIN"===e&&this.props.incrementPickerOpenMetricCheckin?this.props.incrementPickerOpenMetricCheckin(1):"CHECKOUT"===e&&this.props.incrementPickerOpenMetricCheckout?this.props.incrementPickerOpenMetricCheckout(1):"ROOMSGUESTS"===e&&this.props.incrementPickerOpenMetricRoomsGuests&&this.props.incrementPickerOpenMetricRoomsGuests(1)}),tq(this,"isDimmed",e=>!!(this.state.currentPickerType&&this.state.currentPickerType!==e)),tq(this,"isFocused",e=>this.state.currentPickerType===e),this.state={currentPickerType:e.initialCurrentPickerType?e.initialCurrentPickerType:null,prevPickerType:null,showPriceExplanation:!1,startDate:e.dateInfo.startDate,endDate:e.dateInfo.endDate,showGuestErrors:!1,isAutoAdvanced:!1,targetLocationId:null,datesUpdated:!1,isLocalDatesOnly:!!e.inConversationalFilter,endDateHover:e.dateInfo.endDate,lastMonth:void 0}}}),tq(eW,"defaultProps",{name:"trip_search",stacked:!1,isDetailPage:!1,autopop:!1,popAbove:!1,showHeatMap:!0,focusOnAutopop:!0}),e4=N(I),e6=N(T),e9=x((e,t)=>{eG.stage(e,t);var a=e.travelerInfo.hotels||{};return()=>({geoId:e.page.geoId,dateInfo:e4(a.stayDates),guestInfo:a.guests?e6(a.guests):null,defaultDates:!!a.defaultDates,isMobile:"MOBILE"===e.meta.device.viewportCategory,pageName:e.route.page,firstDayOfWeek:e.i18n.firstDayOfWeek,isIE:"IE"===e.meta.device.browser.family,ietfLocale:e.i18n.ietfLocale})})(tJ),e({LOCAL_STORAGE_SKIP_GUESTS_AUTO_ADVANCE:tY,TripSearch:eW,default:e9})},[e=>(n=e.jsx,o=e.jsxs,l=e.Fragment),e=>(p=e.Component,h=e.useMemo,c=e.memo,d=e.useState,u=e.useRef,m=e.useContext,g=e.useEffect,v=e.createRef),e=>D=e.default,e=>(k=e.default,f=e.useLocalize,C=e.useLocale,y=e.useIntlFormatter),e=>(b=e.CalendarDate,I=e.decode,P=e.setHotelsDatesPage,S=e.DateTypeStore,_=e.setHotelsPageDates,M=e.HotelsValidation,w=e.setHotelsDatesOpen),e=>(E=e.isIntegerInRange,T=e.decode,O=e.setHotelsPageGuests,H=e.DEFAULT_GUEST_INFO,L=e.HotelsValidation),e=>N=e.memoizeLast,e=>U=e.AutoResizer,e=>(R=e.default,A=e.Track),e=>x=e.bind,e=>F=e.createRadio,e=>(V=e.Global,B=e.Opener),e=>W=e.default,e=>G=e.featureIsEnabled,e=>z=e.default,e=>K=e.default,e=>q=e.AfterConsent,e=>j=e.useUserAgent,e=>(Q=e.useDatepickerImprovements,Y=e.useTabbedLayout,J=e.useDatepickerHeatmapImprovements,$=e.useDatepickerHeatmapImprovementsSDHH,X=e.useHRHeatmapAndEntryPoints,Z=e.useDatepickerPriceHeatmap,ee=e.useDatepickerPopularDates,et=e.useUpdatedDatePickerFormat),e=>ea=e.default,e=>ei=e.default,e=>es=e.default,e=>er=e.default,e=>en=e.default,e=>eo=e.DROPDOWN_HEADER_ID,e=>el=e.default,e=>ep=e.CircularButton,e=>eh=e.default,e=>ec=e.default,e=>(ed=e.ScrollRefContext,eu=e.Modal),e=>em=e.default,e=>eg=e.useHotelInteractionLogger,e=>ev=e.default,e=>eD=e.useRoute,e=>(ek=e.default,ef=e.Component),e=>eC=e.Icon,e=>ey=e.Target,e=>eb=e.default,e=>(eI=e.Counter,eP=e.useSourceLabel,eS=e.useViewportLabel,e_=e.useWebApplicationLabel),e=>eM=e.isoStringToDate,e=>ew=e.useViewportCategory,e=>eE=e.default,e=>eT=e.default,e=>eO=e.default,e=>(eH=e.PopularDatesSuggestion,eL=e.usePopularDatesLogHandler,eN=e.getPopularDates),e=>eU=e.default]]},["21h32l","o4yt4q","b5nukb","7thqz4","r5lgov","a23m3h","a37wnh","wgun1f","4axon3","6z5q2p","bqgabj","80hn7v","9b9b10","skjzuv","losr6p","7u7gib","973cci","nnprhg","wsk8ra","hyvyhv","w0dpwq","65rb8q","gttbjc","ltllz9","a182zj","r019uv","jppfwt","qkjm8h","7nq86i","i3sz5h","fkji80","ctn2v9","4nzso8","fgwvq1","6nmgrj","ybxsmg","79a2um","x9dv95","83pm0d","o5y7tg","ys6v1o","pn8thk","essqvy","covaqn","q0mame","00mpxl"]]);
