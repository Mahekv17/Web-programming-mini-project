(this.$WP=this.$WP||[]).push(["r9zz7r",(e,t)=>{var i,a,o,r,l,n,s,c,d,u,f,p,m=e=>{var t=[];return e.forEach(e=>{t.push(e.toUpperCase())}),t},h=({specialOffers:e,fetching:t,error:a,onClose:o,onDisplay:r,lightboxType:l})=>{if(a)return null;var n=[];e.forEach(e=>n.push({id:e.specialOfferId?e.specialOfferId:void 0,title:e.headline,description:e.description,code:e?.couponCode?e.couponCode:void 0,validDays:m(e.days),startDate:e.startDate?e.startDate:void 0,endDate:e.endDate?e.endDate:void 0,redemptionUrl:e.url?e.url:void 0,redemptionPhoneNumber:e.phone?e.phone:void 0,specialOfferType:e.specialOfferType?e.specialOfferType:void 0}));var s=[];return e?.[0]?.images?.forEach(e=>{s.push({url:e.url,width:e.width,height:e.height})}),i(f,{fetching:t,specialOfferList:n,onClose:o||(()=>{}),imageSource:s,onDisplay:r,mode:"NORMAL",lightboxType:l})},v=(e,t)=>e&&e[t.toString()]?"sp":"ba",I=e=>{var{specialOfferId:t,servletName:c,onClose:f,lightboxType:m}=e,{page:h,path:I,params:y}=d(),g=u(),O=r()||-1,b=n(),C={locationId:O,servletName:c,hotelTravelInfo:"restaurant"===m?null:b,trafficSource:v(e.lineItemsByLoc,O),isMobile:e.isMobile,commerceCountryId:e.commerceCountryId||-1,specialOfferId:t||-1};a(()=>{s({module:"SpecialOffer",action:"click",value:1,context:c})},[c]);var D=o((e,t)=>{g({itemName:"so_b2c_impression_popup",team:"Restaurants",locationId:O||"locationId"in y&&y.locationId||-1,page:h,customData:JSON.stringify({url:I,specialOfferId:t,mode:e})})},[g,O,h,y,I]),_=o((e,t,i,a)=>{g({itemId:t?.toString(),itemPosition:i,itemName:"so_b2c_impression_hotels_so_card_in_view",team:"B2B",geoId:"geoId"in y&&y.geoId||null,locationId:O||"detailId"in y&&y.detailId||-1,page:h,customData:JSON.stringify({hotelsTravelInfo:b,url:I,specialOfferId:t,specialOfferType:a,mode:e})})},[b,g,O,h,y,I]),S=e=>{switch(e){case"restaurant":return D;case"hotel":return _;default:return()=>{}}};return i(l,{...C,children:(e,t,a)=>i(p,{specialOffers:t,fetching:e,error:!!a,onClose:f,onDisplay:S(m),lightboxType:m})})};return[()=>{p=h,e("default",c(e=>({isMobile:"MOBILE"===e.meta.device.viewportCategory,servletName:e.meta.initialServletName||"",commerceCountryId:e.meta.commerceCountryId,lineItemsByLoc:e.meta.lineItemsByLoc}))(I))},[e=>i=e.jsx,e=>(a=e.useEffect,o=e.useCallback),e=>r=e.useLocationDetail,e=>l=e.default,e=>n=e.default,e=>s=e.default,e=>c=e.connect,e=>d=e.useRoute,e=>u=e.default,e=>f=e.SpecialOfferCardModal]]},["21h32l","o4yt4q","bvvaww","inugb1","crdfjq","4axon3","2mj4nv","fgwvq1","xg719z","bttvi0"]]);
