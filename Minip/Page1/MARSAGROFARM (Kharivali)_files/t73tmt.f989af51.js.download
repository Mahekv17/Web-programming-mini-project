(this.$WP=this.$WP||[]).push(["t73tmt",(e,a)=>{var t,r,l,i,u,s,n,d,o,m,b,c,g,p,f,h,v,y,A={__key:0x9c30542e2cb4,id:"9c30542e2cb4d67b",loc:{},definitions:[]},M={__key:92302606966357,id:"53f2e0199e55a270",loc:{},definitions:[]},I=()=>{var e=o(),a=h();return"HotelsNear"===e.page&&"en"===a},_=!1,P=!1,S=!1,T=(e,a)=>{var t=e?.mediaAlbum?.album;return t?.mediaList?.[0]?f.PrimaryOK:a?a.networkError?f.NetworkError:f.GraphQLError:e?.mediaAlbum?.status!==200?f.ServiceError:null==t?f.AlbumMissing:0===t.totalMediaCount?f.NoPhotos:f.PrimaryMissing},C=e=>{var a,m,h,I,{client:C,dataStrategy:E,locationId:L,passThroughOptions:O,renderAlbum:q,referenceMediaId:V,albumId:$,subAlbumId:w,selectImagesServerSide:R,filter:k}=e,[x,N]=i(!1),H=u(0),[z,K]=i(R),j=o(),F=y(),G=k||b(),Q=[L],W=j.path,B="",[{fetching:D,data:J,error:U},X]=n({query:M,variables:{locationIds:Q,params:{albumId:$,subAlbumId:w,client:C,locationType:"HOTEL",filter:G,referenceMediaId:x?null:V},includeGeneratedTags:F},pause:!L||!z||!F}),[{fetching:Y,data:Z,error:ee},ea]=n({query:A,variables:{locationId:L,albumId:$,subAlbumId:w,client:C,dataStrategy:E,filter:G,referenceMediaId:x?null:V},pause:!L||!z||F});if(F){var et=J?.MediaAlbumV2_albums?.[0]?.album?.mediaList,er=J?.locations?.[0]?.geoName,el=J?.locations?.[0]?.name;if(null!=et&&et.length>=1){if(et[0]?.__typename==="MediaAlbumV2_MediaId"){var ei=et[0]?.data;if(ei?.__typename==="Media_PhotoResult"){var eu=ei.generatedTags?.captionsMediaList?.[0]?.caption;B=""===eu||void 0===eu?`${el} in ${er}`:`${el} in ${er}, image may contain: ${eu}`}}}else B="";a=function(e){for(var a=[],t=e?.MediaAlbumV2_albums?.[0]?.album,r=t?.mediaList?.length??0,l=0;l<r;l++){var i=t?.mediaList?.[l]?.data;if(null!=i){var u={type:v.get(i.mediaType),mediaId:i.id,photoSizes:i.sizes};a.push(u)}}return{mediaAlbum:{status:e?.MediaAlbumV2_albums?.[0]?.status??null,statusMessage:e?.MediaAlbumV2_albums?.[0]?.statusMessage??null,album:{albumId:t?.albumId??null,subAlbumId:t?.subAlbumId??null,translationKey:t?.name?.valueKey?.key??null,dataStrategy:t?.dataStrategy??null,offset:t?.offset??null,totalMediaCount:t?.totalMediaCount??null,mediaList:a}}}}(J),I=X,m=D,h=U}else a=Z,I=ea,m=Y,h=ee;var es=a?.mediaAlbum?.status,en=!a?.mediaAlbum?.album?.mediaList||500===es,ed=404===es;if(s(()=>{K(!0)},[]),s(()=>{!m&&ed&&!x&&z&&N(!0)},[m,ed,x,z]),s(()=>{!m&&en&&z&&(H.current<1?(H.current++,I()):P||(P=!0))},[m,en,I,L,C,W,z]),s(()=>{m||!h||(_||(_=!0,h?.message),200!==es||S||(S=!0,h?.message))},[m,es,h]),!m&&(en||404===es))return t(r,{children:q({root:null,response:null,album:{totalMediaCount:0},loading:!1,client:C,locationId:L,passThroughOptions:O})});var eo=a?.mediaAlbum?.album?.offset,em=V?eo:O?.selectedIndex,eb={root:a,response:a?.mediaAlbum,album:m?null:a?.mediaAlbum?.album,...F&&{imageAltText:B},locationId:L,client:C,loading:m,passThroughOptions:{...O,selectedIndex:em}},ec=c(C),eg=g(E),ep=T(a,h);return l(d,{errorRenderer:()=>l(r,{children:[t(p,{client:ec,approach:eg,status:f.RenderError}),t(p,{enabled:!m&&z,client:ec,approach:eg,status:ep,decrement:!0})]}),children:[q(eb),t(p,{enabled:!m&&z,client:ec,approach:eg,status:ep})]})},E=({locationId:e,client:a,dataStrategy:r,renderAlbum:l,selectImagesServerSide:i,filter:u,albumId:s,subAlbumId:n,passThroughOptions:d,referenceMediaId:o})=>{var b=m();return t(C,{locationId:e,albumId:s,subAlbumId:n,client:a||b,dataStrategy:r,renderAlbum:l,selectImagesServerSide:i,filter:u,referenceMediaId:o,passThroughOptions:d})};return[()=>{(v=new Map).set("PHOTO","p"),v.set("PHOTO_360","p360"),v.set("VIDEO","v"),y=I,e("VanillaClientSideMediaAlbumContainer",E)},[e=>(t=e.jsx,r=e.Fragment,l=e.jsxs),e=>(i=e.useState,u=e.useRef,s=e.useEffect),e=>n=e.useQuery,e=>d=e.ErrorBoundary,e=>o=e.useRoute,e=>(m=e.useClientName,b=e.getMediaFilterToRetrieveAllPhotos),e=>(c=e.getClient,g=e.getApproach,p=e.PrimaryPhotoStatusCounter,f=e.Status),e=>h=e.useLanguage]]},["21h32l","o4yt4q","mqwhqn","83pm0d","fgwvq1","3w1vrt","tsg6fc","7thqz4"]]);
