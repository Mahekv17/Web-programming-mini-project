(this.$WP=this.$WP||[]).push(["nv22hj",(t,i)=>{var e,a,n,s,o,r,c,h,l,p,d,u,v,L,g,k,m={findme:"vlHxd Fh u V S8 H7",icon:"gVSOm Z1 e c G5",active:"EggpQ"};function C(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var f={icon:"/img2/maps/icons/my_location_dot.png",width:30,height:30,anchor:{x:15,y:15}},w=({variant:t="Square",onClick:i})=>{var a=u(),{map:s}=n(v),{localize:o}=d();return s?e(k,{map:s,tracker:a,deniedText:o.string("mw_js_positionPermissionDenied"),variant:t,onClick:i,ariaLabel:o.string("phoenix_maps_accessibility_locate_me")}):null};return[()=>{k=class extends s{componentWillUnmount(){this.state.trackingHandler&&(r(this.state.trackingHandler),this.clearMapInteractionListeners())}render(){var t=this.state.userLocation?e(L,{position:this.state.userLocation,width:f.width,height:f.height,src:f.icon,anchor:f.anchor}):null;return"Circle"===this.props.variant?a("div",{children:[e(h,{icon:this.state.active?l:p,ariaLabel:this.props.ariaLabel,onClick:this.onClickCircularFloatingActionButton,onKeyDown:this.onClickCircularFloatingActionButton}),t]}):a("div",{children:[e("div",{className:m.findme,onClick:this.askForLocation,children:e("span",{className:o(m.icon,this.state.active?m.active:""),children:e(p,{})})}),t]})}constructor(...t){super(...t),C(this,"state",{trackingLocation:!1,active:!1}),C(this,"setInactive",()=>{this.setState({active:!1})}),C(this,"setMapInteractionListeners",()=>{var{map:t}=this.props;t&&t.once("panStart",this.setInactive)}),C(this,"clearMapInteractionListeners",()=>{var{map:t}=this.props;t&&t.off("panStart",this.setInactive)}),C(this,"moveMapToNewLocation",t=>{var{map:i}=this.props;i&&i.setCenter(t,16,!0)}),C(this,"isLatLngValid",t=>0!==t.lat||0!==t.lng),C(this,"trackClick",()=>{this.props.tracker({module:"find_me",action:"find_me_click"})}),C(this,"askForLocation",()=>{if(this.trackClick(),this.setState({active:!0}),this.state.trackingHandler)this.state.userLocation&&(this.moveMapToNewLocation(this.state.userLocation),this.setMapInteractionListeners());else{var t=c((t,i)=>{var e=new g(t,i);this.isLatLngValid(e)&&(this.state.trackingLocation||(this.moveMapToNewLocation(e),this.setMapInteractionListeners()),this.setState({userLocation:e,trackingLocation:!0}))},()=>{window.alert(this.props.deniedText),this.setState({active:!1,trackingHandler:null})});this.setState({trackingHandler:t})}}),C(this,"onClickCircularFloatingActionButton",()=>{this.props.onClick&&this.props.onClick(),this.askForLocation()})}},t("default",w)},[t=>(e=t.jsx,a=t.jsxs),t=>(n=t.useContext,s=t.Component),t=>o=t.default,t=>(r=t.clearWatch,c=t.watchLocation),t=>h=t.CircularFloatingActionButton,t=>l=t.default,t=>p=t.default,t=>d=t.useLocalize,t=>u=t.useGARecorder,t=>(v=t.MapContext,L=t.IconMarker,g=t.LatLng)]]},["21h32l","o4yt4q","fkji80","68fm7o","fm6nx5","hmc04z","nc3gmf","7thqz4","32pwc7","49c7br"]]);
