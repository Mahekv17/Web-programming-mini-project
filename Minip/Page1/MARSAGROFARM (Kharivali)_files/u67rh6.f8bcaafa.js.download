(this.$WP=this.$WP||[]).push(["u67rh6",(n,a)=>{var e,i,s,t,o,p,m,r,c,_=n=>{var a=[];return Object.keys(n).forEach(e=>{var i=n[e];if(null!=i){var s=i.toString();a.push([encodeURIComponent(e),encodeURIComponent(s)].join("="))}}),a.join("&")},l=n=>{var a={},e={};return n&&n.length?(n.forEach(n=>{if(n){var i=n.iconUrl,{scale:s}=n,t=[n.position.lat,n.position.lng];a[i]?a[i].push(t):a[i]=[t],e[i]=s?`scale:${s}|`:""}}),Object.keys(a).map(n=>`markers=${n}|${e[n]}${a[n].join("|")}`).join("&")):""},g=(n,a)=>{if(1>(n.width||0)||1>(n.height||0))return console.error(`StaticMapSnapshot - Width (${n.width}) and height (${n.height}) params must be positive values`),null;if(n.zoom&&(n.zoom<1||n.zoom>19))return console.error(`StaticMapSnapshot - Zoom (${n.zoom}) must be between 1 and 19.`),null;var e=_({center:[n.center.lat,n.center.lng].join(","),width:n.width,height:n.height,zoom:n.zoom,geoId:n.geoId,servletName:n.servlet,scale:n.scale,forceMapProvider:n.forceMapProvider,mapId:n.mapId});return n.markers?.length&&(e+=`&${l(n.markers)}`),n.useImageTag&&(e+=`&redirectKey=${a}`),`/data/1.0/maps/staticmap?${e}`},u=n=>{var[a,_]=i(null),l=r(),u=m(),h=p(),v=g(n,u),[P,d]=i(v),A=s(c(n=>d(g(n,u)),100),[u]),f=t(null);return(o(()=>{n.useImageTag&&A(n)},[n,A]),o(()=>{if(!n.useImageTag&&v){var a=setTimeout(()=>{var n=fetch(v,{credentials:"same-origin"});f.current=n,n.then(n=>n.json()).then(a=>{n===f.current&&(_(a.url),h({module:"staticmap",action:"load",context:a.mapProvider}))}).catch(a=>{n===f.current&&(_(null),h({module:"staticmap",action:"failed",context:v}),console.error("Error loading snapshot",a))})},100);return()=>{clearTimeout(a)}}},[n.useImageTag,v,h]),o(()=>{n.useImageTag&&P&&h({module:"staticmap",action:"load",context:"zh-Hans"===l?"STATIC_MAP_AUTONAVI":"STATIC_MAP_GOOGLE"})},[n.useImageTag,P,l,h]),n.useImageTag&&P)?e("img",{"data-test-target":"staticMapSnapshot",alt:n.alt,className:n.imgClassName,src:P}):e("span",{"data-test-target":"staticMapSnapshot",children:a&&e("img",{alt:n.alt,className:n.imgClassName,src:a})})},h={imgClassName:null,alt:"",scale:1,zoom:13,forceMapProvider:null,markers:[]},v={attractionPin:"img2/maps/icons/component_map_pins_v1/A_Pin_Small.png",miniAttractionPin:"img2/maps/icons/component_map_pins_v1/A_Pin_xs.png",anchorAttractionPin:"img2/maps/icons/responsive_map_pins_v2/AR_Anchor_pin.png",attractionPinV2:"img2/maps/icons/component_map_pins_v2/A_Pin_2x.png",hotelPin:"img2/maps/icons/component_map_pins_v1/H_Pin_Small.png",miniHotelPin:"img2/maps/icons/component_map_pins_v1/H_Pin_xs.png",anchorHotelPin:"img2/maps/icons/responsive_map_pins_v2/H_Anchor_pin.png",hotelPinV2:"img2/maps/icons/component_map_pins_v2/H_Pin_2x.png",restaurantPin:"img2/maps/icons/component_map_pins_v1/R_Pin_Small.png",miniRestaurantPin:"img2/maps/icons/component_map_pins_v1/R_Pin_xs.png",anchorRestaurantPin:"img2/maps/icons/responsive_map_pins_v2/R_Anchor_pin.png",restaurantPinV2:"img2/maps/icons/component_map_pins_v2/R_Pin_2x.png",rentalPin:"img2/maps/icons/responsive_map_pins_v1/VR_green_pin.png",anchorRentalPin:"img2/maps/icons/responsive_map_pins_v2/VR_Anchor_pin.png",carPin:"img2/maps/icons/component_map_pins_v1/C_Pin_Small.png",miniCarPin:"img2/maps/icons/component_map_pins_v1/C_Pin_xs.png",anchorCarPin:"img2/maps/icons/responsive_map_pins_v2/C_Anchor_pin.png"};return[()=>{u.defaultProps=h,n({SnapshotAssetCatalogue:v,default:u})},[n=>e=n.jsx,n=>(i=n.useState,s=n.useCallback,t=n.useRef,o=n.useEffect),n=>p=n.useGARecorder,n=>m=n.useSecurityToken,n=>r=n.useLocale,n=>c=n.default]]},["21h32l","o4yt4q","32pwc7","ahlu9q","7thqz4","dsbyen"]]);
