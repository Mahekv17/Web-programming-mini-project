(this.$WP=this.$WP||[]).push(["ll8oko",(e,t)=>{var o,n,i,a,s,r,l,c,d,u,_,m,h,p,b,v,w,g,I,T,C,f,N,k,R,y,x,E,O,S,P,U,q,H,A,L,M,Q,D,B,j,z,W,$,G,F,V,J,K,X,Y,Z,ee,et,eo,en,ei,ea,es,er,el={__key:0xed773bf591bd,id:"ed773bf591bd8c4a",loc:{},definitions:[]},ec={loading:!0,writeUserReviewUrl:"",topicsUrl:"",postPhotosUrl:"",roomTipsCount:0,questionsCount:0,reviewsCount:0,hasNoContent:!1,isActiveOwner:!1,locationId:0,geoId:0},ed=({locationId:e,children:t})=>{var n,[{data:i,fetching:a}]=h({query:el,variables:{locationId:e},pause:!e||e<0});if(!a&&i&&i.locations&&i.locations[0]){var s=i.locations[0],r=s.topicCount||0,l=s.reviewSummary?.count||0;n={loading:a,writeUserReviewUrl:s.writeUserReviewUrl||"",topicsUrl:s.topicsUrl||"",postPhotosUrl:s.postPhotosUrl||"",roomTipsCount:s.roomTipsCount||0,questionsCount:r,reviewsCount:l,hasNoContent:0===r&&0===l,isActiveOwner:s.currentUserOwnerStatus?.isValid||!1,locationId:s.locationId||0,geoId:s.parentGeoId||0}}else n=ec;return o(F,{value:n,children:t})},eu="community_qa_question_form",e_="photo-uploader",em=({locationId:e,geoId:t,writeUserReviewUrl:n,className:i,pid:a,cookieDomain:s,onClick:r,children:l})=>e<=0||t<=0?null:o("a",{href:n||`/UserReview-g${t}-d${e}`,target:"_blank",className:i,onClick:e=>{r&&r(e),a&&a>0&&I(a,s)},children:l}),eh=e=>n("div",{className:a("PxcvT","ui_column is-4"),children:[o(T,{name:e.icon,className:"okNbn"}),o("div",{className:"IdBqQ b H",children:e.title}),o("div",{className:"LdcTd Md Nb MC NC",children:e.subtitle}),e.children("oBeaB")]}),ep=()=>{var{localize:e}=p(),t=t=>t?e.string("hotel.review.finish.review_fffff216"):e.string("hr_write_a_review");return o(G,{children:({locationId:n,geoId:i,writeUserReviewUrl:s})=>o(J,{icon:"pencil-paper",title:e.string("hr_write_your_review"),subtitle:e.string("hr_write_your_review_sub_title"),children:e=>o(w,{children:({hasDraftReview:r})=>o(V,{locationId:n,geoId:i,writeUserReviewUrl:s,pid:40537,className:a("ui_button primary",e),onClick:e=>v(e,{module:"low_content_collection_cta_review",action:"start_submission",context:"POI|Hotel",dstServlet:"UserReviewEdit",value:0,once:!0}),children:t(r)})})})})},eb=({module:e,children:t,location:n})=>o(f,{name:e_,children:i=>o(C,{forceLogin:!1,children:o=>t(()=>{b({module:e,location:n,action:"start_submission",context:"POI|Hotel"}),o().then(i)})})}),ev=()=>{var{localize:e}=p();return o(X,{module:"low_content_collection_cta_photo",children:t=>o(J,{icon:"camera",title:e.string("hr_share_your_photo"),subtitle:e.string("hr_share_your_photo_subtitle_period"),children:n=>o("span",{className:a("ui_button primary",n),onClick:t,children:e("hr_post_a_photo")})})})},ew=()=>{var{localize:e}=p();return o(G,{children:({topicsUrl:t})=>o(J,{icon:"forums",title:e.string("hr_get_answers"),subtitle:e.string("hr_get_answer_subtitle"),children:n=>o("a",{href:`${t}#AskQuestionForm`,target:"_blank",className:a("ui_button primary",n),onClick:e=>{v(e,{module:"low_content_collection_cta_question",action:"start_submission",context:"POI|Hotel",value:0,once:!0})},children:e("hr_ask_a_question")})})})},eg={row:"NC Nb",noReviews:"Mf"},eI=e=>o(ed,{locationId:e.locationId,children:o(G,{children:({loading:t,isActiveOwner:i,questionsCount:r,reviewsCount:l,roomTipsCount:c})=>{var d=5;switch(e.selectedTab){case"Questions":d=r;break;case"RoomTips":d=c;break;default:d=l}return t||i||d>=5&&0!==l?null:n(s,{testTarget:"low_content_cta",className:a("ui_columns",eg.row,0===l?eg.noReviews:""),section:"communityContent",theme:"box",children:[o(K,{}),o(Y,{}),o(Z,{})]})}})}),eT={see_all_link:"weEPs _R S4 H3 b"},eC=()=>{var{localize:e}=p();return o(G,{children:({topicsUrl:t,questionsCount:n})=>n>3?o("a",{href:t,target:"_blank",className:eT.see_all_link,children:e("qa_see_all_n_questions",{nQuestions:n})}):null})},ef=e=>{var{localize:t}=p();return o(G,{children:n=>o($,{...e,context:n,localize:t,children:e.children})})},eN=({locationId:e})=>{var{localize:t}=p();return o("a",{href:`/ManagementCenter-d${e}`,className:"ui_button primary",onClick:t=>{v(t,{module:"owner_cta",action:"owner_visit_mc_middle",context:e.toString(),value:0,once:!0})},children:t("restaurant_owners_visit_your_owner_mangement_center")})},ek=({locationId:e,onClick:t,children:n,className:i})=>e<=0?null:o("a",{href:`/PostPhotos-d${e}`,target:"_blank",className:i,onClick:e=>{t&&t(e)},children:n}),eR={icon:"yMKLb",wrapper:"EXBEN _S",currentOption:"woPbY",contextualCTA:"lDMPR _m",dropdownArrow:"fjFUH",arrowWrapper:"sSyKE u j",option:"qCJme _S b Wc",linkText:"SvHEb"},ey=e=>{var{localize:t}=p(),{logImpression:i,logInteraction:a}=W(),s=e=>e?t.string("hotel.review.finish.review_fffff216"):t.string("hr_write_a_review"),r=L();_(()=>{e?.selectedTab!=="Questions"&&i("POI_WRITE_REVIEW_SECTION",!0,{customData:JSON.stringify({geoId:e.geoId})})},[e?.selectedTab,i,e.geoId]);var l={Reviews:()=>o(G,{children:({writeUserReviewUrl:t})=>o(w,{children:({hasDraftReview:n})=>o(V,{locationId:e.locationId,geoId:e.geoId,writeUserReviewUrl:t,pid:40537,className:"ui_button primary",onClick:t=>{a("POI_WRITE_REVIEW_SECTION",!1,{customData:JSON.stringify({geoId:e.geoId})}),v(t,{module:"content_submission|review",action:"start_submission",context:"POI|Hotel",dstServlet:"UserReviewEdit",value:0,once:!0})},children:s(n)})})}),Questions:()=>o(f,{name:eu,children:e=>o(B,{call:e,children:e=>o(D,{type:"primary",onClick:()=>{j("hr-community-tab").emit("selectTab","Questions",!0),e(),b({module:"content_submission|question",action:"start_submission",context:"POI|Hotel",value:0,once:!0})},children:t("hr_ask_a_question")})})})},c={Reviews:({close:t})=>o(G,{children:({writeUserReviewUrl:i})=>o(w,{children:({hasDraftReview:r})=>n(V,{locationId:e.locationId,geoId:e.geoId,writeUserReviewUrl:i,pid:40537,className:eR.option,onClick:o=>{t(),a("POI_WRITE_REVIEW_SECTION",!1,{customData:JSON.stringify({geoId:e.geoId})}),v(o,{module:"contextual_cta_dropdown_review",action:"start_submission",context:"POI|Hotel",dstServlet:"UserReviewEdit",value:0,once:!0})},children:[o(T,{name:"pencil-paper",className:eR.icon}),o("span",{className:eR.linkText,children:s(r)})]})})}),Photos:r?({close:i})=>n(ea,{locationId:e.locationId,className:eR.option,onClick:e=>{i(),v(e,{module:"contextual_cta_dropdown_photo",action:"start_submission",context:"POI|Hotel"})},children:[o(T,{name:"camera",className:eR.icon}),o("span",{className:eR.linkText,children:t("hr_post_a_photo")})]}):()=>o(X,{module:"contextual_cta_dropdown_photo",children:e=>n("span",{className:eR.option,onClick:()=>{e()},children:[o(T,{name:"camera",className:eR.icon}),o("span",{className:eR.linkText,children:t("hr_post_a_photo")})]})}),Questions:({close:e})=>o(f,{name:eu,children:i=>o(B,{call:i,children:i=>n("span",{className:eR.option,onClick:()=>{e(),j("hr-community-tab").emit("selectTab","Questions",!0),i(),b({module:"contextual_cta_dropdown_question",action:"start_submission",context:"POI|Hotel",value:0,once:!0})},children:[o(T,{name:"forums",className:eR.icon}),o("span",{className:eR.linkText,children:t("hr_ask_a_question")})]})})})},d=()=>{var t=e?.selectedTab==="Questions"?l.Questions:l.Reviews;return o("div",{className:eR.currentOption,children:m(t)})},u=()=>o(Q,{below:!0,fullBleed:!0,local:!0,arrowType:"none",closeButton:!1,alignEdge:"right",shiftY:2,contents:e=>Object.keys(c).map(t=>m(c[t],{close:e,key:t})),children:(e,t,n,i)=>o(z,{className:eR.dropdownArrow,events:i?["onTouchStart"]:["onClick","onTouchStart","onTouchEnd"],children:o("div",{ref:e,className:eR.arrowWrapper,onClick:()=>{(i?n:t)(),b({module:"contextual_cta_dropdown_toggle",action:"open",context:"POI|Hotel",value:0,once:!0})},children:o(T,{name:i?"caret-up":"caret-down"})})})});return o(M,{children:o(G,{children:({loading:t,hasNoContent:i,isActiveOwner:a})=>t||i?null:a?o(ei,{locationId:e.locationId}):o("div",{className:eR.wrapper,children:n("div",{className:eR.contextualCTA,"data-test-target":"ugc_cta_button",children:[o(d,{}),o(u,{})]})})})})},ex={tab:"wHqmu",inactive:"rvvXh",icon:"oGeFI _R",tabCount:"iypZC Mc _R b",typeText:"xJTmy"},eE=(e,t)=>{switch(e){case"Reviews":return t.string("common_Reviews");case"Questions":return t.string("mobile_questions_answers");case"RoomTips":return t.string("tabs_room_tips_title_fffff661");default:return""}},eO=e=>{var{localize:t}=p(),{enabled:d}=H(),u=c.useContext(q);return c.useEffect(()=>(u.add(r.reviews),()=>{u.delete(r.reviews)}),[u]),n(ed,{locationId:e.locationId,children:[o(s,{section:e.isTabbedTestEnabled?"reviewsTabs":"reviews",theme:"none",children:o(k,{children:o(en,{...e,countClass:ex.tabCount,typeClass:ex.typeText,children:t=>t.map(t=>o(y,{children:i=>n(R,{active:t.tab===e.selectedTab,onClick:t.count>0?()=>{i({elementType:t.tab,actionName:"HR_GROUPING_TAB"}),e.setSelectedTab(t.tab,!0)}:()=>!1,className:a(ex.tab,`test-target-tab-${t.tab}`,t.count>0?null:ex.inactive),children:[o(T,{name:t.icon,className:ex.icon}),o("span",{"data-test-target":`CC_TAB_${t.tab}_LABEL`,children:o("span",{dangerouslySetInnerHTML:{__html:t.label}})})]},t.tab)},t.tab))})})}),n(s,{theme:"tabbed-top",joinable:!eo.has(e.selectedTab),section:"communityContent",children:[n(l,{text:n(i,{children:[eE(e.selectedTab,t),"Reviews"===e.selectedTab?n(i,{children:[o(E,{}),o(P,{marginTop:"spacing-02"})]}):null,"RoomTips"===e.selectedTab?o(P,{includeHamonLawLocales:!0,marginTop:"spacing-02"}):null]}),subText:"Questions"===e.selectedTab?o(et,{}):null,noDivider:eo.has(e.selectedTab),isDsStyle:d,children:["Reviews"===e.selectedTab?o(O,{locationId:e.locationId}):null,o(es,{selectedTab:e.selectedTab,locationId:e.locationId,geoId:e.geoId})]}),o(x,{}),"Reviews"===e.selectedTab?o(S,{locationId:e.locationId}):null]}),o(U,{mediaType:"photo",linkUploaderModalName:"link-uploader",modalName:e_,pid:40537,locationId:e.locationId})]})},eS=(e=0)=>{var t=document.querySelector("#REVIEWS"),o=document.querySelector("body");if(o&&t){var n=o.getBoundingClientRect().top;window.scrollTo(0,t.getBoundingClientRect().top-n-e)}};return[()=>{({Consumer:G,Provider:F}=d(ec)),V=g(e=>({cookieDomain:e.meta.cookieDomain}))(em),J=eh,K=ep,X=g(e=>({location:e.page.detailId}))(eb),Y=ev,Z=ew,ee=eI,et=eC,eo=new Set(["Questions","RoomTips"]),$=class extends u{componentDidUpdate(){this.state.defaultTabCheckCompleted||this.defaultTabCheck()}defaultTabCheck(){var{loading:e,hasNoContent:t,questionsCount:o,reviewsCount:n}=this.props.context;e||(this.setState({defaultTabCheckCompleted:!0}),!t&&0===n&&o>0&&this.props.setSelectedTab("Questions"))}render(){var{loading:e,hasNoContent:t,questionsCount:n,reviewsCount:i,roomTipsCount:a}=this.props.context,{selectedTab:s,children:r,countClass:l,typeClass:c}=this.props;if(t)return null;if(e)return o(A,{height:"120px"});var d={selectedTab:s};return r([{tab:"Reviews",icon:"pencil-paper",count:i,label:this.props.localize.string("hr_community_tab_reviews",{countClass:l,typeClass:c,count:i}),...d},{tab:"Questions",icon:"forums",count:n,label:this.props.localize.string("hr_community_tab_questions_2",{countClass:l,typeClass:c,count:n}),...d},{tab:"RoomTips",icon:"lightbulb-on",count:a,label:this.props.localize.string("hr_community_tab_room_tips",{countClass:l,typeClass:c,count:a}),...d}])}constructor(...e){var t,o;super(...e),o={defaultTabCheckCompleted:!1},(t="state")in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}},en=ef,ei=eN,ea=ek,es=ey,er=N((e,t)=>(x.stage(e,t),(e,t)=>t))(eO),e({HEADER_SCROLL_OFFSET:66,H_R_CONTENT_COLLECTION_PID:40537,LowContentCTA:ee,PHOTO_UPLOADER_MODAL_NAME:e_,QUESTION_FORM_MODAL_NAME:eu,TabBarAboveHeader:er,scrollIntoView:eS})},[e=>(o=e.jsx,n=e.jsxs,i=e.Fragment),e=>a=e.default,e=>(s=e.Section,r=e.sectionToElementIdMapping,l=e.ComplexHeader),e=>(c=e,d=e.createContext,u=e.Component,_=e.useEffect,m=e.createElement),e=>h=e.useQuery,e=>p=e.useLocalize,e=>(b=e.default,v=e.trackClick),e=>w=e.DraftReviewConsumer,e=>g=e.connect,e=>I=e.setPIDCookie,e=>T=e.Icon,e=>C=e.SocialLoginGate,e=>f=e.Opener,e=>N=e.bind,e=>(k=e.GroupingTabs,R=e.GroupingTab),e=>y=e.BBMLInteractionLogger,e=>(x=e.SensitiveIssuesBadge,E=e.ReviewControlNotice,O=e.PointsCampaign,S=e.ConnectionReviewsCTA),e=>P=e.default,e=>U=e.MediaUploaderModal,e=>q=e.SectionIdContext,e=>H=e.useHRExpandedCommerce,e=>A=e.default,e=>L=e.useIsPostPhotosNewUploaderEnabled,e=>M=e.HideOnReadonly,e=>Q=e.default,e=>D=e.default,e=>B=e.AuthGated,e=>j=e.createRadio,e=>z=e.default,e=>W=e.useUserReviewTracking]]},["21h32l","fkji80","mjqgle","o4yt4q","mqwhqn","7thqz4","4axon3","rm3gfe","2mj4nv","2ve3zv","ybxsmg","0506zk","80hn7v","6z5q2p","k3un42","5nmd8a","uy63ln","633gr8","sqiy8q","a182zj","wsk8ra","u59av4","bou3nl","zjrz9w","4q9l40","4nzso8","c6bybw","bqgabj","65rb8q","9btuwa"]]);
