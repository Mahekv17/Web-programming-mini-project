(this.$WP=this.$WP||[]).push(["uy63ln",(e,t)=>{var r,i,a,n,s,l,o,c,d,u,h,p,v,m,g,_,f,w,y,b,T,N,S,R,C,I,E,L,A,x,k,O,M,F,P,D,H,V,q,G,j,$,U,B,z,W,X,Q,Y,Z,K,J,ee,et,er,ei,ea,en,es,el,eo,ec,ed,eu,eh,ep,ev,em,eg,e_,ef,ew,ey,eb,eT,eN,eS,eR,eC,eI,eE,eL,eA,ex,ek,eO,eM,eF,eP,eD,eH,eV,eq,eG,ej,e$,eU,eB,ez,eW,eX,eQ,eY,eZ,eK,eJ,e0,e2,e3,e6,e5,e1,e4,e8,e9,e7,te,tt,tr,ti,ta,tn,ts,tl,to,tc,td,tu,th,tp,tv,tm,tg,t_,tf,tw,ty,tb={disclaimer:"YQSVm S2 i d w"},tT=({review:e,className:t})=>{var i,a,l,o=(i=e.mgmtResponse,a=e.provider,l=s(),i?l(a&&a.isLocalProvider?"MANAGEMENT":"MANAGEMENT_PARTNERS"):null);return o?r("div",{className:n(tb.disclaimer,t),children:o}):null},tN={tipline:"Pb",tiplead:"tkWaG b",linkline:"RIvfn Md Nb MC NC"},tS=(e,t)=>{if(!e||e.length<=t)return e;if(t<3)return"";var r=e.lastIndexOf(" ",t-3);return r<t/2&&(r=t-3),`${e.substring(0,r)}...`},tR=()=>(p("hr-community-tab").emit("selectTab","RoomTips",!0),!1),tC=({tipText:e,isSeeMoreLinkEnabled:t})=>{var{localize:n}=c();return e?i(a,{children:[i("div",{className:tN.tipline,children:[r("span",{className:tN.tiplead,children:n("room_tip_colon_f4")})," ",r("span",{dangerouslySetInnerHTML:{__html:tS(e||"",100)}})]}),t&&r("div",{className:`taLnk ${tN.linkline}`,onClick:tR,children:n("see_more_room_tips_f4")})]}):null},tI=({review:e,isSeeMoreLinkEnabled:t=!0})=>r(tC,{tipText:e&&e.roomTip,isSeeMoreLinkEnabled:t}),tE={containerStyles:"vTVDc",reviewText:"QewHA H4 _a",ctaLine:"TnInx",ctaCollapse:"uoxiZ _S Z",cta:"Ignyf _S Z",caret:"Lvqmo",cutReviewText:"_"},tL=e=>(e||"").replace(/[&<>"'\n\u0086\u0087]|&#?[0-9a-zA-Z]+;/g,e=>ek[e]||e),tA=e=>e&&e.match(/^(ar|iw)/i)?"rtl":"ltr",tx=(e,t,r)=>{if(!r)return[e];var i=[];return t.forEach(t=>{(t===e||i.length>0)&&i.push(t)}),i.length>0?i:[e]},tk=(e,t)=>"ACCOMMODATION"===t?e?12:8:4,tO=e=>i("div",{className:tE.ctaLine,"data-test-target":"expand-review",children:[r("span",{className:tE.cta,children:e("common_Read_more")}),r(_,{className:tE.caret,name:"caret-down"})]}),tM=e=>i("div",{className:tE.ctaLine,children:[r("span",{className:tE.ctaCollapse,children:e("common_Readless")}),r(_,{className:tE.caret,name:"caret-up"})]}),tF=(e,t,n)=>{var s=e.replace(/\n/g," ");if(s.length<=n)return r("span",{dangerouslySetInnerHTML:{__html:tL(s)}});var l=s.substr(0,n);if(l=l.substr(0,Math.min(l.length,l.lastIndexOf(" "))),!e.includes("\x87")||l.includes("\x87")){var o=t?r("span",{className:tE.cutReviewText,children:s.substr(l.length,s.length)}):"";return i(a,{children:[r("span",{dangerouslySetInnerHTML:{__html:tL(l)}}),o]})}var c=s.indexOf("\x87"),d=s.substr(c-n,n),u=Math.max(0,d.indexOf(" "));return d=d.substr(u,c-u),i(a,{children:["...",t?r("span",{className:tE.cutReviewText,children:s.substr(0,s.indexOf(d))}):"",r("span",{dangerouslySetInnerHTML:{__html:tL(d)}})]})},tP=e=>{var{localize:t}=c(),{location:n,reviewList:s,review:l,expanded:o,reviews:d,children:u,expandReviews:h,alwaysShowReadMore:p,i18nlanguage:v}=e,_=T(),f=l.id,{text:w,language:b,originalLanguage:N,translationType:S}=l,R={};"MACHINE"===S&&N&&(R.lang=`${v}-x-mtfrom-${N}`);var C=d.map(e=>e.id),I=n?.placeType||"ALL",E=s?.page?.offset===0,L=tk("MOBILE"===_,I),A="ACCOMMODATION"===I?790:280;return i("div",{className:tE.containerStyles,children:[r(m,{collapsible:!0,alwaysShowReadMore:p,cta:tO(t),ctaCollapse:tM(t),ctaNewline:!0,initialDivHeight:20*L,collapsed:!o,clickCallback:e=>("CTA"!==e&&("CONTENT"!==e||o)?"CTA_COLLAPSE"===e&&o&&h(tx(f,C,!1),!1):(h(tx(f,C,!0),!0),y({module:"Reviews",action:"click_read_more",context:"expand"})),!1),numLinesToShow:L,children:r("span",{className:tE.reviewText,...R,children:i(g,{contentLanguage:b||"",children:[o?r("span",{dangerouslySetInnerHTML:{__html:tL(w.trim())}}):tF(w,E,A),!o&&w.length>A&&r(a,{children:"â€¦"})]})})}),u&&u(o)]})},tD=(e,t,r)=>v((i,a)=>{var n=(f(i)||{}).expandedReviews||{};return{i18nlanguage:i.i18n.language,alwaysShowReadMore:t,expanded:r?n[a.review.id]||!(a.review.id in n):n[a.review.id],reviews:a.reviewList.reviews||[],children:t=>e.children&&e.children(a,t)}},{expandReviews:w.expandReviews})(tP),tH={overlayContainer:"Mjrrg",buttonDiv:"jngyZ",reviewText:"dULAC",translateModal:"NAWdx _T _Z o y"},tV=e=>/^zh..$/.test(e)?`${e.substring(0,2)}-${e.substring(2)}`:e,tq=({myLang:e,sourceLang:t,locationId:a,geoId:s,reviewId:l,reviewTranslationType:o,showOverlay:d,isReviewText:u,url:h,onClick:p})=>{var{localize:v}=c();if(o||!(e&&t&&a&&s&&l)||e.substring(0,2)===t.substring(0,2))return null;var m=tV(t),g=void 0!==h?h:`/MachineTranslation?g=${s}&d=${a}&r=${l}&page=review&sl=${m}&tl=${e}`,_=`GoogleTranslation_${l}`;return i("div",{className:n(tH.buttonDiv,u?tH.reviewText:null),children:[r(N,{type:"secondary",size:"small",onClick:()=>{p&&p(),d(_)},children:v("mobile_google_translation")}),r(R,{name:_,children:r("div",{className:tH.overlayContainer,children:r(C,{url:g,responseType:"html",children:({loading:e,data:t})=>e||!t?r(S,{height:"300px",marginTop:"16px"}):r("div",{className:tH.translateModal,dangerouslySetInnerHTML:{__html:t}})})})})]})},tG=({review:e})=>e?r(x,{objectEventType:"onFullReview",object:e,actor:e.userProfile||{},isEmbedded:!1}):null,tj={flex_grid:"pDrIj f z",flex_item:"MtByY _T",use1x1:"PNjsP",use2x1:"wfskf",use3x1:"PfFfr",hasCTA:"MIzNL"},t$=(e,t,r,i)=>{window.require(["trjs!actions/openRespPhotoViewer"],a=>{a.open(e,e.currentTarget,t,r,i,2)})},tU=({photos:e,locationId:t,geoId:s,allowMediaViewer:l})=>{var o=e&&e.length-3,c=k((e,r)=>{l?G("hr_mediaviewer_mas")&&j(t,107,r):t$(e,t,s,r)},[t,s,l]),d="";if(!e||0===e.length)return null;if(e)switch(e.length){case 1:d=n(tj.flex_item,tj.use1x1);break;case 2:d=n(tj.flex_item,tj.use2x1);break;default:d=n(tj.flex_item,tj.use3x1)}return r("div",{className:tj.flex_grid,children:e&&e.filter(e=>!!e).slice(0,3).map((e,t)=>{var n=i(a,{children:[2===t&&o>0&&i("span",{className:tj.hasCTA,children:["+",o]}),r(q,{sources:e.photoSizes,width:"100%",height:"128px"})]});return r("div",{className:d,onClick:t=>c(t,e.id),children:n},e.id||t)})})},tB=({photos:e,locationId:t,geoId:i,allowMediaViewer:a})=>{var n=(e||[]).filter(e=>!!e&&e.statuses.includes("PUBLISHED")).slice(0,4);return n&&n.length?r(eD,{photos:n,locationId:t,geoId:i,allowMediaViewer:a}):null},tz=({review:e,allowMediaViewer:t})=>r(tB,{photos:e.photos,locationId:e.location?.locationId,geoId:e.location?.parentGeoId,allowMediaViewer:t}),tW={containerStyles:"ajLyr",reviewText:"MInAm _a",ctaLine:"rMVaK",header:"nNoCN n",responseDate:"miiHC",ctaCollapse:"ywcNw _S",cta:"HpbNq _S",caret:"diVSr",avatarContainer:"LOrZF",responseMenu:"JrHOP"},tX=()=>i("div",{className:tW.ctaLine,children:[r("span",{className:tW.cta,children:r(o,{id:"common_Read_more"})}),r(_,{className:tW.caret,name:"caret-down"})]}),tQ=()=>i(a,{children:[r("span",{className:tW.ctaCollapse,children:r(o,{id:"common_Readless"})}),r(_,{className:tW.caret,name:"caret-up"})]}),tY=e=>{var{localize:t}=c(),a=d(),{ownerResponse:s,userProfile:l,username:o,connectionToSubject:u,publishedDate:h,locationName:p,reviewId:v,text:_,language:f,expanded:w,header:y,expandReviews:b,translationType:T,additionalClassName:N,alwaysShowReadMore:S}=e,R=$();if(!_||"MACHINE"===T&&!R)return null;var C=w?_:_.replace(/\n/g," "),I=i("div",{className:n(tW.containerStyles,N),children:[r("div",{className:tW.avatarContainer,children:r(X,{size:"small",alt:""})}),i("div",{children:[i("div",{className:tW.header,children:[o&&u&&t("hsx_management_response_header",{0:o,1:u,2:p}),h&&r("div",{className:tW.responseDate,title:h,children:B(new Date(h))?t("relative_dates_responded_caps",{0:z(new Date(h),t,a)}):t("absolute_dates_responded_caps",{0:W(new Date(h),a)})})]}),y&&y(w),r(m,{collapsible:!0,cta:tX(),ctaCollapse:tQ(),ctaNewline:!0,alwaysShowReadMore:S||!1,collapsed:!w,initialDivHeight:20,clickCallback:e=>("CTA"!==e&&("CONTENT"!==e||w)?"CTA_COLLAPSE"===e&&w&&b([v],!1):b([v],!0),!1),numLinesToShow:3.25,children:r("span",{className:tW.reviewText,children:r(g,{contentLanguage:f||"",children:r("span",{dangerouslySetInnerHTML:{__html:tL(C)}})})})})]}),r("div",{className:tW.responseMenu,children:r(Q,{closeOverflowOnScroll:!0,sectionObject:s,sectionActor:l,overrideItems:{FOLLOW:!1,UNTAG:!1},deleteObject:null})})]});return"MACHINE"===T?r(U,{children:I}):I},tZ=e=>v((t,r)=>{var i=r.location||{},a=r.review||{},n={...a.mgmtResponse||{},__typename:"ReviewMgmtResponse"};return{ownerResponse:n,userProfile:a.userProfile||{},reviewId:a.id,username:n.username,connectionToSubject:n.connectionToSubject,publishedDate:n.publishedDate,locationName:i.name,text:n.text,language:n.language,translationType:a.translationType,alwaysShowReadMore:!1,additionalClassName:void 0,header:e.header&&(t=>e.header?e.header(r,t):null),expanded:((f(t)||{}).expandedReviews||{})[a.id]}},{expandReviews:w.expandReviews})(tY),tK=e=>"SHIP"===e,tJ=(e,t,r,i)=>{if("SHIP"===r)switch(e){case 0:return i.string("cruise_review_cabin_type",t);case 1:return i.string("cruise_review_type_of_trip",t);case 2:return i.string("cruise_review_destination",t)}return""},t0=(e,t,r)=>{switch(e){case"ACCOMMODATION":return r.string("Date_of_stay",t);case"AIRLINE":case"CAR_RENTAL_OFFICE":return r.string("Date_of_travel",t);case"ACTIVITY":case"ATTRACTION":return r.string("Date_of_experience",t);case"EATERY":return r.string("Date_of_visit",t);case"SHIP":return r.string("cruise_review_sail_date",t)}return""},t2=({rating:e,labels:t,placeType:a})=>i("div",{className:"IkECb f O",children:[r("div",{className:"Hlmiy F1","data-test-target":"review-rating",children:e?r(Y,{rating:e}):null}),(()=>{if(tK(a)||null==t||0===t.length)return null;var e=[];return t.forEach(t=>{e.push(r("div",{className:"dmRSR n R2 S2",children:t}))}),r("div",{className:"tNvbV f Ng",children:e})})()]}),t3=({review:e})=>r(t2,{rating:e.rating,labels:e.labels,placeType:e.location&&e.location.placeType}),t6=({text:e,type:t,color:i,foldedSize:a,foldedAlign:s,customClassNames:l,onClick:o})=>r("div",{className:n("ui_ribbon",l,{...t&&{[t]:"folded"!==t},..."folded"===t?{...a&&{[a]:"folded"!==a},...s&&{[s]:"folded"!==s}}:{},...i&&{[i]:"default"!==i}}),onClick:o,children:e}),t5=(e,t)=>{if(e.accommodationCategory){if("HOTEL"===e.accommodationCategory)return t.string("hotels_favorite");if("COLLAPSED_BB_INN"===e.accommodationCategory)return t.string("Innkeepers_Favorite_Review")}return t.string("Propertys_Favorite_Review")},t1=({locationInfo:e,index:t,preferredReviewIds:a,review:n,injectHeader:s,renderPhotos:l,renderHeader:o,renderMainCol:d})=>{var{localize:u}=c(),h=t5(e,u);return i(O,{children:[s||null,o(),l(),r(Z,{onVisible:()=>{y({module:"Reviews",action:"review_in_view",value:t,context:n.id.toString()})},children:e=>i("div",{ref:e,className:"WAllg _T","data-reviewid":n.id,children:[a&&a[0]===n.id?r(eq,{type:"flat-right",text:h,color:"primary"}):null,d()]})})]},n.id)},t4=({slots:e,queryProps:t,injectHeader:i,index:a})=>r(t1,{locationInfo:t.reviewList&&t.reviewList.locationInfo,index:a,preferredReviewIds:t.reviewList&&t.reviewList.preferredReviewIds,review:t.review,injectHeader:i,renderHeader:()=>e.header?e.header(t):null,renderPhotos:()=>e.photos?e.photos(t):null,renderMainCol:()=>e.mainCol?e.mainCol(t):null},t.review.id),t8=({title:e,i18nlanguage:t,language:i,originalLanguage:a,translationType:n,reviewId:s,url:l})=>{var o={};"MACHINE"===n&&a&&(o.lang=`${t}-x-mtfrom-${a}`);var c=ee({module:"Reviews",action:"review_title_click",context:s.toString()});return r("div",{className:"KgQgP MC _S b S6 H5 _a",dir:tA(i),"data-test-target":"review-title",children:r(K,{target:"_blank",rel:"noopener",onClick:()=>{c()},href:l,className:"Qwuub",children:r("span",{...o,children:r("span",{dangerouslySetInnerHTML:{__html:tL(e||"")}})})})})},t9={ratings:"ZzICe Me f",rating:"hemdC S2 H2",large:"WWOoy",bubbleRating:"Nd"},t7=({additionalRatings:e,isLoading:t,largeBubbles:a})=>{var{localize:s}=c();return t?r(S,{height:"10px",marginTop:"10px"}):e&&e.length?r("div",{className:t9.ratings,children:e.map(e=>i("div",{className:n(t9.rating,a?t9.large:null),children:[r("span",{className:t9.bubbleRating,children:r(Y,{rating:e.rating})}),r("span",{dangerouslySetInnerHTML:{__html:s.string(e.ratingLabel)}})]},e.ratingLabel))}):null},re=({review:e,location:t})=>r(t7,{isLoading:!1,additionalRatings:e.additionalRatings,largeBubbles:t?.placeType==="ACCOMMODATION"}),rt={event_date:"teHYY _R Me S4 H3",bold:"usajM"},rr=({stayDate:e,placeType:t})=>{var{localize:i}=c(),a=d();return tK(t)?null:e?r("span",{dangerouslySetInnerHTML:{__html:t0(t,{0:rt.bold,1:a.formatDate("date_full_month_year",new Date(e))},i)},className:rt.event_date}):null},ri=({review:e})=>r(rr,{stayDate:e.tripInfo&&e.tripInfo.stayDate,placeType:e.location&&e.location.placeType}),ra={event_detail:"SrZBX Me f",event_key:"SFNCM Me S4 H3",bold:"wSCXE"},rn=({labels:e,placeType:t})=>{var{localize:i}=c();return null==e||0===e.length?null:r(a,{children:e.map((e,a)=>{var n={0:ra.bold,1:e};return r("div",{className:ra.event_key,children:r("span",{dangerouslySetInnerHTML:{__html:tJ(a,n,t,i)}})},ra.event_key)})})},rs=({stayDate:e,placeType:t,labels:a})=>{var n=d(),{localize:s}=c();if(!tK(t))return null;if(e){var l=t0(t,{0:ra.bold,1:n.formatDate("date_full_month_year",new Date(e))},s);return null==a||0===a.length?null:i("div",{className:ra.event_detail,children:[r("div",{className:ra.event_key,children:r("span",{dangerouslySetInnerHTML:{__html:l}})}),r(rn,{labels:a,placeType:t})]})}return null},rl=({review:e})=>r(rs,{stayDate:e.tripInfo&&e.tripInfo.stayDate,placeType:e.location&&e.location.placeType,labels:e.labels}),ro={trip_type:"TDKzw _R Me"},rc=({isLoading:e,tripType:t})=>{var i,a,{localize:n}=c();if(e)return r(S,{height:"10px",marginTop:"10px"});switch(t){case"BUSINESS":a=1;break;case"COUPLES":a=2;break;case"FAMILY":a=3;break;case"FRIENDS":a=4;break;case"SOLO":a=5;break;default:a=null}if(a){var s=n.string("triptype_desc_sentence_pl",{0:a});i=n.string("trip_type_sentence",{0:s})}return i?r("span",{dangerouslySetInnerHTML:{__html:i},className:ro.trip_type}):null},rd=({review:e})=>r(rc,{tripType:e.tripInfo&&e.tripInfo.tripType,isLoading:!1}),ru={disclaimer:"JnvAa o Md S2",question:"khoOz",question_wrapper:"Zfppk"};function rh({loggedUserLocationOwner:e}){var{localize:t}=c(),a=t.string("hr_review_attribution_reppro_flyout");return i("div",{className:"IIgXd o Md S2",children:[r("span",{onClick:e=>{"A"===e.target.tagName&&y({module:"Reviews",action:"review_reppro_attribution_click"})},className:"lGiOh",dangerouslySetInnerHTML:{__html:e?t.string("hr_review_attribution_reppro_v2",{0:"/business/reputationpro",1:""}):t.string("hr_review_attribution_reppro")}}),r(et,{above:!0,message:a,onShow:()=>y({module:"Reviews",action:"review_reppro_attribution_flyout_hover"}),children:e=>r("div",{ref:e,className:"VZFco",children:r(_,{name:"information-circle",className:"yJDAk"})})})]})}var rp=e=>e.string("RCP_attribution_generic_hotel_fffff20a"),rv=(e,t)=>{if(t)switch(t){case"ATTRACTION":return e.string("RCP_attribution_generic_attraction_fffff20a");case"EATERY":return e.string("RCP_attribution_generic_restaurant_fffff20a");case"AIRLINE":return e.string("RCP_attribution_generic_airlines")}return rp(e)},rm=(e,t,r)=>t?e.string("RCP_attribution_branded_fffff20a",{0:t}):rv(e,r),rg=({mcid:e,attribution:t,placeType:a})=>{var{localize:n}=c();if(e&&(t||""===t)){var s=rm(n,t,a);return i("div",{className:ru.disclaimer,children:[s,r(et,{above:!0,message:n("rcp_review_attribution_update"),children:e=>r("div",{ref:e,className:ru.question_wrapper,children:r(_,{name:"information-circle",className:ru.question})})})]})}return null},r_=({checkRepProAttribution:e,review:t,location:i})=>{var a=eX.has(t.mcid)&&new Date(t.publishedDate)>eQ;return e&&a?r(rh,{loggedUserLocationOwner:i.currentUserOwnerStatus?.isValid}):r(rg,{attribution:t.attribution,mcid:t.mcid,placeType:i?.placeType})},rf=e=>{var{review:t,readonlyMode:i,showOverlay:a,userId:n}=e;return!t||"MACHINE"!==t.translationType||0>=(t.mtProviderId||-1)?null:r(er,{children:r(M,{children:r(eZ,{review:t,readonlyMode:i,userId:n,showOverlay:a})})})},rw="rating",ry="safety",rb="travelType",rT="travelTime",rN="language",rS="text",rR="classOfService",rC="route",rI="showMT",rE="sortType",rL="sortBy",rA="connectionsFirst",rx="FAVORABLE_RATING",rk="ML_SORTED",rO={pile_and_copy_wrap:"LhMwG Pd PN Pq PA w f",bold_name:"b",facepile_wrap:"Nd",cta_green:"jKzSh _S b",cta_icon:"ND"},rM=e=>{var t=document&&document.getElementById("REVIEWS");t&&t.scrollIntoView(!0),e()},rF=({locationId:e,placeType:t,setSort:a})=>{var{localize:n}=c();return e?r(ea,{locationId:e,placeType:t,children:(e,s)=>{if(s||!e||!e.locations||!e.locations[0]||!e.locations[0].name)return null;var l=e.connectionContributions.contributionsByLocation[0],o=l.userReviewContributions[0],c=o.userDisplayInformation.fullname?o.userDisplayInformation.fullname:o.userDisplayInformation.username,d=l.userReviewContributions.map(e=>e.userDisplayInformation).filter((e,t,r)=>t===r.findIndex(t=>t.userId===e.userId)),u=d.map(e=>({withBorder:!0,size:"small",photo:{photoSizes:[{url:e.avatarUrl,width:100,height:100}]}})),h=["",n.string("common_Terrible"),n.string("common_Poor"),n.string("common_Average"),n.string("common_Verygood_fffffabd"),n.string("common_Excellent")][o.rating];return r(b,{click:{module:"reviews_social",action:"click_social_header",once:!0},children:i("div",{className:rO.pile_and_copy_wrap,children:[r("div",{className:rO.facepile_wrap,children:r(ei,{avatarProps:u,maxFaces:7})}),i("div",{children:[r("div",{dangerouslySetInnerHTML:{__html:"AIRLINE"===t?d.length>1?n.string("socialproof_friends_have_flown_with_airline",{name_class:rO.bold_name,n_connections_class:rO.bold_name,userName:c,numConnections:d.length-1,airlineName:e.locations[0].name||""}):n.string("single_connection_reviewed_airline",{name_class:rO.bold_name,userName:c,airlineName:e.locations[0].name||""}):d.length>1?n.string("socialproof_friends_visited_non_geo",{name_class:rO.bold_name,n_connections_class:rO.bold_name,userName:c,numConnections:d.length-1,POI:e.locations[0].name||""}):n.string("hr_connection_reviewed_single_see_said",{name_class:rO.bold_name,userName:c,rating_class:rO.bold_name,ratingCategory:h})}}),i("div",{className:rO.cta_green,onClick:()=>rM(a),children:[n("socialproof_see_their_activity",{numPeople:d.length}),r(_,{name:"single-chevron-right-circle-fill",className:rO.cta_icon})]})]})]})})}}):null},rP=({children:e})=>r("div",{className:n("aBbCw b S4 H4"),children:e}),rD={word_button_primary:"SaMXJ Md S2 n",word_button_secondary:"JDpQB Md S2 n",button_wrap:"OBlIq"},rH={ACCOMMODATION:"Hotels",ACTIVITY:"Experiences",AIRLINE:"Flights",ALL:"Hotels",ATTRACTION:"Experiences",EATERY:"Restaurants",SHIP:"Cruises"},rV=(e,t)=>{var r=[],i=t.reviewList.filters[rS]||[],a=t.reviewList.filters[rN]||[];i.forEach(e=>{"TEXT"===e.axis&&e.selections&&e.selections.forEach(e=>{e&&e.split(" ").forEach(e=>{e&&""!==e&&r.push(e)})})});var n="en"===E(e);return a.forEach(e=>{"LANGUAGE"===e.axis&&e.selections&&e.selections.forEach(e=>{e&&""!==e&&"en"!==e&&(n=!1)})}),{...t,keywords:n?t.reviewList.keywords:[],query:r.join(" ")}},rq={setQuery:e=>{var t=(e||"").trim();return""===t?w.changeFilters({[rS]:[]}):w.changeFilters({[rS]:[{axis:"TEXT",selections:[t]}]})}},rG=(e,t,i,a,n)=>{var s,l=` ${e} `,o=()=>{""!==e&&i("")},c=(t,r)=>{var n=` ${t} `,s=l.indexOf(n)>=0;s?i(l.replace(n," ").trim()):i(`${e} ${t}`),y({module:"Reviews_Controls",action:"click_tag_cloud",context:t,value:s?0:1}),r({businessUnit:rH[a],elementType:t,actionName:"REVIEW_FILTER_TAG_CLOUD",itemAttributes:{filter_value:s?0:1}})},d=[];return t&&t.length>0&&(s=t.length>22?t.slice(0,22):t,""===e?d.push(r("button",{className:`ui_button primary small ${rD.word_button_primary}`,children:n("airm_all_reviews")},"*")):d.push(r("button",{className:`ui_button secondary small ${rD.word_button_secondary}`,onClick:e=>{e&&e.detail>0&&e.currentTarget&&e.currentTarget.blur(),o()},children:n("airm_all_reviews")},"*")),s.forEach(e=>{var t=l.indexOf(` ${e} `)>=0;d.push(r(en,{children:i=>r("button",{className:`ui_button ${t?"primary":"secondary"} small ${t?rD.word_button_primary:rD.word_button_secondary}`,onClick:t=>{t&&t.detail>0&&t.currentTarget&&t.currentTarget.blur(),c(e,i)},children:e},e)},e))})),d},rj=e=>{var{localize:t}=c();return r(eI,{...e,localize:t})},r$={icon:"GaiSk S7 H6 Vm PQ",ctaIcon:"WlvDg _S",wrapper:"rXoPE",searchInput:"abNIJ"},rU=e=>i("div",{className:r$.wrapper,children:[r(_,{name:"search",className:r$.icon}),r(el,{...e,className:n(r$.searchInput,e.className)}),e.value&&r("span",{onClick:e.onCTAClick,children:r(_,{name:"times-circle-fill",className:r$.ctaIcon})})]}),rB=e=>{var t=e[rS]||[],r=[],i=[];return(t.forEach(e=>{"TEXT"===e.axis&&e.selections&&e.selections.forEach(e=>{e&&(i.push(e),e.split(" ").forEach(e=>{e&&""!==e&&r.push(e)}))})}),r.length<1)?[]:[{index:0,param:rS,value:i.join(","),label:r.join(" "),tracker:""}]},rz=(e,t)=>{var r=[],i=t.reviewList.filters[rS]||[],a=t.reviewList.filters[rN]||[];i.forEach(e=>{"TEXT"===e.axis&&e.selections&&e.selections.forEach(e=>{e&&e.split(" ").forEach(e=>{e&&""!==e&&r.push(e)})})});var n="en"===E(e);return a.forEach(e=>{"LANGUAGE"===e.axis&&e.selections&&e.selections.forEach(e=>{e&&""!==e&&"en"!==e&&(n=!1)})}),{...t,keywords:n?t.reviewList.keywords:[],query:r.join(" ")}},rW=e=>{var{localize:t}=c();return r(eE,{...e,localize:t})},rX={MOST_RECENT:"MOST_RECENT",ML_SORTED:"ML_SORTED"},rQ=e=>e&&e[rE]===rk?rX.ML_SORTED:rX.MOST_RECENT,rY={dropdownWrapper:"SVsAL d",sortTooltipIcon:"AWFnX",inlineTooltip:"GyFaf S2 H1 _X"},rZ=({reviewList:e,changePrefs:t})=>{var{localize:n}=c(),[s,l]=D(""),o=k((e,t)=>{e.stopPropagation(),l(e=>e===t?"":t)},[l]),d=k(()=>{setTimeout(()=>l(""),100)},[l]),u=k((e,t)=>i(a,{children:[e.label,e.tooltipText&&!t&&i(a,{children:[r("span",{onClick:t=>o(t,e.value),children:r(_,{name:"information-circle",className:rY.sortTooltipIcon})}),s===e.value&&r("div",{className:rY.inlineTooltip,children:e.tooltipText})]})]}),[o,s]),h=H(()=>e9.map(e=>t=>u(e,t)),[u]),p=rQ(e?.prefs),v=e9.findIndex(e=>e.value===p);return i(a,{children:[n("airm_sortBy"),r("span",{className:rY.dropdownWrapper,children:r(eo,{options:h,selectedIndex:v,onSelect:e=>{t(e7[e9[e].value])},onClose:d,open:!1,size:"large",allowOptionWrapping:!0,hideSelection:!0,beneathPersistentTripSearch:!0,openBelow:!0})})]})},rK={sortOverlayContainer:"oGwHH",sortMenuPrimaryText:"QbdgX b",selected:"JzMvy",sortMenuItem:"tXAlg Cj",sortTooltipIcon:"XUFpV",inlineTooltip:"ahuSd _X"},rJ=({reviewList:e,changePrefs:t})=>{var[n,s]=D(""),l=k((e,t)=>{e.stopPropagation(),s(e=>e===t?"":t)},[s]),o=e=>{t(e7[e])},c=rQ(e?.prefs);return r("div",{className:rK.sortOverlayContainer,children:e9.map(e=>i("div",{className:`${rK.sortMenuItem} ${c===e.value?rK.selected:""}`,children:[r(ec,{name:"reviewsortoption",value:e.value,selected:c===e.value,onSelect:()=>o(e.value),children:r("span",{className:rK.sortMenuPrimaryText,children:e.label})}),e.tooltipText&&i(a,{children:[r("span",{onClick:t=>l(t,e.value),children:r(_,{name:"information-circle",className:rK.sortTooltipIcon})}),n===e.value&&r("div",{className:rK.inlineTooltip,children:e.tooltipText})]})]},e.value))})},r0=["fr-FR"];function r2(){var{localize:e}=c();return i("div",{className:"NudNn",children:[e("Disclaimer_Reviews_Control_Hamon_FR")," ",i("a",{href:"/pages/service.html",children:[e("hotel_info_about_service")," "]})]})}function r3(){var e=u(),{localize:t}=c();return r0.includes(e)?i("div",{className:"drhQP S4 Hn n d",children:[r("div",{className:"d",children:r(ed,{below:!0,alignEdge:"left",closeButton:!1,contents:()=>r(r2,{}),children:(e,t)=>r("div",{ref:e,onClick:t,className:"fnBAj _S d",children:r(_,{name:"question-circle"})})})}),t("CTA_Review_Control_Hamon_FR")]}):null}var r6={filter_table:"LojWi w S4",row_label:"jRZDE Vm _S",filter_row:"XpoVm"},r5=e=>({"":e.string("reviews_all_reviewers"),[rA]:e.string("ppl_you_know")}),r1=({reviewList:e,selectedSort:t,displayType:a,placeType:s,updateSort:l})=>{var{localize:o}=c(),d=r5(o);return e&&e.locationInfo&&e.locationInfo.locationId?r(ea,{locationId:e.locationInfo.locationId,placeType:s,children:(e,s)=>{if(s||!e)return null;for(var c=[],u=[],h=Object.keys(d),p=h.includes(t)?t:"",v=function(e){c.push(i("li",{className:n("ui_radio",r6.filter_row),children:[r("input",{id:`ReviewedByRadio_${e}`,type:"radio",value:h[e],checked:h[e]===p,onChange:()=>{l(h[e]),y({module:"Reviews_Controls",action:"click_social",context:"people_you_know",value:h[e]===rA?1:0})}}),r("label",{htmlFor:`ReviewedByRadio_${e}`,className:r6.row_label,children:d[h[e]]})]},e)),h[e]===p&&""!==h[e]&&u.push({id:String(e),value:d[h[e]],active:!0})},m=0;m<h.length;++m)v(m);return"dropdown"===a?r(em,{category:"reviews",textTitle:o.string("reviewed_by_title"),itemsActive:u,itemsVisible:r("ul",{className:r6.filter_table,children:c})}):i("div",{children:[r(e6,{children:o("reviewed_by_title")}),r("ul",{className:r6.filter_table,children:c})]})}}):null},r4="ReviewList_Filters",r8=(e,t,r,i)=>{var a=e[r];if(a){var n={[i]:!0};i.split(",").forEach(e=>{n[e]=!0}),t({[r]:a.map(e=>({...e,selections:(e.selections||[]).filter(e=>!n[e])})).filter(e=>e.selections.length>0)})}},r9=(e,t,i,a)=>"ReviewRatingFilter"===e.name?r(eh,{mobile:{width:12},width:5,children:r(e.content,{reviewList:t,reviewAggregations:i,placeType:a})},e.name):"LanguageFilter"===e.name&&a?r(eh,{mobile:{shown:!1},tablet:{shown:!0,width:e.tabletWidth},children:r(e.content,{reviewList:t,placeType:a,reviewAggregations:i})},e.name):"HealthAndSafetyFilter"===e.name?r(eh,{mobile:{width:12},width:e.tabletWidth,children:r(e.content,{reviewList:t,reviewAggregations:i,placeType:a})},e.name):r(eh,{mobile:{shown:!1},tablet:{shown:!0,width:e.tabletWidth},children:r(e.content,{reviewList:t,placeType:a})},e.name),r7=(e,t,i,a)=>(e.name,r("div",{className:"UAJMm Z",children:r(e.content,{displayType:"dropdown",reviewList:t,placeType:a,reviewAggregations:i})},e.name)),ie=(e,t,n,s)=>e.length>4?i(a,{children:[r(eu,{children:e.slice(0,4).map(e=>r9(e,t,n,s))}),r(eu,{children:e.slice(4,e.length).map(e=>r9(e,t,n,s))})]}):r(eu,{children:e.map(e=>r9(e,t,n,s))}),it=({reviewList:e,reviewAggregations:t,showOverlay:n,changeFilters:s,filters:l,placeType:o})=>{var{localize:d}=c();return i("div",{className:"xuMDM",children:[ie(l,e,t,o),i("div",{className:"oJflF f z",children:[r("div",{className:"XtOaI z",children:r(tr,{reviewList:e,placeType:o})}),i("div",{className:"vILgl z",children:[i("div",{className:"UXuGN q _e _h is-hidden-tablet",children:[r("div",{className:"cSCaS S4 H3 b",children:d("hs_selected_filters")}),r(ep,{actions:[{label:d.string("filter_ffffe84e"),chevron:!0,onClick:n,tracker:""}],selections:[...[].concat(...l.map(t=>t.computeFilterSettings(e.filters,d))),...rB(e.filters)],onClearSelection:(t,r)=>r8(e.filters,s,t,r)})]}),r(e5,{reviewList:e,placeType:o})]})]}),r(ev,{name:r4,slideFrom:"right",bodyContentClass:"Xcsaz",header:i(a,{children:[r("div",{className:"nbpyD c S4 H3 b",children:d("filter_reviews")}),r("div",{className:"ENdvC c S4 H3 b",children:d("num_results_plural",{0:e.totalCount||0})})]}),children:()=>r(a,{children:l.map(r=>r7(r,e,t,o))})})]})},ir=({showMT:e,mtOn:t,mtOff:a})=>{var{localize:n}=c();return i("div",{className:"lsSWK H3 P4",children:[r("span",{className:"IYwrC",children:n("machine_translated_review_display_toggle")})," ",i("div",{className:"ui_radio",children:[r("input",{type:"radio",id:"autoTranslateYes",value:"true",checked:e,onChange:t}),r("label",{htmlFor:"autoTranslateYes",children:n("common_Yes")})]}),i("div",{className:"ui_radio",children:[r("input",{type:"radio",id:"autoTranslateNo",value:"false",checked:!e,onChange:a}),r("label",{htmlFor:"autoTranslateNo",children:n("common_No")})]}),r(et,{above:!0,alignEdge:"right",message:n("machine_translated_google_disclaimer"),children:e=>r("span",{ref:e,className:"ui_icon information-circle kLIjR _m"})})]})},ii={no_results_alert:"SFQus"},ia=({reviewList:e,renderReview:t,clearFilters:i,listQueryProps:a,allowExpansion:n,expanded:s})=>{var{localize:l}=c(),{reviews:o}=e,{fetching:d,displayOwnerCtaLink:u}=eb(a?.location?.locationId||0);if(!o)return r(e_,{numSections:5});var h=-1;if(o.length>0){for(var p=0;p<o.length;++p)if("MACHINE"===o[p].translationType||"MACHINE_SOURCE"===o[p].translationType){h=o[p].id;break}}if(o.length<1)return r("div",{className:ii.no_results_alert,onClick:i,children:r(eg,{variant:"warning",label:l("no_results_found"),children:r("span",{dangerouslySetInnerHTML:{__html:l.string("p13n_reviews_no_results_with_query_and_filters_2")}})})});var v=t=>t.id===h?r(ta,{reviewList:e}):null,m=o.map((e,r)=>t?t({queryProps:{...a,review:e},injectHeader:v(e),index:r,hidden:n&&!s&&r>=5}):null);return!d&&u&&e.page?.offset===0&&m.splice(1,0,r(ey,{locationId:a.location.locationId},"reviewWidget")),m},is=e=>{var{root:t,location:n,reviewList:s,reviewAggregations:l,renderHeader:o,renderReviewFilters:c,renderReview:d,renderListFooter:h,clearFilters:p,changePage:v}=e,m={root:t,location:n,reviewList:s,reviewAggregations:l},g=n?.placeType||"ACCOMMODATION",{page:_,path:f}=ew(),w="en-US"===u()&&"Hotel_Review"===_?10:5,[y,b]=D(!1);return r(en,{children:e=>i(a,{children:[o?o(m):null,s.hasReviews||s.isLoading?i(a,{children:[c?c({reviewList:s,reviewAggregations:l,placeType:g}):null,r(ia,{reviewList:s,renderReview:d,clearFilters:p,listQueryProps:m,allowExpansion:!1,expanded:y})]}):null,h?h({location:n,reviewList:s,reviewAggregations:l}):null,(s.totalCount&&s.totalCount,null),s.totalCount&&s.totalCount>w&&s.page?r(ef,{total:s.totalCount,limit:s.page.limit,offset:s.page.offset,module:"Reviews",onClick:(t,r)=>{v(t),e({actionName:"REVIEW_NAV",businessUnit:rH[n?.placeType||"ALL"],elementType:t.buttonType,itemAttributes:{page_number:t.pageNumber,offset:t.offset,limit:t.limit}}),r.preventDefault()},url:e=>L(s?.locationInfo?.url||f,e.offset)}):null]})})},il=e=>v((t,r)=>({...r,renderHeader:e.reviewListHeader,renderReview:e.review,renderReviewFilters:e.reviewFilters,renderListFooter:e.listFooter}),{changePage:w.changePage,clearFilters:w.clearFilters})(is),io={__key:18690400991669,id:"10ffb2b639b5aa88",loc:{},definitions:[]};function ic(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var id=[0,0,0,0,0],iu=(e,t,r)=>{if(!t)return e;var i={...e};return Object.keys(t).forEach(r=>{t&&t[r]>(e[r]||0)&&(i[r]=t[r])}),(!e[""]||r&&r>e[""])&&(i[""]=r||0),i},ih=e=>!G("hotel_review_is_thin_content")&&e?[{axis:"LANGUAGE",selections:[e]}]:[],ip=(e,t)=>{try{if(!t)return{[rN]:ih(e)};var r=JSON.parse(t);if(!r||!r.length||!r.forEach)return{};var i={};return r.forEach(e=>{var t=e2[e.axis];t&&(i[t]=i[t]||[],i[t].push(e))}),i}catch(e){return{}}},iv=(e,t,r,i)=>{try{if(!r||"{"!==r.charAt(0))return i||{};var a=JSON.parse(r);if(!a)return i||{};var n={[rI]:!!a[rI],[rE]:a[rE],[rL]:a[rL]};if(e)return{...n,[rE]:rA};if(t)return{...n,[rE]:rk,[rL]:rx};return n}catch(e){return{}}},im=e=>`locationReviewFilters_${e}`,ig=e=>`locationReviewPrefs_${e}`,i_=(e,t,i,a)=>n=>r(to,{queryNode:e,renderList:t,pageSize:void 0!==n.numReviews?n.numReviews:i,defaultShowMlSortedReviews:!0===n.defaultShowMlSortedReviews,ignoreFilters:a}),iw=e=>[e.string("common_Terrible"),e.string("common_Poor"),e.string("common_Average"),e.string("common_VeryGood"),e.string("common_Excellent")],iy=(e,t)=>{var r=e[rw]||[],i={},a=[],n=iw(t);r.forEach(e=>{"RATING"===e.axis&&e.selections&&e.selections.forEach(e=>{i[e]=!0})});for(var s=5;s>=1;--s)i[s]&&a.push({index:0,param:rw,value:String(s),label:n[s-1],tracker:""});return a},ib=({reviewList:e,reviewAggregations:t,displayType:s,changeFilters:l,clearFilters:o,prefilterRating:u,placeType:h})=>{var p=d(),{localize:v}=c(),{ratingCounts:m}=t,g=m.reduce((e,t)=>e+t,0),_=[],f=[],w={},b=iw(v),T=e.filters[rw]||[],[N,S]=D(!1);T.forEach(e=>{"RATING"===e.axis&&e.selections&&e.selections.forEach(e=>{w[e]=!0})});var R=(e,t)=>{var r=String(e);w[r]=!w[r];var i=Object.keys(w).filter(e=>w[e]).sort();i.length?l({[rw]:[{axis:"RATING",selections:i}]}):l({[rw]:[]}),y({module:"Reviews_Controls",action:"click_ta_rating",context:r,value:w[r]?1:0}),t&&t({businessUnit:rH[h],elementType:r,actionName:"REVIEW_FILTER_TA_RATING",itemAttributes:{filter_value:w[r]?1:0}})};V(()=>{!N&&u&&(o(),R(u),S(!0))},[]);for(var C=function(e){var t=0;g>0&&(t=100*m[e-1]/g),_.push(r(en,{children:a=>i("li",{className:n("ui_checkbox",r6.filter_row,{iLXuy:0===m[e-1]}),children:[r("input",{id:`ReviewRatingFilter_${e}`,type:"checkbox",value:e,checked:!!w[String(e)],onChange:()=>R(e,a),disabled:0===m[e-1]}),r("label",{htmlFor:`ReviewRatingFilter_${e}`,className:`${r6.row_label} cmbUQ`,children:b[e-1]}),r("span",{className:"cttET w",onClick:()=>0===m[e-1]||R(e,a),children:r("span",{className:"SbGYk _T w R2 _S",children:r("span",{className:"TmJIB R2",style:{width:`${t}%`}})})}),r("span",{className:"NLuQa",children:p.formatNumber("integer",m[e-1])})]},e)},e)),w[String(e)]&&f.push({id:String(e),value:b[e-1],active:!0})},I=5;I>=1;--I)C(I);return"dropdown"===s?r(em,{category:"reviews",textTitle:v.string("common_Travelerrating"),itemsActive:f,itemsVisible:r("ul",{className:r6.filter_table,children:_})}):i(a,{children:[r(e6,{children:v("common_Travelerrating")}),r("ul",{className:r6.filter_table,children:_})]})},iT=["Family","Couples","Solo","Business","Friends"],iN=e=>[e.string("favorite_review_travelertype_families"),e.string("favorite_review_travelertype_couples"),e.string("favorite_review_travelertype_solo"),e.string("favorite_review_travelertype_business"),e.string("favorite_review_travelertype_friends")],iS=(e,t)=>{var r=e[rb]||[],i={},a=[],n=iN(t);r.forEach(e=>{"SEGMENT"===e.axis&&e.selections&&e.selections.forEach(e=>{i[e]=!0})});for(var s=0;s<iT.length;++s)i[iT[s]]&&a.push({index:0,param:rb,value:iT[s],label:n[s],tracker:""});return a},iR=({filter:e,displayType:t,changeFilters:s,placeType:l})=>{var{localize:o}=c(),d=[],u=[],h={},p=iN(o);e.forEach(e=>{"SEGMENT"===e.axis&&e.selections&&e.selections.forEach(e=>{h[e]=!0})});for(var v=(e,t)=>{h[e]=!h[e];var r=Object.keys(h).filter(e=>h[e]).sort();r.length?s({[rb]:[{axis:"SEGMENT",selections:r}]}):s({[rb]:[]}),y({module:"Reviews_Controls",action:"click_traveler_filter",context:e,value:h[e]?1:0}),t({businessUnit:rH[l],elementType:e,actionName:"REVIEW_FILTER_TRAVEL_TYPE",itemAttributes:{filter_value:h[e]?1:0}})},m=function(e){d.push(r(en,{children:t=>i("li",{className:n("ui_checkbox",r6.filter_row),children:[r("input",{id:`TravelTypeFilter_${e}`,type:"checkbox",value:iT[e],checked:!!h[iT[e]],onChange:()=>v(iT[e],t)}),r("label",{htmlFor:`TravelTypeFilter_${e}`,className:r6.row_label,children:p[e]})]},e)},e)),h[iT[e]]&&u.push({id:String(e),value:p[e],active:!0})},g=0;g<iT.length;++g)m(g);return"dropdown"===t?r(em,{category:"reviews",textTitle:o.string("traveler_type"),itemsActive:u,itemsVisible:r("ul",{className:r6.filter_table,children:d})}):i(a,{children:[r(e6,{children:o("traveler_type")}),r("ul",{className:r6.filter_table,children:d})]})},iC=[[3,4,5],[6,7,8],[9,10,11],[12,1,2]],iI=e=>[e.string("season_mar_may_1cb3"),e.string("season_jun_aug_1cb3"),e.string("season_sep_nov_1cb3"),e.string("season_dec_feb_1cb3")],iE=(e,t)=>{var r=e[rT]||[],i={},a=[],n=iI(t);r.forEach(e=>{"MONTH"===e.axis&&e.selections&&e.selections.forEach(e=>{i[e]=!0})});for(var s=0;s<iC.length;++s)!function(){var e=!1;iC[s].forEach(t=>{e=e||i[String(t)]}),e&&a.push({index:0,param:rT,value:iC[s].join(","),label:n[s],tracker:""})}();return a},iL=({filter:e,displayType:t,changeFilters:s,placeType:l})=>{var{localize:o}=c(),d=[],u=[],h={},p=iI(o);e.forEach(e=>{"MONTH"===e.axis&&e.selections&&e.selections.forEach(e=>{h[e]=!0})});for(var v=(e,t)=>{var r=!1;iC[e].forEach(e=>{r=r||h[String(e)]}),r=!r,iC[e].forEach(e=>{h[String(e)]=r});var i=Object.keys(h).filter(e=>h[e]).sort();i.length?s({[rT]:[{axis:"MONTH",selections:i}]}):s({[rT]:[]}),y({module:"Reviews_Controls",action:"click_season",context:iC[e].join(),value:r?1:0}),t({businessUnit:rH[l],elementType:iC[e].join(),actionName:"REVIEW_FILTER_TRAVEL_TIME",itemAttributes:{filter_value:r?1:0}})},m=function(e){var t=!1;iC[e].forEach(e=>{t=t||h[String(e)]}),d.push(r(en,{children:a=>i("li",{className:n("ui_checkbox",r6.filter_row),children:[r("input",{id:`TravelTimeFilter_${e}`,type:"checkbox",value:e,checked:!!t,onChange:()=>v(e,a)}),r("label",{htmlFor:`TravelTimeFilter_${e}`,className:r6.row_label,children:p[e]})]},e)},e)),t&&u.push({id:String(e),value:p[e],active:!0})},g=0;g<iC.length;++g)m(g);return"dropdown"===t?r(em,{category:"reviews",textTitle:o.string("p13n_time_of_year"),itemsActive:u,itemsVisible:r("ul",{className:r6.filter_table,children:d})}):i(a,{children:[r(e6,{children:o("p13n_time_of_year")}),r("ul",{className:r6.filter_table,children:d})]})},iA={paren_count:"POjZy",taLnk:"EfbKZ b _S",row_label:"Qukvo Vm _S",no_wrap:"ZmySZ q"},ix=(e,t)=>("ATTRACTION"===t||"ACTIVITY"===t)&&""===e,ik=null,iO=e=>ik=ik||{...A(e),"":e.string("common_alllangs_3dd")},iM="ReviewList_Languages",iF=(e,t)=>{var r=e[rN]||[],i=[],a=iO(t);return r.forEach(e=>{"LANGUAGE"===e.axis&&e.selections&&e.selections.forEach(e=>{a[e]&&i.push({index:0,param:rN,value:e,label:a[e],tracker:""})})}),i},iP=({reviewList:e,reviewAggregations:t,displayType:s,myLang:l,showOverlay:o,hideOverlay:u,changeFilters:h,clearFilters:p,prefilterLang:v,placeType:m})=>{var{localize:g}=c(),_=d(),f=[],w=[],b={},T=e.filters[rN]||[],N=iO(g),[S,C]=D(!1),I={...t.languageCounts||{}};T.forEach(e=>{"LANGUAGE"===e.axis&&e.selections&&e.selections.forEach(e=>{I[e]=I[e]||0,b[e]=!0})}),l&&N[l]&&(I[l]=I[l]||0);for(var E=Object.keys(I).filter(e=>N[e]&&!!(I[e]||b[e]||""===e||e===l)).sort((e,t)=>I[t]-I[e]||e.localeCompare(t)),L=-1,A=0;A<E.length;++A)if(b[E[A]]&&(S||!v)||!S&&v&&E[A]===v){L=A;break}var x=E.length;if("dropdown"!==s&&x>5&&(x=4,L>=4)){var k=E[L];E.splice(L,1),L=3,E.splice(L,0,k)}var M=L>0?E[L]:"",F=(e,t,r)=>{e&&""!==e?h({[rN]:[{axis:"LANGUAGE",selections:[e]}]},t):h({[rN]:[]},t),y({module:"Reviews_Controls",action:"click_language",context:e}),r&&r({businessUnit:rH[m],elementType:e,actionName:"REVIEW_FILTER_LANGUAGE"}),u()};V(()=>{!S&&v?(p(),F(v,!1),C(!0)):M!==l&&F(l,!1)},[]);for(var P=function(e){f.push(r(en,{children:t=>i("li",{className:n("ui_radio",r6.filter_row),children:[r("input",{id:`LanguageFilter_${e}`,type:"radio",value:E[e],checked:E[e]===M,onChange:()=>F(E[e],!0,t)}),i("label",{htmlFor:`LanguageFilter_${e}`,className:iA.row_label,children:[r("span",{className:iA.no_wrap,children:N[E[e]]}),!ix(E[e],m)&&i("span",{className:`${iA.paren_count}`,children:["(",_.formatNumber("integer",I[E[e]]||0),")"]})]})]},e)},e)),E[e]===M&&""!==E[e]&&w.push({id:String(e),value:N[E[e]],active:!0})},H=0;H<x;++H)P(H);if("dropdown"===s)return r(em,{category:"reviews",textTitle:g.string("OwnerResponse_filter_languages_1"),itemsActive:w,itemsVisible:r("ul",{className:r6.filter_table,children:f})});var q=null;if(E.length>x){for(var G=[],j=function(e){G.push(r(en,{children:t=>i("li",{className:n("ui_radio",r6.filter_row),children:[r("input",{id:`LanguageFilter_${e}`,type:"radio",value:E[e],checked:E[e]===M,onChange:()=>F(E[e],!0,t)}),i("label",{htmlFor:`LanguageFilter_${e}`,className:r6.row_label,children:[N[E[e]],"\xa0",!ix(E[e],m)&&i("span",{className:`${iA.paren_count}`,children:["(",_.formatNumber("integer",I[E[e]]||0),")"]})]})]},e)},e))},$=0;$<E.length;++$)j($);q=i(O,{children:[r(R,{name:iM,children:r("ul",{className:r6.filter_table,children:G})}),r("div",{onClick:o,className:iA.taLnk,children:r("span",{className:"text",children:g("common_more_capital_ffffe27f")})})]},"moreLink")}return i(a,{children:[r(e6,{children:g("OwnerResponse_filter_languages_1")}),i("ul",{className:r6.filter_table,children:[f,q]})]})},iD=["BASIC_ECONOMY","ECONOMY","PREMIUM_ECONOMY","BUSINESS","FIRST"],iH=["BasicEconomy","Economy","PremiumEconomy","Business","First"],iV=[8729017,8729019,8729020,8729060,8729213,8729086,8729099,8729157,8700105,8729177];function iq(e){var t=[];return t.push(e.string("flights_airline_reviews_basic_economy")),t.push(e.string("airm_economy")),t.push(e.string("airm_premiumEconomy")),t.push(e.string("airm_businessClass")),t.push(e.string("airm_firstClass")),t}var iG=(e,t)=>{var r=e[rR]||[],i={},a=[],n=iq(t);r.forEach(e=>{"CLASS_OF_SERVICE"===e.axis&&e.selections&&e.selections.forEach(e=>{i[e]=!0})});for(var s=0;s<iD.length;++s)i[iD[s]]&&a.push({index:0,param:rR,value:iD[s],label:n[s],tracker:""});return a},ij=({filter:e,displayType:t,changeFilters:s,reviewList:l})=>{var{localize:o}=c(),d=[],u=[],h={},p=l&&l.locationInfo&&iV.includes(l.locationInfo.locationId),v=iq(o);e.forEach(e=>{"CLASS_OF_SERVICE"===e.axis&&e.selections&&e.selections.forEach(e=>{h[e]=!0})});for(var m=e=>{h[e]=!h[e];var t=Object.keys(h).filter(e=>h[e]).sort();t.length?s({[rR]:[{axis:"CLASS_OF_SERVICE",selections:t}]}):s({[rR]:[]}),y({module:"Reviews_Controls",action:"click_class_of_service_filter",context:e,value:h[e]?1:0})},g=e=>!l.classOfServiceCounts||l.classOfServiceCounts[iH[e]]&&l.classOfServiceCounts[iH[e]]>0,_=function(e){d.push(i("li",{className:n("ui_checkbox",r6.filter_row,{HwZOB:!g(e)}),children:[r("input",{id:`ClassOfServiceFilter_${e}`,type:"checkbox",value:iD[e],checked:!!h[iD[e]],onChange:()=>m(iD[e]),disabled:!g(e)}),r("label",{htmlFor:`ClassOfServiceFilter_${e}`,className:r6.row_label,children:v[e]})]},e)),h[iD[e]]&&u.push({id:String(e),value:v[e],active:!0})},f=p?0:1;f<iD.length;++f)_(f);return"dropdown"===t?r(em,{category:"reviews",textTitle:o.string("airm_cabin"),itemsActive:u,itemsVisible:r("ul",{className:r6.filter_table,children:d})}):i(a,{children:[r(e6,{children:o("airm_cabin")}),r("ul",{className:r6.filter_table,children:d})]})},i$=["True"],iU=e=>[e.string("hs_safety_filter_removable")],iB=(e,t)=>[t.string("hs_safety_filter",{0:e})],iz=(e,t)=>{var r=e[ry]||[],i={},a=[],n=iU(t);r.forEach(e=>{"ALERT_STATUS"===e.axis&&e.selections&&e.selections.forEach(e=>{i[e]=!0})});for(var s=0;s<i$.length;++s)i[i$[s]]&&a.push({index:0,param:ry,value:i$[s],label:n[s],tracker:""});return a},iW=({reviewAggregations:e,filter:t,displayType:s,changeFilters:l})=>{var{localize:o}=c(),[d,u]=D(0);if(!e?.alertStatusCount&&0===d)return null;var h=[],p=[],v={};e?.alertStatusCount&&d!==e?.alertStatusCount&&u(e.alertStatusCount);var m=iB(d,o);t.forEach(e=>{"ALERT_STATUS"===e.axis&&e.selections&&e.selections.forEach(e=>{v[e]=!0})});for(var g=e=>{v[e]=!v[e];var t=Object.keys(v).filter(e=>v[e]).sort();t.length?l({[ry]:[{axis:"ALERT_STATUS",selections:t}]}):l({[ry]:[]}),y({module:"Reviews_Controls",action:"click_safety_filter",context:e,value:v[e]?1:0})},f=function(e){h.push(i("li",{className:n("ui_checkbox",r6.filter_row),children:[r("input",{id:`HealthAndSafetyFilter_${e}`,type:"checkbox",value:i$[e],checked:!!v[i$[e]],onChange:()=>g(i$[e])}),r("label",{htmlFor:`HealthAndSafetyFilter_${e}`,className:r6.row_label,children:m[e]})]},e)),v[i$[e]]&&p.push({id:String(e),value:m[e],active:!0})},w=0;w<i$.length;++w)f(w);return"dropdown"===s?r(em,{category:"reviews",textTitle:o.string("hs_traveler_safety_title"),itemsActive:p,itemsVisible:r("ul",{className:r6.filter_table,children:h})}):i(a,{children:[i("div",{className:"f",children:[r(e6,{children:o("hs_traveler_safety_title")}),r(et,{below:!0,message:o("hs_safety_tooltip"),maxWidth:222,alignEdge:"left",shiftX:-50,shiftArrow:-8,toggleOnTouch:!0,children:e=>r("span",{ref:e,className:"f u PB",children:r(_,{name:"information-circle",className:"IYoaF"})})})]}),r(b,{visible:{module:"Reviews_Controls",action:"impression_safety_filter",once:!0},children:r("ul",{className:r6.filter_table,children:h})})]})},iX=e=>e.message&&e.hasSensitiveIssuesBadge?r(er,{children:r(M,{children:r(tm,{...e})})}):null,iQ=e=>{var[{data:t}]=eS({query:iY,variables:{hotelId:e.locationId}}),i=h();if(!t||!t.HPS_getWebHRComponents)return null;var a=t.HPS_getWebHRComponents.locationAlert,n=t.HPS_getWebHRComponents.location;return a&&n&&a.message&&a.hasSensitiveIssuesBadge&&a.ownerResponse?r(er,{children:r(M,{children:r(t_,{message:a.message,hasSensitiveIssuesBadge:a.hasSensitiveIssuesBadge,responseDate:a.ownerResponse.responseDate,ownerName:a.ownerResponse.ownerName,ownerRole:a.ownerResponse.ownerRole,ownerPropertyName:n.name,ownerResponseText:a.ownerResponse.ownerResponseText,shouldTranslateResponse:G("translate_ta_message_sensitive_issues_badge"),targetLanguage:i})})}):null},iY={__key:58579702702521,id:"3547265ee1b98a43",loc:{},definitions:[]},iZ=["AFRICA","ASIA","CANADA","CARIBBEAN","CENTRAL_AMERICA","DOMESTIC","EUROPE","INTERNATIONAL","MEXICO","MIDDLE_EAST","NORTH_AFRICA","NORTH_ASIA","RUSSIA","SE_ASIA","SOUTH_AMERICA","SOUTH_PACIFIC","TRANS_TASMAN","USA"],iK=e=>[e.string("routecategory_africa"),e.string("routecategory_asia"),e.string("routecategory_canada"),e.string("routecategory_caribbean"),e.string("routecategory_central_america"),e.string("routecategory_domestic"),e.string("routecategory_europe"),e.string("routecategory_international"),e.string("routecategory_mexico"),e.string("routecategory_middle_east"),e.string("routecategory_north_africa"),e.string("routecategory_north_asia"),e.string("routecategory_russia"),e.string("routecategory_southeast_asia"),e.string("routecategory_south_america"),e.string("routecategory_south_pacific"),e.string("routecategory_trans_tasmin"),e.string("routecategory_usa")],iJ="ReviewList_Route",i0=(e,t)=>{var r=e[rC]||[],i={},a=[],n=iK(t);r.forEach(e=>{"ROUTE"===e.axis&&e.selections&&e.selections.forEach(e=>{i[e]=!0})});for(var s=0;s<iZ.length;++s)i[iZ[s]]&&a.push({index:0,param:rC,value:iZ[s],label:n[s],tracker:""});return a},i2=({filter:e,displayType:t,changeFilters:s,showOverlay:l,reviewList:o})=>{var{localize:d}=c(),u=[],h=[],p={},v=iK(d),[m,g]=D([]);e.forEach(e=>{"ROUTE"===e.axis&&e.selections&&e.selections.forEach(e=>{p[e]=!0})});var _=iZ.length;"dropdown"!==t&&(_=4);var f=e=>{p[e]=!p[e];var t=Object.keys(p).filter(e=>p[e]).sort();t.length?s({[rC]:[{axis:"ROUTE",selections:t}]}):s({[rC]:[]}),y({module:"Reviews_Controls",action:"click_route_filter",context:e,value:p[e]?1:0})};if(0===m.length&&!o.isLoading){for(var w=[],b=0;b<iZ.length;++b)(!o.routeCounts||o.routeCounts[iZ[b]]&&o.routeCounts[iZ[b]]>0)&&w.push(b);g(w)}for(var T=function(e){u.push(i("li",{className:n("ui_checkbox",r6.filter_row),children:[r("input",{id:`RouteFilter_${e}`,type:"checkbox",value:iZ[m[e]],checked:!!p[iZ[m[e]]],onChange:()=>f(iZ[m[e]])}),r("label",{htmlFor:`RouteFilter_${e}`,className:r6.row_label,children:v[m[e]]})]},e)),p[iZ[m[e]]]&&h.push({id:String(e),value:v[m[e]],active:!0})},N=0;N<m.length&&N<_;++N)T(N);var S=null;if(m.length>_){for(var C=[],I=function(e){C.push(i("li",{className:`ui_checkbox ${r6.filter_row}`,children:[r("input",{id:`RouteFilter_${e}`,type:"checkbox",value:iZ[m[e]],checked:!!p[iZ[m[e]]],onChange:()=>f(iZ[m[e]])}),r("label",{htmlFor:`RouteFilter_${e}`,className:r6.row_label,children:v[m[e]]})]},e))},E=0;E<m.length;++E)I(E);S=i(O,{children:[r(R,{name:iJ,children:r("ul",{className:r6.filter_table,children:C})}),r("div",{onClick:l,className:"taLnk",children:r("span",{className:"text",children:d("common_more_capital_ffffe27f")})})]},"moreLink")}return"dropdown"===t?r(em,{category:"reviews",textTitle:d.string("airm_route"),itemsActive:h,itemsVisible:r("ul",{className:r6.filter_table,children:u})}):i(a,{children:[r(e6,{children:d("airm_route")}),i("ul",{className:r6.filter_table,children:[u,S]})]})};function i3({locationId:e}){var[t,i]=D(null);return r("div",{ref:eC(()=>{fetch(`/data/1.0/reviewpointscampaign/${e}`,{method:"GET",credentials:"same-origin"}).then(e=>{if(e.ok)return e.json();throw Error()}).then(e=>{i(e)}).catch(()=>!1)},0,1),children:r(er,{children:r(M,{children:t&&t.campaignPointValue>0&&r(ty,{campaign:t})})})})}var i6={disclaimer:"XCJRC S2 Me MD i"},i5=({review:e,className:t})=>{var{disclaimer:a,translationText:s}=function(e,t,i,a){var n,s="INDIVIDUAL_TRAVELER",{localize:o}=c();e.isLocalProvider?s="MEMBER":e.isToolProvider&&(s="INDIVIDUAL_CONTRIBUTOR");var d=r(l,{variant:s});if("HUMAN"===t){var u,h=A(o)[i||"en"]||i||"en";n=o.string("userreview_92d",{0:h,1:((u=a||"tripadvisor.com").endsWith("daodao.com")&&(u="tripadvisor.cn"),u.startsWith("www")||(u=`www.${u}`),u)})}return{disclaimer:d,translationText:n}}(e.provider,e.translationType,e.original?e.original.language:null,e.original?e.original.submissionDomain:null),o=function(e){var{localize:t}=c();return"HUMAN"===e.translationType&&e.original?r("a",{href:e.original.url,children:t("userreview_92e")}):null}(e);return a?i("div",{className:n(i6.disclaimer,t),children:[a,s,o]}):null};return e({PointsCampaign:i3,ReviewControlNotice:r3}),[()=>{ex=tT,ek={"\x86":'<span class="jLQSJ">',"\x87":"</span>","\n":"<br>","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eO=tP,tP.defaultProps={alwaysShowReadMore:!1},tq.defaultProps={isReviewText:!1,url:void 0},eM=v((e,t)=>({myLang:E(e),sourceLang:t.review&&t.review.language||void 0,reviewTranslationType:t.review&&t.review.translationType||void 0,locationId:t.location&&t.location.locationId||void 0,geoId:t.location&&t.location.parentGeoId||void 0,reviewId:t.review&&t.review.id||void 0,isReviewText:!0,url:void 0,onClick:void 0}),{showOverlay:I.overlays.showGlobalOverlay})(tq),eF=v((e,t)=>({myLang:E(e),sourceLang:t.review&&t.review.mgmtResponse&&t.review.mgmtResponse.language||void 0,reviewTranslationType:t.review&&t.review.mgmtResponse&&t.review.mgmtResponse.translationType||void 0,locationId:t.location&&t.location.locationId||void 0,geoId:t.location&&t.location.parentGeoId||void 0,reviewId:t.review&&t.review.mgmtResponse&&t.review.mgmtResponse.id||void 0,isReviewText:!1,url:void 0,onClick:void 0}),{showOverlay:I.overlays.showGlobalOverlay})(tq),eP=tq,tU.defaultProps={photos:[],locationId:-1,geoId:-1},eD=tU,eH=tB,eV=t2,t6.defaultProps={type:"folded",color:"default",foldedSize:"default",foldedAlign:"default",customClassNames:"",onClick:()=>{}},eq=t6,eG=t1,ej=v((e,t)=>({i18nlanguage:e.i18n.language,reviewId:t.review.id,title:t.review.title,language:t.review.language,originalLanguage:t.review.originalLanguage,translationType:t.review.translationType,url:t.review.url}),{expandReviews:w.expandReviews})(t8),e$=t8,t7.defaultProps={additionalRatings:null},eU=t7,eB=rr,ez=rs,rc.defaultProps={tripType:null},eW=rc,eX=new Set([26630,36167,31832,56342,49806,53840,49280,26470,58378,37673,58370,58610,62657,26576,32899,60331,36916,55343,21607,51676,48931,35231,48226,56776,35274,42626,26574,37676,35827,64442,26610,35230,33504,59617,36513,21608,30145,21438,55340,35829,41608,56334,59981,36924,47327,53822,49707,54688,59983,42628,26514,42446,57222,28155,49276,28683,39221,42625,55407,25045,56787,56773,35232,40326,59972,49803,61833,35083,26584,32915,61835,28035,58598,26566,26622,26609,27684,26626,49224,26612,26577,26592,40299,26598,49949,49951,43257,26572,30451,59982,49709,21610,33538,27685,30454,35275,49881,25111,49798,36320,40621,47326,31806,26606,40298,41607,42447,33505,36915,26603,60332,26631,21529,49277,26471,33506,64841,59410,26587,59661,28153,49801,41610,26608,28152,25110,42627,54685,26593,35273,35637,26623,41652,36516,56788,53843,65297,49814,41655,36539,47325,26589,30452,33537,51673,26633,58703,28682,43254,58375,26472,49275,54926,49795,31814,21606,32941,51674,49799,55341,30023,33532,55342,36318,36536,35272,40328,26578,30025,43283,55002,55754,26582,49879,60295,26613,54999,32916,36910,26634,26573,36315,64842,22009,36926,36317,34329,36321,30144,58609,21579,26570,35639,58368,30026,21528,28154,33534,31812,49274,56340,21577,49278,56335,21604,48225,26469,26625,35640,32945,33530,54925,36310,59979,43284,55001,58700,54720,55756,36316,54928,26594,49706,36311,40325,51678,35085,47269,35084,56790,21564,56789,55408,40623,36313,26632,26591,26629,49802,40324,21527,35638,49710,35826,31807,58701,22010,26565,58596,35086,26616,31833,34330,53838,48928,25109,39224,26621,32898,40327,49880,28034,32943,49816,21578,27683,30024,26619,23312,58612,23307,49815,42448,31809,49952,49817,59411,40622,36515,60296,58377,26586,51677,53836,36514,58376,26597,49281,55406,32900,49797,21605,22006,25042,35277,39223,21437,23318,37674,21609,57224,26635,40329,51680,41650,43256,60294,55753,26618,21603,26628,36538,36913,26575,30881,36923,59980,49279,56774,25043,31831,55405,39228,48929,36537,23311,39226,33540,65295,36909,26583,56775,42449,35828,57225,31813,62656,21565,28037,54719,36166,54722,31808,58367,60334,23317,64843,28036,22008,51675,43255,58597,54687,26585,60297,59409,62658,36319,26516,48930,56333,23316,30147,33535,26517,58611,53824,27682,54927,53842,64840,35233,43282,43281,54721,64441,36912,61834,26580,60333,30879,56343,35276,31830,36312,48227,32944,26588,56332,26579,26615,32940,40322,40297,41609,31811,58702,36914,53837,36911,40296,53835,21566,32938,59974,55755,26599,59662,25044,35270,49804,57223,56341,49796,55e3,26571,26600,54686,28684,49805,53823,51679,39227,62660,35271,40323,26601,26611,26607,26515,40624,49800,49882,41653,37675,26595,36314,59619,64440,26590,32913,39222,49950,26602,58369,30453,26620,26567,26596,34328,36925,21526,33509,26564,30878,59408,34327,64439,58599,59660,32939,32901,30146,26581,26624,36165,59975,22007,61831,26614,53825,32946,21567,36168,26617,28685,30880,26605,33531,23310,23315,39225,32914,25108,21580,53841,59659]),eQ=new Date(2020,10,1),eY=rg,eZ=F(()=>t("8or92s")),eK=v((e,t)=>({...t,review:t.review,readonlyMode:e.meta.readonlyMode,userId:e.auth.loggedInUserId||e.auth.altSessId}),{showOverlay:I.overlays.showGlobalOverlay})(rf),eJ=rf,e0=[rw,ry,rb,rT,rN,rS,rR,rC],e2={RATING:rw,ALERT_STATUS:ry,SEGMENT:rb,MONTH:rT,LANGUAGE:rN,TEXT:rS,CLASS_OF_SERVICE:rR,ROUTE:rC},rF.defaultProps={placeType:void 0},e3=v(()=>({}),{setSort:()=>w.setPrefs({[rE]:rA})})(rF),e6=rP,eI=class extends P{static getDerivedStateFromProps(e,t){return e.query!==t.query?{value:e.query,query:e.query}:null}componentDidMount(){p("traveler-talk-about").on("keywordClicked",this.onKeywordClicked)}onSubmit(e,t){t!==this.state.query?(this.setState({value:t}),this.props.setQuery(t)):t!==this.state.value&&this.setState({value:t})}render(){return i(a,{children:[this.props.keywords&&this.props.keywords.length>0&&r(e6,{children:this.props.localize("community_popular_mentions")}),r("div",{className:`${rD.button_wrap}`,children:rG(this.state.query,this.props.keywords,e=>this.onSubmit(null,e),this.props.placeType,this.props.localize)})]})}constructor(e){var t,r;super(e),t="onKeywordClicked",r=e=>{this.onSubmit(null,e)},t in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r,this.state={value:e.query,query:e.query}}},e5=v(rV,rq)(rj),e1=rU,e4={setQuery:e=>{var t=(e||"").trim();return""===t?w.changeFilters({[rS]:[]}):w.changeFilters({[rS]:[{axis:"TEXT",selections:[t]}]})},clearFilters:w.clearFilters},eE=class extends P{static getDerivedStateFromProps(e,t){return e.query!==t.query?{value:e.query,query:e.query}:null}onSubmit(e,t,r){t!==this.state.query?(this.setState({value:t}),this.props.setQuery(t),y({module:"Reviews_Controls",action:"click_search",context:t}),r({businessUnit:rH[this.props.placeType],elementType:t,actionName:"HR_REVIEW_SEARCH"})):t!==this.state.value&&this.setState({value:t})}onChange(e,t){this.setState({value:t})}onKey(e,t,r){"Enter"===e.key&&this.onSubmit(e,t,r)}onDSChange(e){var t=e.target.value;this.setState({value:t})}onDSKey(e,t){"Enter"===e.key&&this.onSubmit(e,this.state.value,t)}render(){return r(en,{children:e=>this.props.useDsSearchBox?r(es,{placeholder:this.props.localize.string("Search_reviews_248"),value:this.state.value,onChange:e=>this.onDSChange(e),disabled:this.props.disabled,onKeyUp:t=>this.onDSKey(t,e),onBlur:t=>this.onSubmit(t,this.state.value,e),onClear:()=>this.onCTAClick(e)}):r(e1,{placeholder:this.props.localize.string("Search_reviews_248"),value:this.state.value,disabled:this.props.disabled,onChange:(e,t)=>this.onChange(e,t),onKeyUp:(t,r)=>this.onKey(t,r,e),onBlur:(t,r)=>this.onSubmit(t,r,e),onCTAClick:()=>this.onCTAClick(e)})})}constructor(e){var t,r;super(e),t="onCTAClick",r=e=>{this.onSubmit(null,"",e)},t in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r,this.state={value:e.query,query:e.query}}},e8=v(rz,e4)(rW),e9=[{label:"Most Recent",value:rX.MOST_RECENT},{label:"Detailed Reviews",value:rX.ML_SORTED,tooltipText:"Reviews order informed by descriptiveness of user-identified themes such as cleanliness, atmosphere, general tips and location information."}],e7={MOST_RECENT:{[rE]:null,[rL]:null},ML_SORTED:{[rE]:rk,[rL]:rx}},te=v(null,{changePrefs:e=>w.setPrefs(e)})(rZ),tt=v(null,{changePrefs:e=>w.setPrefs(e)})(rJ),tr=v((e,t)=>({...t,selectedSort:t.reviewList.prefs[rE]}),{updateSort:e=>w.setPrefs({[rE]:e})})(r1),ti=v((e,t)=>t,{showOverlay:()=>I.overlays.showGlobalOverlay(r4),changeFilters:w.changeFilters})(it),ta=v((e,t)=>({showMT:!1!==t.reviewList.prefs[rI]}),{mtOn:()=>w.setPrefs({[rI]:!0}),mtOff:()=>w.setPrefs({[rI]:!1})})(ir),tn=class extends P{shouldComponentUpdate(e){return e.version>0&&(!this.props||e.version!==this.props.version)}componentDidUpdate(e){this.props.version>0&&(!e||this.props.version!==e.version)&&this.props.onChange()}render(){return null}},eL=class extends P{componentDidUpdate(e){if(this.props.props.offset!==e.props.offset&&this.props.navigate&&this.props.route&&"object"==typeof window&&window.history&&document){var t={...this.props.route,o:`r${this.props.props.offset}`};this.props.navigate(t,{noHistory:!0});var r=L(window.location.pathname,this.props.props.offset);window.history.pushState(t,document.title,r),window.location.hash="#REVIEWS"}}render(){return null}},ts=v(e=>({offset:f(e).offset}))(J(eL)),tl=G("crawler_or_search_ua"),eA=class extends P{componentDidMount(){this.stash.filters&&!this.props.filtersVersion&&this.props.onGotFilters&&this.props.onGotFilters(this.stash.filters),this.stash.prefs&&!this.props.prefsVersion&&this.props.onGotPrefs&&this.props.onGotPrefs(this.stash.prefs)}render(){var e=!!(this.props.filtersVersion||this.props.prefsVersion||this.props.offset),t=[];this.props.filtersMap&&e&&!this.props.ignoreFilters?(t=[],e0.forEach(e=>{var r=this.props.filtersMap&&this.props.filtersMap[e]||[];!("language"===e&&this.props.filtersMap?.[e]&&this.props.filtersMap?.safety?.length)&&t&&t.push(...r)})):(t=ih(this.props.language),this.props.urlReviewQuery&&t.push({axis:"TEXT",selections:[this.props.urlReviewQuery]}));var n={};this.props.defaultPreferFriendReviews?n={[rE]:rA}:this.props.defaultShowMlSortedReviews&&(n={[rE]:rk,[rL]:rx});var s=this.props.prefsVersion>0&&this.props.prefs||null;if(this.stash.locationId&&this.stash.locationId!==this.props.locationId&&(this.stash={}),!this.props.locationId){this.stash={};var l={hasReviews:!1,keywords:[],page:{offset:0,limit:this.props.pageSize},isLoading:!0,filters:{},prefs:{}};return this.props.renderList({location:null,root:null,reviewList:l,reviewAggregations:{ratingCounts:id,languageCounts:{},alertStatusCount:0}})}return i(a,{children:[r(eT,{query:io,children:({executeMutation:e})=>r(tn,{version:this.props.filtersVersion,onChange:()=>e({key:im(this.props.locationId),val:JSON.stringify(t)})})}),r(eT,{query:io,children:({executeMutation:e})=>r(tn,{version:this.props.prefsVersion,onChange:()=>e({key:ig(this.props.locationId),val:JSON.stringify(s)})})}),r(eN,{query:this.props.queryNode,variables:{locationId:this.props.locationId,offset:this.props.offset,filters:t,prefs:s,initialPrefs:n,limit:this.props.pageSize,filterCacheKey:this.props.filtersVersion>0?null:im(this.props.locationId),prefsCacheKey:this.props.prefsVersion>0||tl?null:ig(this.props.locationId),needKeywords:!(e&&this.stash.keywords),keywordVariant:`location_keywords_v2_llr_order_30_${this.props.language}`},children:({fetching:e,data:t,error:r,executeQuery:i})=>{var a=t&&t.locations&&t.locations[0],l=!e&&a&&a.reviewListPage&&!0,o=a&&a.reviewListPage||{},c=a&&a.reviewAggregations||{},d=o.page&&o.page.offset||this.props.offset,u=c.ratingCounts?c.ratingCounts.reduce((e,t)=>t+e,0):0,h=a&&a.keywords&&a.keywords.keywords;h=(h=h&&h.map(e=>e&&e.keyword).filter(e=>!!e))||this.stash.keywords;var p=o.reviews?o.totalCount||0:this.stash.totalCount,v=c.ratingCounts||this.stash.ratingCounts,m=iu(this.stash.languageCounts||{},c.languageCounts,u),g=this.props.filtersMap||ip(this.props.language,t&&t.cachedFilters),_=s||iv(!this.props.prefsVersion&&this.props.defaultPreferFriendReviews,this.props.defaultShowMlSortedReviews,t&&t.cachedPrefs,n);if(this.stash={locationId:this.props.locationId,keywords:h,totalCount:p,ratingCounts:v,languageCounts:m,filters:g,prefs:_,retryCount:this.stash.retryCount,retryRequested:this.stash.retryRequested},!e){if(l||!r)this.stash.retryRequested=!1,this.stash.retryCount=null;else if(!this.stash.retryRequested){this.stash.retryRequested=!0;var f=(this.stash.retryCount||0)+1;this.stash.retryCount=f,f>=1&&f<=4?setTimeout(()=>{this.stash.retryRequested=!1,i()},[1e3,1e3,1500,2200,3500,1e3,1e3][f]):f>6&&(l=!0)}}var w={root:t,location:t&&t.locations&&t.locations[0],reviewList:{...o,hasReviews:!!u,keywords:h,totalCount:p,page:{offset:d,limit:this.props.pageSize},isLoading:!l,locationInfo:a,filters:g,prefs:_},reviewAggregations:{...c,ratingCounts:v||id,languageCounts:m}};return this.props.renderList(w)}}),r(ts,{})]})}constructor(e){super(e),ic(this,"stash",void 0),this.stash={},this.state={}}},ic(eA,"defaultProps",{offset:0,filtersVersion:0,prefsVersion:0,filtersMap:null,prefs:null,language:"en",pageSize:5}),to=v((e,t)=>{var r=f(e);return{locationId:e.page.detailId&&Number(e.page.detailId),queryNode:t.queryNode,renderList:t.renderList,pageSize:t.pageSize,offset:r.offset||0,filtersVersion:r.filtersVersion||0,filtersMap:r.filters||e.route.q&&{text:[{axis:"TEXT",selections:[e.route.q]}]}||null,prefs:r.prefs,prefsVersion:r.prefsVersion||0,language:E(e),defaultPreferFriendReviews:e.route&&"true"===e.route.preferFriendReviews,urlReviewQuery:e.route.q,defaultShowMlSortedReviews:t.defaultShowMlSortedReviews}},{onGotFilters:w.gotFilters,onGotPrefs:w.gotPrefs})(eA),tc=v((e,t)=>({...t,prefilterRating:e.route.filterRating,myLang:E(e)}),{changeFilters:w.changeFilters,clearFilters:w.clearFilters})(ib),td=v((e,t)=>({filter:t.reviewList.filters[rb]||[]}),{changeFilters:w.changeFilters})(iR),tu=v((e,t)=>({filter:t.reviewList.filters[rT]||[]}),{changeFilters:w.changeFilters})(iL),th=v((e,t)=>({...t,myLang:E(e),prefilterLang:e.route.filterLang}),{showOverlay:()=>I.overlays.showGlobalOverlay(iM),hideOverlay:()=>I.overlays.hideGlobalOverlay(iM),changeFilters:w.changeFilters,clearFilters:w.clearFilters})(iP),tp=v((e,t)=>({filter:t.reviewList.filters[rR]||[]}),{changeFilters:w.changeFilters})(ij),tv=v((e,t)=>({filter:t.reviewList.filters[ry]||[]}),{changeFilters:w.changeFilters})(iW),tm=F(()=>t("s2m6yi")),tg=eR((e,t)=>{var r=e.page.detailId?t(`/data/1.0/hotelDetail/${e.page.detailId}/locationAlert`):null,i=r&&r.get().data;return()=>i||{}})(iX),t_=F(()=>t("s2m6yi")),tf=iQ,tw=v((e,t)=>({filter:t.reviewList.filters[rC]||[]}),{changeFilters:w.changeFilters,showOverlay:()=>I.overlays.showGlobalOverlay(iJ)})(i2),ty=F(()=>t("3jasx5")),e({AdditionalRatings:eU,AdditionalRatingsInListing:re,AttributionFooter:eY,AttributionFooterInListing:r_,ClassOfServiceFilter:tp,ConnectedRateMTFooterShell:eK,ConnectedReviewTitle:ej,ConnectionReviewsCTA:e3,DetailReviewListContainer:to,DisclaimerFooter:i5,EventDate:eB,EventDateInListing:ri,EventDetails:ez,EventDetailsInListing:rl,ExpandableReview:eO,GoogleTranslateButton:eP,HealthAndSafetyFilter:tv,InlineReviewPhotosInListing:tz,InlineRoomTipInListing:tI,LanguageFilter:th,MTFooter:eJ,PREF_NAME_SORTTYPE:rE,Photos:eH,PointsCampaign:i3,REVIEW_SORT_CONNECTIONS_FIRST:rA,RatingLine:eV,RatingLineInListing:t3,ResponseDisclaimerFooter:ex,ReviewControlNotice:r3,ReviewFilters:ti,ReviewGoogleTranslateButton:eM,ReviewHeader:tG,ReviewRatingFilter:tc,ReviewResponseGoogleTranslateButton:eF,ReviewSortDropdown:te,ReviewSortOverlay:tt,ReviewTitle:e$,ReviewedByRadioFilter:tr,RouteFilter:tw,SearchBox:e8,SearchFilter:e5,SensitiveIssuesBadge:tg,SensitiveIssuesBadgeGql:tf,SensitiveIssuesBadgeQuery:iY,SingleReview:eG,SingleReviewInListing:t4,TravelTimeFilter:tu,TravelTypeFilter:td,TripType:eW,TripTypeInListing:rd,connectExpando:tD,connectLocationReviewQuery:i_,connectOwnerResponse:tZ,connectReviewList:il,getCOSSelections:iG,getHealthAndSafetySelections:iz,getLanguageSelections:iF,getRatingSelections:iy,getRouteSelections:i0,getSegmentSelections:iS,getTextSelections:rB,getTimeSelections:iE})},[e=>(r=e.jsx,i=e.jsxs,a=e.Fragment),e=>n=e.default,e=>(s=e.default,l=e.TransparencyLinkReviewDisclosure),e=>(o=e.default,c=e.useLocalize,d=e.useIntlFormatter,u=e.useLocale,h=e.useLanguage),e=>p=e.createRadio,e=>v=e.connect,e=>(m=e.ReadMore,g=e.DirectionalText),e=>_=e.Icon,t=>{f=t.getState,w=t.ACTIONS,e("REVIEW_LIST_ACTIONS",t.ACTIONS)},e=>(y=e.default,b=e.Track),e=>T=e.useViewportCategory,e=>N=e.default,e=>S=e.default,e=>R=e.Modal,e=>C=e.AjaxRequest,e=>I=e.actions,t=>{E=t.contentLangFromState,L=t.getReviewsUrl,A=t.getLanguageNames,e("contentLangFromState",t.contentLangFromState)},e=>x=e.MemberEventOnObjectBlock,e=>(k=e.useCallback,O=e.Fragment,M=e.Suspense,F=e.lazy,P=e.Component,D=e.useState,H=e.useMemo,V=e.useEffect),e=>q=e.ResponsiveImage,e=>G=e.featureIsEnabled,e=>j=e.openMediaViewer,e=>($=e.useIsRobotSafe,U=e.MountedClientOnly),e=>(B=e.shouldUseRelativeDate,z=e.renderRelativeDate,W=e.renderAbsoluteDate),e=>X=e.Avatar,e=>Q=e.SectionOverflowMenu,e=>Y=e.BubbleRating,e=>Z=e.HasBeenVisible,e=>(K=e.Link,J=e.withRouteContext),e=>ee=e.useGARecordCallback,e=>et=e.default,e=>er=e.ErrorBoundary,e=>ei=e.FacePile,e=>ea=e.LocationContributionsPoller,e=>en=e.BBMLInteractionLogger,e=>es=e.default,e=>el=e.TextInput,e=>eo=e.Dropdown,e=>ec=e.default,e=>ed=e.default,e=>(eu=e.Columns,eh=e.Column),e=>ep=e.default,e=>ev=e.default,e=>em=e.FilterGroup,e=>eg=e.InlineAlert,e=>e_=e.FeedLoadingSkeleton,e=>ef=e.default,e=>ew=e.useRoute,e=>ey=e.default,e=>eb=e.default,e=>(eT=e.Mutation,eN=e.Query,eS=e.useQuery),e=>eR=e.bind,e=>eC=e.useOnVisible]]},["21h32l","fkji80","2ksxja","7thqz4","bqgabj","2mj4nv","wgun1f","ybxsmg","itf998","4axon3","ys6v1o","4nzso8","u59av4","8m6oju","1w1pct","45ddp0","jlm8x1","j16vpf","o4yt4q","76j3t0","skjzuv","uk99rb","mb2nze","o5y7tg","ljqkwp","shzb6i","k3tmpy","w0dpwq","bvvaww","32pwc7","wt5b21","83pm0d","eag60k","18jbwy","5nmd8a","gppdva","uovzt8","3yhbda","6110k5","4q9l40","ptdiqu","wi7w8g","vcz45k","ihwtf3","lt9m20","2kokoi","0i47ac","fgwvq1","nghwb4","6ac2ea","mqwhqn","6z5q2p","3btuy0"]]);
