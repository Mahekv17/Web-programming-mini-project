(this.$WP=this.$WP||[]).push(["x816bk",(e,i)=>{var t,r,a,n,s,l,o,d,c,v,h,p,w,u,m,g,b,y,f,T,S,R,_,L,I,C,A,F,N,x,O,B,H,E,k,P,q,z,D,V,Q,j,U,W,M,G,K,Z,$,Y,J,X,ee,ei,et,er,ea,en,es,el,eo,ed,ec,ev,eh,ep,ew,eu,em,eg,eb,ey,ef,eT,eS,eR,e_,eL,eI,eC,eA,eF,eN,ex,eO,eB,eH,eE,ek,eP,eq,ez,eD,eV,eQ,ej,eU={filters_wrap:"lXxJN Gi Z BB",pill_wrap:"TEZss q _e _h",filter_title:"wvNHs S4 H3 b",overlay_header:"PqVWh c S4 H3 b",overlay_count:"fvVVR c S4 H3 b",overlay_group:"BZkcQ Z BB",filters_overlay:"BVytB",reverse_order:"blITD f z",expand_if_possible:"WsLwR z",hide_if_possible:"fhKap z"},eW="ReviewList_Filters",eM="ReviewList_Sort",eG=(e,i,t,r)=>{var a=e[t];if(a){var n={[r]:!0};r.split(",").forEach(e=>{n[e]=!0}),i({[t]:a.map(e=>({...e,selections:(e.selections||[]).filter(e=>!n[e])})).filter(e=>e.selections.length>0)})}},eK=({reviewList:e,reviewAggregations:i,showFilterOverlay:s,changeFilters:l,placeType:o,showSortOptions:d,showSortOverlay:c})=>{var{localize:v}=eo(),h=d?[{label:"Sort",chevron:!0,onClick:c,tracker:""},{label:v.string("filter_ffffe84e"),chevron:!0,onClick:s,tracker:""}]:[{label:v.string("filter_ffffe84e"),chevron:!0,onClick:s,tracker:""}],[p,w]=n(!1),u=()=>{"undefined"!=typeof document&&document.getElementById("hrAdWrapper")&&w(!0)};return es(()=>{u()},[]),t("div",{id:"hrReviewFilters",className:eU.filters_wrap,style:{width:p?"143.7%":"inherit"},children:[t(ec,{children:[t(ev,{mobile:{width:12},width:5,children:[r(_,{reviewList:e,reviewAggregations:i,placeType:o}),r(L,{reviewList:e,reviewAggregations:i})]}),r(ev,{mobile:{shown:!1},tablet:{shown:!0,width:2},children:r(I,{reviewList:e,placeType:o})}),r(ev,{mobile:{shown:!1},tablet:{shown:!0,width:2},children:r(C,{reviewList:e,placeType:o})}),r(ev,{mobile:{shown:!1},tablet:{shown:!0,width:3},children:r(A,{reviewList:e,reviewAggregations:i,placeType:o})})]}),t("div",{className:eU.reverse_order,children:[r("div",{className:eU.hide_if_possible,children:r(F,{reviewList:e})}),t("div",{className:eU.expand_if_possible,children:[t("div",{className:`${eU.pill_wrap} is-hidden-tablet`,children:[r("div",{className:eU.filter_title,children:d?"Sort and Selected Filters":v("hs_selected_filters")}),r(eh,{actions:h,selections:[...N(e.filters,v),...x(e.filters,v),...O(e.filters,v),...B(e.filters,v),...H(e.filters,v),...E(e.filters)],onClearSelection:(i,t)=>eG(e.filters,l,i,t)})]}),r(k,{reviewList:e,placeType:o})]})]}),r(ew,{name:eW,slideFrom:"right",bodyContentClass:eU.filters_overlay,header:t(a,{children:[r("div",{className:eU.overlay_header,children:v("filter_reviews")}),r("div",{className:eU.overlay_count,children:v("num_results_plural",{0:e.totalCount||0})})]}),children:()=>t(a,{children:[r("div",{className:eU.overlay_group,children:r(_,{displayType:"dropdown",reviewList:e,reviewAggregations:i,placeType:o})}),r("div",{className:eU.overlay_group,children:r(L,{displayType:"dropdown",reviewList:e,reviewAggregations:i})}),r("div",{className:eU.overlay_group,children:r(C,{displayType:"dropdown",reviewList:e,placeType:o})}),r("div",{className:eU.overlay_group,children:r(I,{displayType:"dropdown",reviewList:e,placeType:o})}),r("div",{className:eU.overlay_group,children:r(A,{displayType:"dropdown",reviewList:e,reviewAggregations:i,placeType:o})})]})}),d&&r(ew,{name:eM,slideFrom:"right",bodyContentClass:eU.filters_overlay,header:r("div",{className:eU.overlay_header,children:"Sort Reviews"}),children:()=>r(P,{reviewList:e})})]})},eZ={footer:"EftBQ",hiddenReviewContent:"mSSzu",safetyAlert:"QQYQk",searchAndSortByWrapper:"sVlmU u",searchBoxContainer:"HwLHV",sortByContainer:"bThIN I S4"},e$={__key:0xcdaa5ceaefe5,id:"cdaa5ceaefe5b883",loc:{},definitions:[]},eY=()=>{var{page:e}=eg();return"en"===ed()&&"Hotel_Review"===e},eJ=()=>{var e=5;return eY()&&(e=10),e},eX=e=>r(em,{hidden:!!e.hidden,noPadding:!!e.noPadding,children:r(Y,{...e,slots:{header:e=>r(J,{review:e.review}),photos:e=>r(X,{allowMediaViewer:!0,...e}),mainCol:e=>t(a,{children:[r(ee,{...e}),r(ei,{...e}),r(b,{children:r(s,{children:e.review.alertStatus&&r("div",{className:eZ.safetyAlert,children:r(eO,{})})})}),r(et,{...e}),r(eE,{...e})]})}})}),e0=e=>{var i=ey(),n=eY(),s="MOBILE"===i;return t(a,{children:[r(ex,{...e,showSortOptions:n&&s}),n&&!s?t("div",{className:eZ.searchAndSortByWrapper,children:[r("div",{className:eZ.searchBoxContainer,children:r(er,{...e,useDsSearchBox:!0})}),r("div",{className:eZ.sortByContainer,children:r(ea,{...e})})]}):r(er,{...e,useDsSearchBox:!0})]})},e4=e=>{var i=eY()&&eB,t=eJ();return r(eP,{...e,numReviews:t,defaultShowMlSortedReviews:i})},e3={inactive:"bAYKz",contentAndAd:"DWitr",content:"uNacK PS",railAd:"qHAMO _T H"},e1=({selectedTab:e})=>{var i=R();return r(a,{children:eD.map(({name:t,module:a,Component:n})=>{var l=e===t;return l||ez?r(b,{children:r(T,{onVisible:()=>{l&&(S({module:a,action:"in_view"}),i({itemName:a,itemType:"in_view",team:"Hotels",page:"Hotel_Review"}))},children:e=>r("div",{ref:e,className:y(l?"":e3.inactive),"data-test-target":`${a}-tab`,children:r(s,{children:r(n,{isSelectedTab:l})})})})},t):null})})},e5={__key:0xa42fa1b5a60e,id:"a42fa1b5a60ee665",loc:{},definitions:[]},e2=({listing:e})=>{if(!e||!e.hasOptimusOffers)return null;var i=[...e.chevronOffers||[]];return 1!==i.length?null:i[0].data.isOptimusOffer?i[0]:null},e8=(e,i)=>{if(e||!(i&&i.locations&&i.locations[0]))return{locationName:"",accommodationType:null,awards:{},reviews:{},popIndexProps:{}};var t=i.locations[0],r=t.name,{accommodationType:a,writeUserReviewUrl:n,popIndexDetails:s}=t,l=t.detail||{},o=l.hotel?.reviewSubratingAvgs,d=t.reviewSummary||{},c=s?{accommodationCategory:t.accommodationCategory,parentName:t.parents?.[0]?.name,popIndexRank:s.popIndexRank,popIndexTotal:s.popIndexTotal}:{};return{locationName:r,accommodationType:a,reviews:{reviewSummary:d,reviewSubratingAvgs:o,writeUserReviewUrl:n},awards:{greenLeader:l.hotel?.greenLeader,travelersChoice:i.awards&&i.awards[0]?i.awards[0]:null},popIndexProps:c}},e6=e=>{var i=eg(),n="Hotel_Review"===i.page?i.params.detailId:-1,s=ey(),[{data:l,fetching:d}]=ef({query:e5,variables:{locationId:n},pause:!n||n<0}),c={...e8(d,l),...e},{metaListingDataProps:v}=e,h=o(()=>v?e2(v):null,[v]),p=eb(),w=eI(),u=eC(()=>{v?.listing?.hasOptimusOffers&&eA(e=>{w({optimusPropertyText:{pageviewUid:p,funnelKey:e,locationId:n}})})}),{locationName:m,accommodationType:g,reviews:b,popIndexProps:y,awards:f}=c,T=t(a,{children:[(d||!!(b&&b.reviewSummary.count))&&r(eT,{loading:d,locationId:n,locationName:m,accommodationType:g,viewport:s,popIndexProps:y,reviewSummary:b.reviewSummary,reviewSubratingAvgs:b.reviewSubratingAvgs,writeUserReviewUrl:b.writeUserReviewUrl}),r("div",{ref:u,children:r(eS,{loading:d,locationId:n,viewport:s,travelersChoice:f.travelersChoice,coeAward:null,greenLeader:f.greenLeader,isOptimusProperty:!!h,noBottomPaddings:!0})})]});return e.contentOnly?r("div",{children:T}):r(eR,{section:"reviews",theme:e.fullyTabbed?"no-border":"border-top",joinable:!0,children:T})},e9=e=>{var{isOptimusEnabled:i}=e_();return i?r(eL,{optimusEnabled:!0,children:i=>r(e6,{metaListingDataProps:i,contentOnly:!!e.contentOnly,fullyTabbed:!!e.fullyTabbed})}):r(e6,{metaListingDataProps:null,contentOnly:!!e.contentOnly,fullyTabbed:!!e.fullyTabbed})};function e7(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}var ie=e=>{var{enabled:i,fullyTabbedVariantEnabled:t}=g();return r(eN,{...e,isTabbedTestEnabled:i,isTabbedTestFullyTabbedVariantEnabled:t})};return[()=>{ex=el(null,{showFilterOverlay:()=>ep.overlays.showGlobalOverlay(eW),showSortOverlay:()=>ep.overlays.showGlobalOverlay(eM),changeFilters:eu.changeFilters})(eK),eO=l(()=>i("85ob4e")),eB=f("crawler_or_search_ua"),eH=q({header:e=>r(z,{...e})}),eE=D({children:(e,i)=>i?t(a,{children:[r(V,{...e}),r(Q,{...e}),r(j,{...e}),r(U,{...e}),r(W,{checkRepProAttribution:!0,...e}),r(M,{...e}),r(G,{review:e.review}),r(en,{...e}),r(eH,{...e}),r(K,{review:e.review})]}):t(a,{children:[r(W,{checkRepProAttribution:!0,...e}),t("div",{className:eZ.footer,children:[r(V,{...e}),e?.reviewList?.page?.offset===0&&t("span",{className:eZ.hiddenReviewContent,children:[r(U,{...e}),r(Q,{...e}),r(j,{...e})]}),r(M,{...e}),r(G,{review:e.review})]}),r(en,{...e}),r(eH,{...e}),r(K,{review:e.review})]})},!0),ek=Z({review:e=>r(eX,{...e},e.queryProps.review.id),reviewFilters:e=>r(e0,{...e})}),eP=$(e$,e=>r(ek,{...e})),eq=e4,ez=f("crawler_or_search_ua"),eD=[{name:"Reviews",module:"reviews",Component:eq},{name:"Questions",module:"faq",Component:l(()=>i("033v7c"))},{name:"RoomTips",module:"roomtips",Component:l(()=>i("knsthq"))}],eV=e1,eQ=e9,eN=class extends d{componentDidMount(){v("hr-community-tab").on("selectTab",this.setSelectedTab),"undefined"!=typeof window&&window?.location?.hash==="#QUESTIONS"&&this.setSelectedTab("Questions",!0),this.props.hasExpandedTabs&&this.setReviewFilterHeight()}componentDidUpdate(e,i){this.props.hasExpandedTabs&&("Reviews"===i.selectedTab?"Reviews"!==this.state.selectedTab&&this.setState({reviewFilterHeight:0}):"Reviews"===this.state.selectedTab&&this.setReviewFilterHeight())}render(){var{locationId:e,geoId:i,isTabbedTestEnabled:n,isTabbedTestFullyTabbedVariantEnabled:s}=this.props;return r(m,{locationId:e,children:t(a,{children:[n&&r(eQ,{fullyTabbed:s}),r(h,{locationId:e,geoId:i,selectedTab:this.state.selectedTab,setSelectedTab:this.setSelectedTab,isTabbedTestEnabled:!!n}),this.props.hasExpandedTabs?t("div",{className:e3.contentAndAd,children:[r("div",{className:e3.content,children:r(eV,{selectedTab:this.state.selectedTab,hasExpandedTabs:!0})}),r("div",{className:e3.railAd,style:{top:this.state.reviewFilterHeight},children:r(eF,{size:"300x250|300x600",isSticky:!0})})]}):r(a,{children:r(eV,{selectedTab:this.state.selectedTab})}),r(p,{locationId:e,geoId:i,selectedTab:this.state.selectedTab})]})})}constructor(...e){super(...e),e7(this,"state",{selectedTab:"Reviews",reviewFilterHeight:0}),e7(this,"setReviewFilterHeight",()=>{if("undefined"!=typeof document){var e=document.getElementById("hrReviewFilters");e&&this.setState({reviewFilterHeight:e.clientHeight})}}),e7(this,"setSelectedTab",(e,i)=>{if(e===this.state.selectedTab){i&&w(u);return}this.setState({selectedTab:e}),i&&w(u)})}},ej=c((e,i)=>(h.stage(e,i),()=>({locationId:e.page.detailId,geoId:e.page.geoId})))(ie),e({HotelReviewCommunityContentWrapper:ie,default:ej})},[e=>(t=e.jsxs,r=e.jsx,a=e.Fragment),e=>(n=e.useState,s=e.Suspense,l=e.lazy,o=e.useMemo,d=e.Component),e=>c=e.bind,e=>v=e.createRadio,e=>(h=e.TabBarAboveHeader,p=e.LowContentCTA,w=e.scrollIntoView,u=e.HEADER_SCROLL_OFFSET),e=>m=e.DraftReviewProvider,e=>g=e.useTabbedLayout,e=>b=e.ErrorBoundary,e=>y=e.default,e=>f=e.featureIsEnabled,e=>T=e.HasBeenVisible,e=>S=e.default,e=>R=e.useHotelImpressionLogger,e=>(_=e.ReviewRatingFilter,L=e.HealthAndSafetyFilter,I=e.TravelTimeFilter,C=e.TravelTypeFilter,A=e.LanguageFilter,F=e.ReviewedByRadioFilter,N=e.getRatingSelections,x=e.getHealthAndSafetySelections,O=e.getSegmentSelections,B=e.getTimeSelections,H=e.getLanguageSelections,E=e.getTextSelections,k=e.SearchFilter,P=e.ReviewSortOverlay,q=e.connectOwnerResponse,z=e.ReviewResponseGoogleTranslateButton,D=e.connectExpando,V=e.EventDateInListing,Q=e.TripTypeInListing,j=e.InlineRoomTipInListing,U=e.AdditionalRatingsInListing,W=e.AttributionFooterInListing,M=e.ConnectedRateMTFooterShell,G=e.DisclaimerFooter,K=e.ResponseDisclaimerFooter,Z=e.connectReviewList,$=e.connectLocationReviewQuery,Y=e.SingleReviewInListing,J=e.ReviewHeader,X=e.InlineReviewPhotosInListing,ee=e.RatingLineInListing,ei=e.ConnectedReviewTitle,et=e.ReviewGoogleTranslateButton,er=e.SearchBox,ea=e.ReviewSortDropdown),e=>en=e.SocialBarInListing,e=>es=e.useClientSideLayoutEffect,e=>el=e.connect,e=>(eo=e.useLocalize,ed=e.useLanguage),e=>(ec=e.Columns,ev=e.Column),e=>eh=e.default,e=>ep=e.actions,e=>ew=e.default,e=>eu=e.ACTIONS,e=>em=e.Card,e=>(eg=e.useRoute,eb=e.usePageviewUid),e=>ey=e.useViewportCategory,e=>ef=e.useQuery,e=>eT=e.Reviews,e=>eS=e.Awards,e=>eR=e.Section,e=>e_=e.useOptimusEnabledForUser,e=>eL=e.MetaQueryPoller,e=>eI=e.useImpressionLogger,e=>eC=e.useOnVisible,e=>eA=e.getFunnelKeyByOptimusOffer,e=>eF=e.HotelReviewRailAd]]},["21h32l","o4yt4q","6z5q2p","bqgabj","ll8oko","rm3gfe","wsk8ra","83pm0d","fkji80","skjzuv","w0dpwq","4axon3","ctn2v9","uy63ln","lz9e53","mb2nze","2mj4nv","7thqz4","ptdiqu","wi7w8g","45ddp0","vcz45k","itf998","punysh","fgwvq1","ys6v1o","mqwhqn","5dvh1x","3ztf5u","mjqgle","4tv4as","nzwvrx","vumu0s","3btuy0","h1ennw","k9d0qe"]]);
