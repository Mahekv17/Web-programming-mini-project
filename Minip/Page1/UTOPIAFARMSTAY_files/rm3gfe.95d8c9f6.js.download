(this.$WP=this.$WP||[]).push(["rm3gfe",(e,t)=>{var r,i,s,a,h,o,n={hasDraftReview:!1};return[()=>{({Consumer:h,Provider:o}=i(n)),e("DraftReviewProvider",a=class extends s{componentDidMount(){this.checkReviewStatus()}componentDidUpdate(e){this.props.locationId!==e.locationId&&this.checkReviewStatus()}render(){var{hasDraftReview:e}=this.state;return r(o,{value:{hasDraftReview:e},children:this.props.children})}constructor(e){var t,r;super(e),t="checkReviewStatus",r=()=>{fetch(`/data/1.0/draftreviews/hasDraft/${this.props.locationId}`,{method:"GET",credentials:"same-origin"}).then(e=>{if(e.ok)return e.json();throw Error()}).then(e=>this.setState({hasDraftReview:e})).catch(()=>this.setState({hasDraftReview:!1}))},t in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r,this.state={hasDraftReview:!1}}}),e({DraftReviewConsumer:h,DraftReviewProvider:a})},[e=>r=e.jsx,e=>(i=e.createContext,s=e.Component)]]},["21h32l","o4yt4q"]]);
