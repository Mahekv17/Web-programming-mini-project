(this.$WP=this.$WP||[]).push(["q7jm9a",(e,o)=>{var n,r,t,a,u,l,d,h,i,c=null,s=null,g=()=>new Promise((e,o)=>{if(s){e(s);return}if(c){e(c);return}e(c=fetch("/data/1.0/vr/countryRegionCodesForPhone",{method:"GET",credentials:"same-origin"}).then(e=>e.json().then(e=>(c=null,s=e,e)).catch(e=>(console.error(e.message),o(e)))))}),p=()=>{s=null},C=(e,o)=>{var n=new URLSearchParams({phoneNumber:e,region:o});return fetch(`/data/1.0/vr/validatePhoneNumber?${n.toString()}`,{method:"GET",credentials:"same-origin"}).then(e=>e.json()).then(e=>e)},v="setData",m=(e,o)=>{var{type:n,value:r}=o;return n===v?{...e,data:r}:e},y=e=>{var[{data:o},n]=a(m,e);return[o,e=>{n({type:v,value:e})}]},P=(e=!1)=>{var[o,n]=u(!1),[r,t]=u(!1),[a,h]=d({data:[]}),i=e=>{n(!1),h(e.options||[])},c=()=>{n(!1),t(!0)};return l(()=>()=>{e&&p()},[e]),{data:a,fetching:o,error:r,clearCache:p,fetchCodes:()=>(n(!0),t(!1),g().then(i).catch(c))}},f=(e,o)=>{var{data:n,fetchCodes:r,fetching:t,error:a}=h(o),u=e&&e.length?e:n.map(e=>({regionISOCode:e?.countryValue?.countryRegionCode||"",regionPhoneCode:e?.countryValue?.countryPhoneCode||"",label:e?.countryCodeDropDownValue||""}));return l(()=>{u.length||t||a||r()},[a,t,u.length,r]),u},S=({value:e,onChange:o,onFocus:a=()=>{},onBlur:u=()=>{},options:l,hideAutoComplete:d,autoCompleteIdentifier:h,hasError:c,errorText:s})=>{var{phone:g="",countryISOCode:p}=e||{},{localize:C}=r(),v=i(l),m=v.map(({label:e,regionISOCode:o})=>({displayName:e,value:o})),[y]=v.filter(e=>e.regionISOCode===p),{regionISOCode:P,regionPhoneCode:f}=y||{};return n(t,{dropdownValue:f?`+${f}`:void 0,dropdownOptions:m,onDropdownChange:e=>{var[n]=v.filter(o=>o.regionISOCode===e),{regionISOCode:r,regionPhoneCode:t}=n||{};o({phone:g,countryISOCode:r,countryPhoneCode:t})},dropdownPlaceholder:"+1",menuLabel:C.string("createlisting_phone_country_label"),name:"phone-number",value:g,onFocus:a,onBlur:u,onChange:e=>{o({countryISOCode:P,countryPhoneCode:f,phone:e.currentTarget.value})},placeholder:C.string("createlisting_phone_placeholder"),autoComplete:d?"off":h||"on",errorText:c?s:void 0})};return[()=>{d=y,h=P,e({PhoneInput:S,useCountryCodeValues:i=f,validatePhone:C})},[e=>n=e.jsx,e=>r=e.useLocalize,e=>t=e.TextInput,e=>(a=e.useReducer,u=e.useState,l=e.useEffect)]]},["21h32l","7thqz4","u3aiot","o4yt4q"]]);
