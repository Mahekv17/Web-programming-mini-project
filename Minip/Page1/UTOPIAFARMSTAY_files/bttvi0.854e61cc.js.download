(this.$WP=this.$WP||[]).push(["bttvi0",(e,r)=>{var a,t,n,i,l,o,s,d,m,c,u,_,p,h,v,f,g,b,N,y,O,k,C,w,I,T,R,L,D,E,B,M,S,P,j,x,A,W={NONE:"NONE",ORDER_NOW:"ORDER_NOW",BOOK_NOW:"BOOK_NOW",MORE_INFO:"MORE_INFO"},U=e=>"string"==typeof e&&e in W,q=()=>{var{localize:e}=u(),r=l(r=>{if(U(r)&&"NONE"!==r)switch(r){case"BOOK_NOW":return e.string("b2b_special_offers_redeem_button_book_now");case"MORE_INFO":return e.string("b2b_special_offers_redeem_button_more_info");case"ORDER_NOW":return e.string("b2b_special_offers_redeem_button_order_now");default:return r}},[e]);return l(({label:a,lightboxType:t})=>"restaurant"===t?r(a):e.string("b2bh_so_lightbox_redeem_online"),[r,e])},z=()=>{var e=N(),{page:r,path:a,params:t}=y(),n=b(),i="detailId"in t&&t.detailId||-1,{sojernGTMCallback:o}=g(i);return l(({lightboxType:l,specialOfferValue:s})=>{e({actionType:"click",geoId:"geoId"in t&&t.geoId||null,locationId:i,page:r,..."restaurant"===l?{team:"Restaurants",itemName:"so_b2c_button_click"}:{team:"B2B",itemName:s.redemptionPhoneNumber&&!s.redemptionUrl?"so_b2c_click_hotels_phone_number_redeem_button":"so_b2c_click_hotels_redeem_button"},customData:JSON.stringify({url:a,redemptionUrl:s?.redemptionUrl,specialOfferId:s?.id,specialOfferType:s?.specialOfferType,..."restaurant"===l?{redeemButtonLabel:s?.redeemButtonLabel}:{hotelsTravelInfo:n}})}),"restaurant"!==l&&o("special_offer_redemption")},[n,e,i,r,t,a,o])},V={redeemBtn:"wddvS y _T",previewRedeemBtn:"sMPWh y _T",livePreviewRedeemBtn:"mOTFC y _T",phone:"EENXG f u y",phoneWrapper:"DzzCe f u y e"},Y=(e,r)=>{switch(e){case"MONDAY":return r("monday_52");case"TUESDAY":return r("tuesday_52");case"WEDNESDAY":return r("wednesday_52");case"THURSDAY":return r("thursday_52");case"FRIDAY":return r("friday_52");case"SATURDAY":return r("saturday_52");case"SUNDAY":return r("sunday_52");default:return""}},F=({days:e,isMobile:r})=>{var{localize:a}=u(),t=e&&0!==e.length&&7!==e.length?e.map(e=>Y(e,a)).filter(e=>""!==e).join(", "):a("blcoupons_valid_every_day");return n(m,{variant:r?"body-01":"supporting-01",marginTop:"spacing-01",children:a("blcoupons_valid_on_given_days",{translatedDays:t})})},$=(e,r)=>r?e.formatDate("date_medium",p(r)||new Date):"",G=({label:e,url:r,mode:a,showUrlPreview:t,onClick:i,lightboxType:l})=>{var o=q()({label:e,lightboxType:l});return void 0===o?null:a&&"NORMAL"!==a?"PREVIEW"===a?n("div",{"data-tooltip":r,className:V.previewRedeemBtn,children:n(h,{children:o})}):n("div",{"data-tooltip":r,className:t?V.livePreviewRedeemBtn:V.redeemBtn,children:n(h,{children:o})}):n("a",{className:V.redeemBtn,href:r,target:"_blank",onClick:i,children:n(h,{children:o})})},K=({phoneNumber:e,hasRedemptionUrl:r,isMobile:t,onClick:i=()=>{}})=>{var{localize:l}=u();if(r)return a("div",{className:V.phone,children:[n(f,{}),n(m,{variant:"body-01",children:e})]});var o=a("div",{className:V.phoneWrapper,children:[a(h,{children:[n(f,{}),e]}),n(m,{variant:"supporting-01",marginTop:"spacing-01",children:l("b2bh_so_lightbox_call_to_redeem")})]});return t?n("a",{href:`tel:${e}`,onClick:i,children:o}):o},J=({specialOfferValue:e,mode:r,showUrlPreview:i,lightboxType:l})=>{var o="MOBILE"===c(),s=_(),{localize:d}=u(),p=B();return a(t,{children:[n(m,{variant:o?"title-04":"title-02",marginTop:"spacing-04",children:e?.title}),n(m,{variant:o?"supporting-01":"body-01",marginTop:"spacing-03",children:e?.description}),e?.code&&n(m,{variant:"title-04",marginTop:"spacing-03",children:d.string("b2b_special_offers_code_and_value",{code_value:e.code})}),(e?.startDate||e?.endDate)&&a(t,{children:[n(m,{variant:"title-04",marginTop:"spacing-03",children:`${$(s,e?.startDate)||""} - ${$(s,e?.endDate)||""}`}),n(F,{days:e?.validDays,isMobile:o})]}),e?.redemptionUrl&&n(G,{label:e.redeemButtonLabel,url:e.redemptionUrl,mode:r,showUrlPreview:i,onClick:()=>p({lightboxType:l,specialOfferValue:e}),lightboxType:l}),e?.redemptionPhoneNumber&&n(K,{phoneNumber:e.redemptionPhoneNumber,hasRedemptionUrl:!!e?.redemptionUrl,isMobile:o,onClick:()=>p({lightboxType:l,specialOfferValue:e})})]})},Z={imageContainer:"VkGtg f j",restaurantImageContainer:"gfmax",paginationContainer:"rZybc",reportContainer:"MkPXI"},H=({offerIndex:e,offerCount:r,imageSource:t,lightboxType:i,isReportableImage:l=!1,onReportClick:o})=>{var s=c(),{localize:d}=u();return a("div",{className:O(Z.imageContainer,{[Z.restaurantImageContainer]:"restaurant"===i}),children:[n(C,{source:t,width:"100%",height:"100%"}),"restaurant"===i&&n("div",{className:Z.paginationContainer,children:n(w,{numberOfItems:r,selectedIndex:e,variant:"onDark"})}),l&&n("div",{className:Z.reportContainer,children:n(k,{label:d.string("b2b_mc_h_r_paid_pandv_favorite_photo_thumbnail"),mode:"menu",options:[{displayName:d.string("updates_and_offers_bp_modal_report"),onClick:()=>{o?.()}}],menuVariant:"MOBILE"===s?"trailing-top-caret":"leading-top-caret",trigger:({onKeyDown:e,onClick:r,ref:a})=>n(v,{"aria-label":d.string("b2b_mc_h_r_paid_pandv_favorite_photo_thumbnail"),onKeyDown:e,onClick:r,variant:"clear-on-dark",size:"small",ref:a,icon:I})})})]})},X=({jumpToPrevOffer:e,jumpToNextOffer:r,mobileOnly:t})=>{var{localize:i}=u();return a("div",{className:O("CMNWn f v y Q3",{gyoGe:t}),children:[n(v,{onClick:e,icon:R,"aria-label":i.string("common_Previous"),variant:"primary-border",size:"medium"}),n(v,{onClick:r,icon:T,"aria-label":i.string("common_Next"),variant:"primary-border",size:"medium"})]})},Q={outerNavigationContainer:"lyEtT l _U t s Xd M_ u",outerArrow:"eBYBH _I",arrowLeft:"ykCjY",arrowRight:"UAoxe"},ee=({jumpToPrevOffer:e,jumpToNextOffer:r})=>{var{localize:t}=u();return a("div",{className:Q.outerNavigationContainer,children:[n("div",{className:O(Q.outerArrow,Q.arrowLeft),children:n(v,{onClick:e,icon:L,"aria-label":t.string("common_Previous"),variant:"primary-border",size:"small"})}),n("div",{className:O(Q.outerArrow,Q.arrowRight),children:n(v,{onClick:r,icon:D,"aria-label":t.string("common_Next"),variant:"primary-border",size:"small"})})]})},er=({specialOffers:e,imageSource:r,mode:t="NORMAL",onDisplay:i,showUrlPreview:l,lightboxType:m})=>{var[c,u]=o(0),_=e[c].id,{specialOfferType:p,customImageSource:h,customImageId:v}=e[c],f=d({id:`${v}`}),g=null!=v&&null!=h;s(()=>{i&&i(t,_,c,p)},[t,c,i,_,p]);var b=e.length>1,N=()=>u(r=>(r-1+e.length)%e.length),y=()=>u(r=>(r+1)%e.length);return a("div",{className:"WMrct y f",children:[n(S,{offerIndex:c,offerCount:e.length,imageSource:g?h:r,isReportableImage:g&&"NORMAL"===t,lightboxType:m,onReportClick:()=>{f.open()}}),a("div",{className:"qgKVs f y",children:[n(M,{specialOfferValue:e[c],mode:t,showUrlPreview:l,lightboxType:m}),b&&n(P,{jumpToPrevOffer:N,jumpToNextOffer:y,mobileOnly:"restaurant"===m})]}),b&&"restaurant"===m&&n(j,{jumpToPrevOffer:N,jumpToNextOffer:y})]})},ea={imageContainer:"nSiZV",container:"tySnO y f",skeleton:"llAdT _T",largeItem:"kYCZc",smallItem:"OLDCT",skeletonLine60:"SuVji",skeletonLine70:"JMCWr",skeletonLine90:"zfqkq",skeletonLine100:"JCGHm"},et=()=>a("div",{className:ea.container,children:[n("div",{className:ea.imageContainer,children:n(C,{source:null,width:"100%",height:"100%"})}),a("div",{className:ea.skeleton,children:[n("div",{className:O(ea.largeItem,ea.skeletonLine70)}),n("div",{className:O(ea.smallItem,ea.skeletonLine90)}),n("div",{className:O(ea.smallItem,ea.skeletonLine100)}),n("div",{className:O(ea.smallItem,ea.skeletonLine70)}),n("div",{className:O(ea.largeItem,ea.skeletonLine60)}),n("div",{className:O(ea.smallItem,ea.skeletonLine90)}),n("div",{className:O(ea.smallItem,ea.skeletonLine60)}),n(E,{})]})]}),en=({specialOfferList:e,imageSource:r,onClose:a,fetching:t,mode:l,onDisplay:o,lightboxType:s})=>n(i,{onClose:a,overrideContentStyling:!0,mobileContainerStyle:"inset",children:n("div",{className:"cJVEZ",children:t?n(A,{}):n(x,{specialOffers:e,imageSource:r,mode:l,onDisplay:o,lightboxType:s})})}),ei=({title:e,description:r,startDate:a,endDate:t,validDays:i,code:l,imageSource:o,redemptionUrl:s,focusOnUrl:d,redemptionPhoneNumber:m,lightboxType:c,redeemButtonLabel:u})=>n(x,{specialOffers:[{title:e,description:r,startDate:a,endDate:t,validDays:i,code:l,redemptionUrl:s,redemptionPhoneNumber:m,redeemButtonLabel:u}],imageSource:o,showUrlPreview:d,mode:"LIVE_PREVIEW",lightboxType:c});return[()=>{B=z,M=J,S=H,P=X,j=ee,x=er,A=et,e({SpecialOfferCardModal:en,SpecialOfferLivePreview:ei,isRestaurantRedeemButtonLabel:U,restaurantRedeemButtonLabels:W})},[e=>(a=e.jsxs,t=e.Fragment,n=e.jsx),e=>i=e.ModalContainer,e=>(l=e.useCallback,o=e.useState,s=e.useEffect),e=>d=e.default,e=>m=e.default,e=>c=e.useViewportCategory,e=>(u=e.useLocalize,_=e.useIntlFormatter),e=>p=e.isoStringToDate,e=>(h=e.default,v=e.CircularButton),e=>f=e.default,e=>g=e.useSojernTestClickEventGTMCallback,e=>b=e.default,e=>N=e.default,e=>y=e.useRoute,e=>O=e.default,e=>k=e.DropdownMenu,e=>C=e.default,e=>w=e.default,e=>I=e.default,e=>T=e.default,e=>R=e.default,e=>L=e.default,e=>D=e.default,e=>E=e.SkeletonAnimation]]},["21h32l","i3sz5h","o4yt4q","rko5gs","essqvy","ys6v1o","7thqz4","o5y7tg","jppfwt","amsjo9","9l9n46","crdfjq","r73jw8","fgwvq1","fkji80","ntn269","34bu7w","d0lmv3","mvpl5y","7a7jm3","7nq86i","a6i9w3","6qmqhw","u59av4"]]);
