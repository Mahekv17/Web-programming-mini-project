(this.$WP=this.$WP||[]).push(["0d6j0v",(e,i)=>{var r,n,a,l,t,s,d,o,c,m,u,f,h,v,p,g,b,O,_,y,x,C,w,k,L,E,M,P,S,D,N,I,R,A,H,B,T,U,W,F,z,V,q,G,$,j,K,J,Q,Y,X,Z,ee,ei,er,en,ea,el,et,es,ed,eo,ec,em,eu,ef,eh={textHighlight:"b",disclaimerBox:"z Mf",optimusLogo:"MH"},ev=({offers:e,variant:i,datesGuestsChanged:a})=>{var l,t=D(),s=er(),d=en(()=>{s({optimusOfferDisclosure:{type:i,pageviewUid:t}})});if(!a&&"PLUS_OFFER_CHANGE"===i||a&&"NO_PLUS_OFFER"===i)return null;var o=e.some(e=>e?.data?.isOptimusOffer);switch(i){case"PLUS_OFFER_CHANGE":l=o?r(K,{id:"plus_offers_may_have_changed_message",args:{0:eh.textHighlight}}):null;break;case"NO_PLUS_OFFER":l=o?null:r(K,{id:"plus_offer_not_available_message"});break;default:l=null}return l?n("div",{className:eh.disclaimerBox,ref:d,children:["NO_PLUS_OFFER"===i&&r("div",{className:eh.optimusLogo,children:r(ei,{variant:"plus-logo-text",height:16})}),r(X,{variant:"supporting-02",marginBottom:"spacing-03",children:l}),r(ee,{})]}):null},ep=(e,i)=>({datesGuestsChanged:!!e.page.datesGuestsChanged,...i}),eg=({locationId:e,specialOffer:i})=>{var n="MOBILE"===O(),a=N().page;return(t(()=>{n&&i&&et({module:"hotel_review",action:"ba_special_offer_mobile_web",value:1})},[i,n]),n)?r("div",{className:"Pc Pn MA",children:r(el,{locationId:e,coupon:i,servlet:a,icon:"special-offer-fill",layout:"about",linkLevel:"level_2",linkSolidUnderline:!0})}):null},eb=()=>r(ea,{children:(e,i,n,a)=>e&&i&&!a?r(eg,{locationId:e,specialOffer:i}):null}),eO={wrap:"lqzkg",commerceRedesignMW:"ckdyO Re",expandCommerceRedesignMW:"vXupC c",chevronIcon:"dZVVI Vm",secondary:"JKhQH",invalidShade:"Wkqpp G5 l t _U s",disclaimerLine:"rRxxD o W q _S",disclaimerMessage:"nulNe",disclaimerMessageRedesignCommerceMW:"QAwjX",disclaimerTeaser:"Kchxi",disclaimerTeaserRedesignCommerceMW:"UussA c",mobexpand:"YiGCY",viewAllLink:"KgcsX b _S",viewAllOverlay:"JwQzf",mobile_view_all:"MpJsN",mobileDisclaimer:"MCUlA",secondaryCommerceBorderlessButton:"UPzWc j"},e_=e=>!e.isInvalid&&e.textLinkOffers.length>0,ey=e=>{var i=[...e.chevronOffers,...e.textLinkOffers,...e.hiddenOffers];return i.length>=2?i.splice(0,2):[...e.chevronOffers||[]]},ex=e=>[...e.chevronOffers,...e.textLinkOffers,...e.hiddenOffers],eC=e=>e.length,ew=e=>{var{localize:i}=J(),{isOptimusSubscriber:a}=U(),t=j(),s=[...e.chevronOffers,...e.textLinkOffers,...e.hiddenOffers],d=m("optimus_paywall")&&!a||!t;return r(q,{below:!0,contents:i=>r("div",{className:eO.viewAllOverlay,children:s.map((n,a)=>r(l.Fragment,{children:r("div",{onClick:d&&n.data.isOptimusOffer?()=>void 0:i,children:e.renderHidden(n)})},`${n.data&&n.data.contentId}_${a+0}`))}),closeButton:!1,arrowType:"small",fixed:e.isStickyCommerce,isUpdatedOnScroll:e.isStickyCommerce,children:(a,l,t,d)=>n("div",{ref:a,className:eO.viewAllLink,onClick:d?t:l,children:[i("view_all_n_deals_plural",{0:s.length}),r("span",{className:"ui_icon caret-down","data-automation":e.complete?"viewAllDealsLoaded":null})]})})},ek=e=>{var{localize:i}=J(),{isYellowBorderVariant:t,isBorderlessButtonVariant:s}=e.designSystemSecondaryButtonExperiment??{},d=ex(e),o=d.filter(e=>null!==e.priceText||null!==e.taxesAndFeesText||null!==e.totalStayText),m=e.redesignCommerceMWExperiment?.isEnabled?o:d,u=e.renderHiddenMobile||e.renderHidden,f=eC(m),h=n(a,{children:[e.lowestPrice?i("view_all_deals_from_commerce_on_list_screen",{0:f,1:e.lowestPrice}):i("view_all_n_deals_plural",{0:f})," ",e?.redesignCommerceMWExperiment?.isEnabled&&r(Y,{name:"single-chevron-down",className:eO.chevronIcon})]}),O=n(a,{children:[i("collapse_deals")," ",e?.redesignCommerceMWExperiment?.isEnabled&&r(Y,{name:"single-chevron-up",className:eO.chevronIcon})]});return r(c,{handle:(i,a)=>{a||Z("detail-offers").on("toggle",i);var l=r("span",{className:eO.mobexpand,children:a?O:h}),d=r(X,{variant:"button-04",marginTop:"spacing-03",marginBottom:"spacing-02",children:a?O:h});return t?r(v,{variant:"secondary-commerce",fullWidth:!0,onClick:i,children:l}):s?r("div",{className:eO.secondaryCommerceBorderlessButton,children:n(p,{variant:"primary",onClick:i,children:[l,a?r(g,{size:18,marginLeft:"spacing-01"}):r(b,{size:18,marginLeft:"spacing-01"})]})}):e?.redesignCommerceMWExperiment?.isEnabled?r("div",{className:eO.expandCommerceRedesignMW,children:r(p,{onClick:i,children:d})}):r(Q,{type:"secondary",size:"fullwidth",onClick:i,children:l})},initiallyExpanded:e.expandDealsByDefault,children:()=>r("div",{children:m.map((e,i)=>r(l.Fragment,{children:u(e)},`${e.data&&e.data.contentId}_${i+0}`))})})},eL=({text:e,isRightAligned:i})=>{var{localize:l}=J(),t=O();if(!e)return null;var s=n(a,{children:[e," ",m("hamon_fr")?r("a",{href:"/pages/service.html",children:l("hotel_info_about_service")}):null]});return"MOBILE"===t?n("div",{className:`${eO.mobileDisclaimer}`,children:[" ",s]}):r($,{message:s,leftOf:i,children:i=>r("div",{ref:i,className:eO.disclaimerLine,children:e})})},eE=(e,i,l,t)=>i?n(a,{children:[l&&r(V,{mobileContainerStyle:"inset",onClose:()=>t(!1),children:r(X,{variant:"supporting-01",children:r("div",{className:eO.disclaimerMessageRedesignCommerceMW,children:e.disclaimerMsg})})}),r(p,{onClick:()=>t(!0),variant:"accent",children:r("div",{className:eO.disclaimerTeaserRedesignCommerceMW,children:n(X,{variant:"supporting-02",children:[e.teaserText,r(Y,{name:"exclamation-circle"})]})})})]}):n(a,{children:[r(F,{name:"disclaimer_modal",children:i=>n("div",{className:eO.disclaimerTeaser,onClick:i,children:[r("span",{children:e.teaserText}),r(Y,{name:"exclamation-circle"})]})}),r(z,{name:"disclaimer_modal",children:r("div",{className:eO.disclaimerMessage,children:e.disclaimerMsg})})]}),eM=e=>{var i,{localize:a}=J(),t=H(),s=j(),d="MOBILE"===O(),[c]=l.useState(s);l.useEffect(()=>{t&&s!==c&&!c&&window.location.reload()},[t,s,c]);var{complete:h,datesGuestsChanged:v}=e,p=0+e.chevronOffers.length;l.useEffect(()=>{S([...e.chevronOffers,...e.textLinkOffers,...e.hiddenOffers])});var{params:g}=N(),b="newPlusSubscriber"in g&&g.newPlusSubscriber,_="detailId"in g?g.detailId:void 0,y="referringFunnelKey"in g?g.referringFunnelKey:void 0,x=m("optimus_paywall"),C=l.useMemo(()=>({isModalCheckout:x}),[x]),[w,k]=l.useState(!1),[L,E]=l.useState(!1),M=l.useCallback(()=>{E(!0),k(!1)},[]),[P,D]=l.useState(!1),I=l.useMemo(()=>({isPopoverOpen:P,setPopoverOpen:D}),[P,D]),[A,U]=l.useState(!1);l.useEffect(()=>{L||k(!x&&!!b&&!v)},[b,v,L,x]);var{isSecondaryCUGOfferUIEnabled:W}=e,F=W?ey(e):(i=e.chevronOffers).length>1&&d?[i[0]]:[...i||[]],z=F.length>0&&F[0].isSPSingleOffer;return r(T.Provider,{value:w,children:r(R.Provider,{value:C,children:r(G.Provider,{value:I,children:n("div",{className:eO.wrap,children:[e.renderAlert?e.renderAlert():null,b&&r(ec,{offers:F,variant:b?"NO_PLUS_OFFER":"PLUS_OFFER_CHANGE"}),w&&!e.isRefreshPopupOpen&&r(B,{hotelId:_||0,funnelKey:y,closeModal:M}),n("div",{className:o("premium_offers_area offers",{[eO.commerceRedesignMW]:e?.redesignCommerceMWExperiment?.isEnabled}),"data-hac-complete":h?"true":null,"data-is-any-available":e.isAnyOfferAvailable,"data-section-signature":"meta","data-sponsoredlisting":e.sponsoredListingData?JSON.stringify(e.sponsoredListingData):null,children:[e.renderOfferHeader?e.renderOfferHeader(a):null,r("div",{children:F.map((i,n)=>r(l.Fragment,{children:1===F.length||W?e.renderDominant(i):e.renderChevron(i)},`${i.data&&i.data.contentId}_${n+0}`))}),r(()=>e.textLinkOffers.length<=0&&F.length<=0?null:r("div",{className:`${eO.secondary} is-hidden-mobile`,children:e.textLinkOffers.length<=0||z?null:n(u,{multiline:!0,gaplessVertical:!0,children:[e.textLinkOffers.map((i,n)=>r(f,{width:6,children:e.renderTextLink(i)},`${i.provider}_${n+p}`)),e.hiddenOffers.length<=0||z?null:r(f,{children:r(ew,{...e})})]})}),{})]}),e_(e)?n("div",{className:o("is-hidden-tablet",{[eO.mobile_view_all]:!e.redesignCommerceMWExperiment?.isEnabled}),children:[r(ek,{...e}),e.additionalDisclaimer&&eE(e.additionalDisclaimer,e.redesignCommerceMWExperiment?.isEnabled,A,U)]}):null,!e.redesignCommerceMWExperiment?.isEnabled&&r(eL,{text:e.priceDisclaimer,isRightAligned:e.isRightAligned}),e.isInvalid?r("div",{className:eO.invalidShade}):null]})})})})},eP=(e,i)=>()=>i(e),eS=(e,i)=>r=>i({...e,offer:r}),eD=e=>e?.listing?.chevronOffers?.find(e=>e.isLowestPrice)?.totalStayText||e?.listing?.textLinkOffers?.find(e=>e.isLowestPrice)?.totalStayText||e?.listing?.hiddenOffers?.find(e=>e.isLowestPrice)?.totalStayText,eN=e=>d((e,i)=>({expandDealsByDefault:i.expandDealsByDefault||void 0!==e.route.expandDeals,lastReferrer:e.meta.referrerUrl||"",isRefreshPopupOpen:e.page.isRefreshPopupOpen||!1,datesGuestsChanged:!!e.page.datesGuestsChanged}),e=>({setPaywallIsBlocking:i=>e(h.page.hotels.setPaywallIsBlocking(i))}))(i=>{var t=M(i),s=P(i);A(!0);var{params:d}=N(),o=I(),c="MOBILE"===O(),m=_(),{enabled:u}=y(),f=x(),h="promotePlusDominant"in d&&d.promotePlusDominant,v="trayInitiallyExpanded"in d&&d.trayInitiallyExpanded,p=C(),g=w(),{enabled:b}=k(),S=[...i?.listing?.chevronOffers||[],...i?.listing?.textLinkOffers||[],...i?.listing?.hiddenOffers||[]],D=c&&u&&S.length>2&&S[1].data.isMemberRate,R={...i,isSecondaryCUGOfferUIEnabled:D,redesignCommerceMWExperiment:f,designSystemSecondaryButtonV1Enabled:p.isYellowBorderVariant,allInPriceExperiment:g,viewDealCtaUpdateEnabled:b},H=i?.listing?.lowestPrice;(g.isPTotalSNightlyVariant||g.isPTotalVariant)&&(H=eD(i));var B=l.useCallback(()=>{var e=[...i?.listing?.chevronOffers||[]],r=[...i?.listing?.textLinkOffers||[]],n=e.find(e=>!0===e.data.isOptimusOffer);return h&&n&&e.length>1?[[n],[...e.filter(e=>!0!==e.data.isOptimusOffer),...r]]:[[...e],[...r]]},[h,i?.listing?.chevronOffers,i?.listing?.textLinkOffers]);if(W(i?.listing?.complete&&i?.listing?.hasOptimusOffers||!1),!i.listing)return null;if(s&&e.renderNoCommerce)return r(a,{children:e.renderNoCommerce(i)});if(i.listing.complete&&!t&&e.renderNoAvailability)return r(a,{children:e.renderNoAvailability(i)});var[T,U]=B();return r(L,{samplingRate:.005,children:r(E.Consumer,{children:({setCustomAttributes:l})=>(l({isDefaultDates:o.hotels?.defaultDates,tabbedLayoutFullyTabbedVariant1:m.fullyTabbedVariantEnabled,tabbedLayoutScrollableVariant2:m.scrollableVariantEnabled}),n(a,{children:[r(eM,{chevronOffers:T,textLinkOffers:U,hiddenOffers:i?.listing?.hiddenOffers||[],isAnyOfferAvailable:t,complete:!!i?.listing?.complete,priceDisclaimer:i?.listing?.priceDisclaimer,additionalDisclaimer:i?.listing?.additionalDisclaimer,sponsoredListingData:i?.listing?.sponsoredListingData,lowestPrice:H,isInvalid:!!i.loading,isRefreshPopupOpen:i.isRefreshPopupOpen,renderAlert:e.renderAlert&&eP(i,e.renderAlert),renderOfferHeader:e.renderOfferHeader&&eP(i,e.renderOfferHeader),renderDominant:eS(R,e.renderDominant),renderChevron:eS(R,e.renderChevron),renderHidden:eS({...i,allInPriceExperiment:g},e.renderHidden),renderTextLink:eS({...i,allInPriceExperiment:g},e.renderTextLink),renderHiddenMobile:e.renderHiddenMobile&&eS({...i,allInPriceExperiment:g,isCUGPricingEnabled:u,redesignCommerceMWExperiment:f},e.renderHiddenMobile),expandDealsByDefault:i.expandDealsByDefault||v,lastReferrer:i.lastReferrer,setPaywallIsBlocking:i.setPaywallIsBlocking,datesGuestsChanged:!!i.datesGuestsChanged,designSystemSecondaryButtonExperiment:p,isRightAligned:i.isRightAligned,isStickyCommerce:i.isStickyCommerce,isCUGEnabled:i.isCUGPricingEnabled,isSecondaryCUGOfferUIEnabled:D,redesignCommerceMWExperiment:f}),r(em,{})]}))})})}),eI=/^https?:\/\/[a-z\-\.]+\.tripadvisor\.[a-z\-\.]+\/([A-Za-z_+]+)-/,eR=e=>{var i=s(null),r=s(null),n=s(null),a=s(!1),l=es();return t(()=>{if(e.populated){var t=Date.now();r.current||(r.current=t),e.clickable&&(n.current||(n.current=t),e.complete&&!i.current&&(i.current=t))}if(!a.current&&i.current&&(a.current=!0,window.performance&&window.performance.timing)){var{timing:s}=window.performance,d=s.fetchStart;if(d){var o=s.domInteractive,c=e.page||"unknown",m=e.mode||"default",u=null;if("string"==typeof document.referrer){var f=eI.exec(document.referrer);f&&(u=f[1])}var h=[c,m,u=u||"external"],v=[];o&&v.push({name:"nav_to_meta_active",value:o-d,labels:h}),r.current&&v.push({name:"nav_to_meta_filled",value:r.current-d,labels:h}),n.current&&v.push({name:"nav_to_meta_clickable",value:n.current-d,labels:h}),i.current&&v.push({name:"nav_to_meta_complete",value:i.current-d,labels:h}),l(v)}}},[e.page,e.mode,e.populated,e.clickable,e.complete,l]),null},eA=()=>d((e,i)=>{var r=e?.route?.page||"unknown",n=window.__NAV_DATA_PROMISE__?"template":"normal",a=!!i?.listing?.complete,l=a||!!i?.listing?.chevronOffers;return{page:r,mode:n,populated:l,clickable:a||l&&!!i?.listing?.chevronOffers?.length,complete:a}})(eR),eH=({text:e})=>r("div",{className:"VostL Pc c is-hidden-mobile",children:r("span",{dangerouslySetInnerHTML:{__html:e}})}),eB={header:"hYCpv",nobutton:"Vutqb",button:"undfk Mc Nb MC NC w"},eT=({textNode:e,buttonText:i,buttonLink:a,newTab:l})=>n("div",{"data-section-signature":"meta",children:[r("div",{className:`${eB.header} ${i&&a?"":eB.nobutton}`,children:e}),i&&a?r("a",{className:`${eB.button} ui_button primary`,href:a,target:l?"_blank":null,children:i}):null]}),eU={__key:0xc4f6183cd13d,id:"c4f6183cd13d8fa8",loc:{},definitions:[]},eW=({locationId:e=0,isMobile:i,commerceCountryId:n,servletName:a,children:l})=>r(ed,{query:eU,variables:{locationId:e,deviceType:i?"MOBILE":"DESKTOP",commerceCountryId:n,servletName:a||"",hotelTravelInfo:eo()},children:({data:e,fetching:i})=>{var r=e&&e.locations&&e.locations.length&&e.locations[0]||null,{contactLinks:n}=r?.businessAdvantageData||{},a=n&&n.find(e=>e?.contactLinkType==="URL_HOTEL");return l(r?.locationId,a,i)}});return[()=>{ec=d(ep)(ev),em=eb,eu={renderAlert:void 0,renderOfferHeader:void 0,sponsoredListingData:void 0,renderHiddenMobile:void 0,priceDisclaimer:void 0,additionalDisclaimer:void 0,isInvalid:!1,lowestPrice:void 0},ew.defaultProps=eu,ek.defaultProps=eu,eM.defaultProps=eu,ef=eH,eT.defaultProps={buttonText:void 0,buttonLink:void 0,newTab:!1},e({HotelDetailNoAvailability:eT,HotelDetailOffersHeader:ef,HotelWebsiteProvider:d(e=>({locationId:e.page.detailId,isMobile:"MOBILE"===e.meta.device.viewportCategory,commerceCountryId:e.meta.commerceCountryId,servletName:e.meta.initialServletName}))(eW),bindHotelDetailOffers:eN,bindMetaPerfRecorder:eA})},[e=>(r=e.jsx,n=e.jsxs,a=e.Fragment),e=>(l=e,t=e.useEffect,s=e.useRef),e=>d=e.connect,e=>o=e.default,e=>c=e.default,e=>m=e.featureIsEnabled,e=>(u=e.Columns,f=e.Column),e=>h=e.actions,e=>(v=e.default,p=e.BorderlessButton),e=>g=e.default,e=>b=e.default,e=>O=e.useViewportCategory,e=>(_=e.useTabbedLayout,y=e.useClosedUserGroupPricing,x=e.useRedesignCommerceMW,C=e.useDesignSystemSecondaryButtonOnHR,w=e.useAllInPricingDisplayVariant,k=e.useViewDealCtaUpdate),e=>(L=e.HotelsFullStoryProvider,E=e.HotelsFullStoryContext),e=>(M=e.isAnyAvailable,P=e.isNoCommerce,S=e.trackHRCugShown),e=>(D=e.usePageviewUid,N=e.useRoute),e=>I=e.useTravelInfo,e=>R=e.ModalCheckoutContext,e=>A=e.useOptimusCashbackHotelsUserEducationEnabled,e=>H=e.useIsAnyOptimusExperiment,e=>(B=e.default,T=e.IsConfirmationModalOpen),e=>U=e.default,e=>W=e.default,e=>F=e.Opener,e=>z=e.Modal,e=>V=e.ModalContainer,e=>(q=e.default,G=e.PopoverContext),e=>$=e.default,e=>j=e.useUserId,e=>(K=e.UnsafeLocalize,J=e.useLocalize),e=>Q=e.default,e=>Y=e.Icon,e=>X=e.default,e=>Z=e.createRadio,e=>ee=e.default,e=>ei=e.default,e=>er=e.useImpressionLogger,e=>en=e.useOnVisible,e=>(ea=e.BusinessAdvantageProvider,el=e.SpecialOffer),e=>et=e.default,e=>es=e.useRecordMetrics,e=>ed=e.Query,e=>eo=e.default]]},["21h32l","o4yt4q","2mj4nv","fkji80","6v3s6a","skjzuv","ptdiqu","45ddp0","jppfwt","4ilds0","i0z8n1","ys6v1o","wsk8ra","honxae","nzwvrx","fgwvq1","etaac9","ffcg16","d8mine","7g0c7c","ddsxom","g6kunc","a6xk1z","80hn7v","8m6oju","i3sz5h","4q9l40","wt5b21","52far5","7thqz4","4nzso8","ybxsmg","essqvy","bqgabj","covaqn","sw5ax0","vumu0s","3btuy0","g5mqn8","4axon3","di2bn9","mqwhqn","crdfjq"]]);
