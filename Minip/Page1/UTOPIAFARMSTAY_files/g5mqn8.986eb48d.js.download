(this.$WP=this.$WP||[]).push(["g5mqn8",(e,a)=>{var r,i,l,n,s,t,o,c,d,p,f,_,m,u,h,g,v,b,k,O,N,T,I,C,w,y,R,P,L,E,S,x,A,M,z,F,$,B,U,D,j,W,q,Q=({context:e,impressionId:a,payload:i,offerlessCommerceTrackUrl:l,baLinkUid:n,children:s})=>r(m,{clickType:"specialOffer",impressionId:a,context:e,payload:i,offerlessCommerceTrackUrl:l,baLinkUid:n,children:e=>s(e)}),K=e=>{var a={};return e.forEach(e=>{var{contactLinkType:r}=e;r in a||(a[r]=e)}),a},V=(e,a)=>{switch(e){case"CREATE_YOUR_OWN":case"BOTTLE_OF_WINE":case"FREE_PARKING":case"LOYALTY_POINTS":case"PACKAGE":return a.string("SO_recat_headline_specialOfferHeader_e1f");case"ROOM_PERCENT_OFF":case"ROOM_AMOUNT_OFF":return a.string("SO_recat_headline_specialPrice_e1f");case"ROOM_SPECIAL_RATE":case"ROOM_UPGRADE":return a.string("SO_recat_headline_specialRateHeader_e1f");case"FOOD_CREDIT":case"FREE_BREAKFAST":case"FREE_TICKETS":return a.string("SO_recat_specialDealHeader_e1f");default:return""}},H={container:"mydrN",center_text:"xQKQn",left_text:"mNmQt",sticky_commerce:"lPMgT",solidUnderline:"YRIxQ",ui_link:"TeOIs",level_5:"rUOnQ",level_4:"Isjqe",level_3:"gWsOr",level_2:"izRjg",level_1:"PgaKt",special_offer_red_border_wrapper:"xQram c Pa PP Pn PC _S",special_offer_ds_red_border_wrapper:"hzsTb c Pa PP Pn PC _S",offer:"qZLBT _S",link:"KRAVz",active_link:"kEPNi",lead_in:"cgCpq",specialIcon:"ACCYJ d",ds_red:"wvrCK",red:"jpMGI",black:"MvPXk"};function Y(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}var G=e=>"DS_RED"===e?H.ds_red:"RED"===e?H.red:H.black,J=(e,a,r,i)=>{var l=()=>{a(),i(),r&&r()};return e?{wrapperClickMethod:l,innerOfferClickMethod:null}:{wrapperClickMethod:null,innerOfferClickMethod:l}},Z=e=>{var{localize:a}=p();return r(B,{...e,localize:a})},X={wrapper:"lmtpd",descriptionWrapper:"PbmPP",logo:"TKrhR F0 _m"},ee=({coupon:e,showDescription:a,fetching:n})=>{var{page:t,path:o}=v(),c=b(),[d,f]=s(!1),m=I(),{localize:u}=p(),h=g()||-1;if(n)return i(l,{children:[i("div",{className:X.wrapper,children:[r(k,{variant:"accent",children:u("b2bh_so_special_offer")}),r("img",{className:X.logo,src:`${c}/img2/brand_refresh/Tripadvisor_logoset_solid_green.svg`,alt:""})]}),r(T,{height:"20px",width:"100%",marginTop:"5px"}),a&&r(T,{height:"40px",width:"100%",marginTop:"15px"})]});var C="CREATE_YOUR_OWN"===e.specialOfferType?e.rawHeading:e.headingForTeaser,w=a?e.restrictions:null;return i(l,{children:[i("div",{className:X.wrapper,children:[r(k,{variant:"accent",children:u("b2bh_so_special_offer")}),r("img",{className:X.logo,src:`${c}/img2/brand_refresh/Tripadvisor_logoset_solid_green.svg`,alt:""})]}),r(O,{onClick:()=>{f(!0),m({itemName:"so_b2c_click_commerce_card",actionType:"click",team:"Restaurants",locationId:h,page:t,customData:JSON.stringify({url:o,specialOfferId:e.specialOfferId})})},leftAlign:!0,children:C}),w&&r("div",{className:X.descriptionWrapper,children:r(N,{variant:"body-01",color:"primaryText",children:w})}),d?r(_,{onClose:()=>{f(!1)},specialOfferId:e&&e.specialOfferId,lightboxType:"restaurant"}):""]})},ea=e=>{var a=e.page.detailId,{sponsoredListingLocationIdAttribution:r,page:i}=e.route;return{locationId:a,isRestaurant:"Restaurant_Review"===i,trafficSource:r===a?"sp":"ba",isMobile:"MOBILE"===e.meta.device.viewportCategory,servletName:e.meta.initialServletName||""}},er={offer:"gZwVG H3 f u",common:"OeQeO",about:"dMmpW",aboutHighlighted:"IQlFY",location:"FUyxx",overview:"TeYcL Pc PN Pp PA",overview_light:"ajctW Pc PN Pp PA",overviewOffer:"uRxOx",webLinkText:"FfTzs",mediaViewer:"sEARN",webLink:"AdeBt _S",atfInfo:"ERCyA",hrMeta:"QGKZt",nonWebLink:"oAPmj _S",nonWebLinkText:"KledE",outboundIcon:"QNPJe",offerIcon:"dviEW H3",messenger:"IclGN",partnerLogoImages:"f j u",centerContent:"c",logo_img:"nnFPB",mobile_logo_img:"JUvns",ui_link_container:"YUQUy",level_5:"FTejJ",level_4:"PTrfg",level_3:"Kbmhx",level_2:"rLVaA",level_1:"kYotk",ui_link:"fHvkI"},ei={mapLink:"hwpEh _S",localAddress:"nJnaZ c",addressHead:"IWqGZ",addressLabel:"jzAVp",addressValue:"tQDKm"};function el(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}var en=e=>{var{localize:a}=p();return r(U,{...e,localize:a})},es=({locationId:e,otaLink:a,linkLevel:l,icon:n})=>{var t=a?.linkUrl,o=S(t),{localize:_}=p(),m=L(),g="MOBILE"===M(),v=(e,a)=>{m({module:"ba_for_otas_test",action:e,context:a})},[b,k]=s(!1),N=E(()=>{v("test_impression",e.toString())}),T=u("URL_PARTNER_VISIT",_);function I(){return()=>{v("b4o_link_return",o||t),k(!1)}}function C(){return()=>{v("b4o_link_redirect",o||t),k(!0)}}return r("div",{className:f(er.offer,er.atfInfo),ref:N,children:i("div",{className:f(er.webLink,`${er.ui_link_container} ${er[l]}`),children:[r(c,{name:n,className:er.offerIcon,onClick:C()}),r("span",{className:f(er.webLinkText,`${er.ui_link} ${er[l]}`),onClick:C(),children:T}),b&&r(x,{mobileContainerStyle:"inset",onClose:I(),children:i("div",{children:[r("div",{className:f(er.centerContent),dangerouslySetInnerHTML:{__html:_.string("meta_interstitial_connecting")}}),i("div",{className:f(er.partnerLogoImages),children:[r("img",{alt:"tripadvisor.com",className:g?f(er.mobile_logo_img):f(er.logo_img),src:"img2/brand_refresh/Tripadvisor_lockup_horizontal_registered.svg"}),r(z,{color:"taBrand"}),r("img",{className:g?f(er.mobile_logo_img):f(er.logo_img),src:"img2/branding/hotels/Agoda.png",alt:"Agoda.com"})]}),r("div",{className:f(er.centerContent),children:r(O,{onClick:I(),children:r(d,{id:"flights_app_return_to_tripadvisor"})})}),r(A,{interval:3e3,trigger:()=>{v("b4o_link_click",o||t),o?window.open(o,"_blank"):t&&window.open(t,"_blank"),k(!1)}})]})}),r("span",{className:er.outboundIcon,children:r(h,{})})]})})},et={__key:0xcffdbb5c2ee3,id:"cffdbb5c2ee3935b",loc:{},definitions:[]},eo=()=>{var e=$({experimentKeys:["ba_for_otas_agoda__1667230815"]});return!!(e&&e?.ba_for_otas_agoda__1667230815)&&e?.ba_for_otas_agoda__1667230815!=="control"},ec=(e,a,r,i,l)=>{var[{data:n}]=F({query:et,variables:{locationId:e,commerceCountryId:a,deviceType:r,trafficSource:"ba",servletName:i,hotelTravelInfo:l},pause:!eo()});return{otaData:n?.BaAggregation_productDataBulkForOtaTest?.[0]}};return[()=>{Q.defaultProps={context:void 0},D=Q,B=class extends n{render(){var e,{locationId:a,coupon:n,leadInText:s,layout:t,linkTextOverride:o,wrapperStyle:c,expandedClickableArea:d,isUpdatedMWStickyCommerceUI:p}=this.props;if(!n)return null;var f=n&&n.offerlessCommerceTrackUrl||n&&n.lightboxClickUrl||"",_=o||n.linkText||n.headingForTeaser;return e="string"==typeof s?s:V(n.specialOfferType,this.props.localize)+(_?":":""),i(l,{children:[r(D,{impressionId:n.impressionId,payload:{locationId:a,couponId:n&&(n.id||n.specialOfferId),specialOfferType:n.trackingName||n.specialOfferType||"INVALID",layout:t},offerlessCommerceTrackUrl:f,baLinkUid:this.state.baLinkUid,children:a=>this.renderInnerContent(a,_,e,c,d,p)}),this.renderSpecialOfferLightbox(n)]})}constructor(...e){super(...e),Y(this,"state",{baLinkUid:o(),showSpecialOffer:!1}),Y(this,"renderSpecialOfferOverlay",()=>{this.setState({showSpecialOffer:!0})}),Y(this,"renderSpecialOfferLightbox",e=>this.state.showSpecialOffer?r(_,{onClose:()=>{this.setState({showSpecialOffer:!1})},specialOfferId:e&&(e.id||e.specialOfferId),lightboxType:"hotel"}):""),Y(this,"renderInnerContent",(e,a,l,n,s,t)=>{var{iconAndLeadInTextColor:o,icon:d,linkLevel:p,onClick:_,linkSolidUnderline:m,textAlignment:u="LEFT"}=this.props,h=J(s,e,_,this.renderSpecialOfferOverlay);return r("div",{className:f({[H.special_offer_red_border_wrapper]:"RED_BORDER"===n,[H.special_offer_ds_red_border_wrapper]:"DS_RED_BORDER"===n}),onClick:h.wrapperClickMethod,children:i("div",{className:f(H.container,{[H.center_text]:"CENTER"===u,[H.left_text]:"LEFT"===u&&!t,[H.sticky_commerce]:t}),children:[!t&&r(c,{name:d,className:f(H.specialIcon,G(o))}),i("span",{className:f(H.offer,p&&`${H.ui_link} ${H[p]}`,m?H.solidUnderline:""),onClick:h.innerOfferClickMethod,children:[r("span",{className:f("blOfferLead",H.lead_in,G(o)),"data-blspecialoffer":"lead",children:l}),r("span",{className:t?H.active_link:H.link,"data-blspecialoffer":"link",children:a})]})]})})})}},Y(B,"defaultProps",{icon:"special-offer-fill",wrapperStyle:"NONE",expandedClickableArea:!1}),j=t(e=>({lineItemsByLoc:e.meta.lineItemsByLoc}))(Z),W=ee,q=t(ea)(C),U=class extends n{componentDidMount(){this.setState({mapRadio:R("hr-map")})}render(){var{address:e,userLanguage:a,layout:n,disableMap:s,isDsStyle:t,linkLevel:o}=this.props,d=e&&e.localAddress&&e.localLanguage&&e.localLanguage!==a,p=o?`${er.ui_link_container} ${er[o]}`:"";return i(l,{children:[e.address?i("div",{className:f(er.offer,er[n]),children:[this.props.lightMapIcon?r(P,{size:20,marginRight:"spacing-01"}):r(c,{name:"map-pin-fill",className:er.offerIcon}),i("span",{onClick:s?()=>{}:this.openMap,className:f({[`${er.nonWebLink} ${p}`]:!s}),children:[t?r(N,{elementType:"span",variant:"body-01",children:e.address}):r("span",{className:!s&&o?`${er.ui_link} ${er[o]}`:"",children:e.address}),this.renderMapLink()]})]}):null,d?i("div",{className:f(er.offer,er[n]),children:[r(c,{name:"refresh",className:er.offerIcon}),r(y,{name:`overlay-localAddress-${er[n]}`,children:e=>r("span",{onClick:e,className:f(er.nonWebLink,p),children:r("span",{className:f(er.nonWebLink,o?`${er.ui_link} ${er[o]}`:""),children:this.props.localize("localnameandaddress_1")})})}),r(w,{name:`overlay-localAddress-${er[n]}`,disableFullscreenOnMobile:!0,children:i("div",{className:ei.localAddress,children:[r("div",{className:ei.addressHead,children:this.props.localize("localnameandaddress_1")}),r("div",{className:ei.addressLabel,children:`${this.props.localize.string("local-name-and-address_localname")}${this.props.localize.string("common_colon")}`}),r("div",{className:ei.addressValue,children:e.localName||e.name}),r("div",{className:ei.addressLabel,children:`${this.props.localize.string("local-name-and-address_localaddress")}${this.props.localize.string("common_colon")}`}),r("div",{className:ei.addressValue,children:e.localAddress})]})})]}):null]})}constructor(...e){super(...e),el(this,"state",{mapRadio:null}),el(this,"openMap",()=>{this.state.mapRadio&&this.state.mapRadio.emit("open-trigger-clicked")}),el(this,"renderMapLink",()=>{var{layout:e,disableMap:a}=this.props;return"location"===e||"atfInfo"===e||a?null:r("span",{className:ei.mapLink,children:this.props.localize("mw_common_seeOnMap_ffffec3e")})})}},el(U,"defaultProps",{layout:"overview",disableMap:!1,isDsStyle:!1,lightMapIcon:!1}),e({Address:en,BaOtaLink:es,BaOtaQuery:et,BusinessAdvantageProvider:q,RestaurantSpecialOfferDesktop:W,SpecialOffer:j,remapContacts:K,useBaOtaQueryWrapper:ec,useIsBaOtaTestEnabled:eo})},[e=>(r=e.jsx,i=e.jsxs,l=e.Fragment),e=>(n=e.Component,s=e.useState),e=>t=e.connect,e=>o=e.uuid,e=>c=e.Icon,e=>(d=e.default,p=e.useLocalize),e=>f=e.default,e=>_=e.default,e=>(m=e.ClickTracker,u=e.offerTextFromContactType,h=e.OutboundIcon),e=>g=e.useLocationDetail,e=>v=e.useRoute,e=>b=e.useCdnPrefix,e=>k=e.default,e=>O=e.BorderlessButton,e=>N=e.default,e=>T=e.default,e=>I=e.default,e=>C=e.BusinessAdvantageProvider,e=>w=e.Modal,e=>y=e.Opener,e=>R=e.createRadio,e=>P=e.default,e=>L=e.useGARecorder,e=>E=e.useOnVisible,e=>S=e.useObfuscatedUrl,e=>x=e.ModalContainer,e=>A=e.default,e=>M=e.useViewportCategory,e=>z=e.default,e=>F=e.useQuery,e=>$=e.default]]},["21h32l","o4yt4q","2mj4nv","eww825","ybxsmg","7thqz4","fkji80","r9zz7r","t9pxn7","bvvaww","fgwvq1","s6q22n","oz3g7e","jppfwt","essqvy","u59av4","r73jw8","l82a96","8m6oju","80hn7v","bqgabj","bp96i9","32pwc7","3btuy0","ay1l3c","i3sz5h","8gzfcs","ys6v1o","bqhoek","mqwhqn","gugp1d"]]);
