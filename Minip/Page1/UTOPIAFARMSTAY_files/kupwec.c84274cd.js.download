(this.$WP=this.$WP||[]).push(["kupwec",(e,t)=>{var r,a,d,i,n,o,l,c,s,u,m,p,f,I,h,v,y,w,E,g,C,M,b,T,A,S,N,R,L,_,k,x,O,D,V,P,q,U,$,B,F,H,W,j,z,G={offer_wrapper:"GlgOJ z R2 e",full:"gUoES",alt:"UYmSS",landscape:"sEiWH",price_night:"gHkKZ Vt F2",price:"jXQqC b",strikeThroughPrice:"qMZmt Wa",priceWrap:"FwOoB F2 q",price_vendor:"tOcbq q _S",buttonWrap:"qkSLf F2",buttonText:"q"},Y=["BLURRED_ALT"],Z=e=>e.isIbOffer||!e.clickToken?null:a(y,{name:"external-link-no-box"}),K=({data:e,status:t,providerDisplayName:d,buttonText:i,priceText:n,strikeThroughText:o,detailsHeight:l,layout:c,hotelId:s})=>{var{localize:u}=p(),m=I({event:"CLICKOUT",data:{hotelIdOnClick:s}});return"AVAILABLE"!==t?null:r("div",{className:`${G.offer_wrapper} ${Y.includes(c)?G.full:""}
     ${"LANDSCAPE"===c?G.landscape:""} ${"BLURRED_ALT"===c?G.alt:""}`,children:[r("div",{className:G.price_night,style:{height:l},children:[r("div",{...h(e,void 0),className:G.price_vendor,onClick:m,children:[d,Z(e)]}),r("div",{className:G.priceWrap,children:[o&&a("div",{className:G.strikeThroughPrice,children:o}),a("div",{className:G.price,children:n})]})]}),a("div",{...h(e,void 0,!1),className:G.buttonWrap,onClick:e=>m(e,null),children:a(f,{legacyStyled:!0,variant:"commerce",size:"LANDSCAPE"===c?"small":"medium",fullWidth:Y.includes(c),children:a("span",{className:G.buttonText,children:i||u("view_deal")})})})]})},Q={setAlbum:"ALBUM",setType:"TYPE",setSort:"SORT",setCategory:"CATEGORY",detailDismiss:"DETAIL_DISMISS",detail:"DETAIL",openViewer:"OPEN",updateLocationInfo:"UPDATE_LOCATION_INFO",updateReferenceMedia:"UPDATE_REFERENCE_MEDIA",invalidateReferenceMedia:"INVALIDATE_REFERENCE_MEDIA",resetState:"RESET_STATE"},J={__key:0xfbfd0cb64594,id:"fbfd0cb645944f1e",loc:{},definitions:[]},X=(e,t)=>{var[r,a]=d("");return i(()=>{var r=setTimeout(()=>{e?(a(b.generateUrlHashString(t)),b.updateHash(t)):(a(""),b.removeHash())},0);return()=>clearTimeout(r)},[e,t,t.referenceCompoundMediaId,t.selectedIndex]),r},ee={overlay:"NdjYr",fullscreen:"w _Z",header:"CVNBL",content:"unrsl w _Z"},et=({close:e})=>{var t=x();return t?a(O,{mobileRenderer:()=>a(D,{children:r("div",{className:`${ee.overlay} ${ee.fullscreen}`,children:[a(P,{onBack:e}),a(T,{height:"100%",width:"100%"})]})}),desktopRenderer:()=>{if(!t)return null;var{width:d,height:i}=t;if(!d||!i)return null;var n=V(d,i,!0),o={top:`${n.mh}px`,bottom:`${n.mh}px`,left:`${n.mw}px`,right:`${n.mw}px`};return a(D,{children:r("div",{className:ee.overlay,style:o,children:[a("div",{className:ee.header,children:a(q,{onCloseClick:e})}),a("div",{className:ee.content,children:a(T,{height:"100%",width:"100%"})})]})})}}):null},er=()=>S[N(R().mediaGroup)],ea={referenceCompoundMediaId:null,media:null,selectedIndex:null,addedToHistory:!1},ed=(e,t)=>{switch(t.type){case Q.setAlbum:return{...e,albumId:t.albumId,typeId:t.albumId!==A.TRAVELER_ALBUM?er():S.TRAVELER,categoryId:t.categoryId?t.categoryId:t.albumId,media:void 0,referenceCompoundMediaId:t.referenceCompoundMediaId};case Q.setCategory:return{...e,categoryId:t.categoryId,referenceCompoundMediaId:void 0,media:void 0};case Q.setType:return{...e,typeId:t.typeId,referenceCompoundMediaId:void 0,media:void 0};case Q.setSort:return{...e,sort:t.sort,referenceCompoundMediaId:void 0,media:void 0};case Q.detail:return{...e,selectedIndex:t.selectedIndex,media:t.media};case Q.invalidateReferenceMedia:return{...e,media:null,referenceMedia:void 0,referenceCompoundMediaId:void 0};case Q.updateReferenceMedia:return{...e,referenceMedia:t.referenceMedia,media:{media:t.referenceMedia,loading:!1}};case Q.detailDismiss:return{...e,media:e.referenceMedia?{loading:!1,media:e.referenceMedia}:null};case Q.updateLocationInfo:return{...e,locationName:t.locationName,locationTotalMediaCount:t.locationTotalMediaCount};case Q.openViewer:return{...e,...t.state};case Q.resetState:return{...e,...ea};default:return e}},ei=(e,t)=>{if($(t)){var r=b.initDefaults(b.generateMediaViewerStateFromPVRoute(t));return r.locationId=e,r}return b.generateMediaViewerState(t)},en=({locationId:e,offer:t,businessContact:r})=>a(E,{query:J,variables:{locationId:e},children:({fetching:d,data:i})=>d||!i?a(eo,{locationId:e,locationName:"",offer:t,businessContact:r}):a(eo,{locationId:e,locationName:i?.locations?.[0]?.name,locationTotalMediaCount:i?.locations?.[0]?.mediaCount,offer:t,businessContact:r})}),eo=({locationId:e,locationName:t,locationTotalMediaCount:n,offer:m,businessContact:p})=>{var f=L(),[I]=d(b.getHash()),[h,v]=d(U(I)),[y]=d(ei(e,I)),[w,E]=o(ed,{...y,locationId:e}),g=l(C("media-viewer")),T=l(!1);H(h,w);var[A,S]=d(void 0);i(()=>{var e=e=>{if(e.state&&"openMediaViewer"in e.state){v(!1);return}e.state&&"backToGallery"in e.state&&(E({type:"DETAIL_DISMISS"}),"media"in e.state&&S(e.state.media))};return window?(window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}):()=>{}},[A,w.selectedIndex]),i(()=>{h&&f(_.MV_OPEN,{locationId:e,albumId:w.albumId,categoryId:w.categoryId,typeId:w.typeId})},[h,w.albumId,w.categoryId,e,w.typeId,f]),i(()=>E({type:"UPDATE_LOCATION_INFO",locationName:t,locationTotalMediaCount:n}),[t,n]);var N=c(()=>{T.current&&window&&(w.addedToHistory?window.history.go(-2):window.history.back(),T.current=!1),f(_.CLOSE_CLICK,{locationId:e,albumId:101,categoryId:101,typeId:0}),v(!1),E({type:"RESET_STATE"})},[e,w.addedToHistory,f]);i(()=>{var t=t=>{var r=b.initDefaults(t);r.referenceCompoundMediaId&&r.referenceCompoundMediaId.id<0&&(r.referenceCompoundMediaId=null);var a=b.generateUrlHashString(r);window&&document&&(window.history.replaceState({openMediaViewer:!0},document.title,null),window.history.pushState(null,document.title,a)),T.current=!0,v(!0),E({type:"OPEN",state:{locationId:e,...r}})},r=g.current;return r.on("open",t),()=>{r.off("open",t)}},[e]);var R=s(()=>({locationId:e,albumId:w.albumId,categoryId:w.categoryId,typeId:w.typeId,mediaId:w.referenceCompoundMediaId?.id,sort:w.sort}),[e,w]);return r(k.Provider,{value:R,children:[a(B,{children:a(u,{fallback:a(et,{close:N}),children:h&&a(W,{offer:m,businessContact:p,close:N,mediaViewerState:w,dispatchMVAction:E})})}),a(M,{keyName:"Escape",callback:N})]})},el=({offer:e,hotelId:t})=>a(j,{businessContact:()=>a(w,{}),offer:r=>e?r?a(F,{...e,layout:"LANDSCAPE",hotelId:t}):a(F,{...e,layout:"BLURRED_ALT",hotelId:t}):null}),ec=e=>a(z,{offer:e.listing?.chevronOffers?.[0],hotelId:e.hotelId}),es=({optimusEnabled:e})=>a(v,{optimusEnabled:e,ttp:"hotel-review-photo-viewer-offer",children:e=>a(ec,{...e})});return[()=>{F=K,H=X,W=m(()=>t("p9rcpr")),j=n(g(e=>({locationId:e.page.detailId??0}))(en)),z=n(el),e({RenderHRMediaViewer:ec,default:es})},[e=>(r=e.jsxs,a=e.jsx),e=>(d=e.useState,i=e.useEffect,n=e.memo,o=e.useReducer,l=e.useRef,c=e.useCallback,s=e.useMemo,u=e.Suspense,m=e.lazy),e=>p=e.useLocalize,e=>f=e.default,e=>(I=e.useClickOfferElement,h=e.getOfferElementProps,v=e.MetaQueryPoller),e=>y=e.Icon,e=>w=e.BusinessContactNode,e=>E=e.Query,e=>g=e.connect,e=>C=e.createRadio,e=>M=e.default,e=>b=e,e=>T=e.default,e=>(A=e.AlbumTypes,S=e.mediaGroupIds,N=e.getMediaGroupForString,R=e.getMediaFilterToRetrieveAllPhotos),e=>(L=e.useMVTrackingWithoutContext,_=e.trackedPageActions,k=e.MVTrackingContext),e=>x=e.useViewport,e=>O=e.default,e=>(D=e.default,V=e.computeMVOverlayMetrics),e=>P=e.default,e=>q=e.default,e=>(U=e.shouldShow,$=e.shouldRedirect),e=>B=e.ErrorBoundary]]},["21h32l","o4yt4q","7thqz4","jppfwt","nzwvrx","ybxsmg","dkknif","mqwhqn","2mj4nv","bqgabj","gttbjc","xf498w","u59av4","3w1vrt","eucglw","bnv2ns","8rtacq","tax17a","xc235k","wy2ipr","uk99rb","83pm0d"]]);
