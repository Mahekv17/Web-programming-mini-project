(this.$WP=this.$WP||[]).push(["18jbwy",(e,n)=>{var t,o,i,r,s,l,u={__key:0xe77aabce6368,id:"e77aabce63684f5c",loc:{},definitions:[]},a={__key:0x9c34ac79a371,id:"9c34ac79a371ebf2",loc:{},definitions:[]};function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var p=e=>{var{locationId:n,placeType:t}=e,o={includePartialResults:!1,placeType:t||"ACCOMMODATION",locationQueryId:n||0};return e.isGeographic?{query:a,variables:o,pause:!e.loggedInUserId||!n||n<=0}:{query:u,variables:o,pause:!e.loggedInUserId||!n||n<=0}},b=e=>({loggedInUserId:e.auth.loggedInUserId});return[()=>{e("LocationContributionsPoller$1",l=class extends o{render(){var{children:e,locationId:n}=this.props,o=p(this.props);return t(i,{query:o.query,variables:o.variables,pause:o.pause,children:({data:t,fetching:o,executeQuery:i})=>o?e(null,!0):t&&t.connectionContributions?"COMPLETE"!==t.connectionContributions.status&&this.state.repollCount<=4?(this.pollServer(i,n),e(null,!0)):t&&t.connectionContributions&&t.connectionContributions.contributionsByLocation&&t.connectionContributions.contributionsByLocation[0]&&t.connectionContributions.contributionsByLocation[0].userReviewContributions?e(t,!1):e(null,!1):e(null,!1)})}constructor(e){super(e),c(this,"pollServer",s((e,n)=>{this.setState(e=>({repollCount:e.repollCount+1}),()=>{this.state.repollCount>4||e({includePartialResults:4===this.state.repollCount,locationQueryId:n})})},1e3,{trailing:!1})),this.state={repollCount:0}}}),c(l,"defaultProps",{placeType:"ACCOMMODATION",isGeographic:!1}),e("LocationContributionsPoller",r(b)(l))},[e=>t=e.jsx,e=>o=e.Component,e=>i=e.Query,e=>r=e.connect,e=>s=e.default]]},["21h32l","o4yt4q","mqwhqn","2mj4nv","dsbyen"]]);
