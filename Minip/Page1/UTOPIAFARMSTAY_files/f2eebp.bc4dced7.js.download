(this.$WP=this.$WP||[]).push(["f2eebp",(e,r)=>{var i,n,a,t,l,o,d,c,s,_,m,h,u,p,g,b,v,f,C,y,I,T,E,w,N,S,R,k,O,A,P,D,M,B,F,x,V,G,H,z,L,q,U,W,$,j,K,Y,Z,Q,J,X,ee,er,ei,en,ea,et,el,eo,ed,ec,es,e_,em,eh,eu,ep,eg,eb,ev,ef,eC,ey,eI,eT,eE,ew,eN,eS,eR=({onClose:e,onStart:r})=>{var a=I();return i(E,{onClose:e,children:n("div",{className:"SZIaZ",children:[i(u,{variant:"title-02",children:i(v,{id:"hrm_welcome_trial_modal_tittle"})}),i(u,{variant:"body-01",marginTop:"spacing-03",children:i(v,{id:"hrm_welcome_trial_modal_description"})}),i(H,{className:"KLYEQ Mk",width:"400",height:"302",src:"/img2/t4b/upp/learn_more/RP/v2/rp_feature_3_en.png",alt:"reputation-pro-feature"}),i("div",{className:F(x({display:"flex",justifyContent:"center"}),V({marginTop:"spacing-03"})),children:i(p,{onClick:()=>{a({type:"click",name:"rm_tbb_trial_modal_get_started_click"}),r()},variant:"secondary",children:i(v,{id:"hrm_welcome_trial_modal_cta"})})})]})})},ek={__key:52740122082400,id:"2ff7843dfc6020ca",loc:{},definitions:[]},eO=["CONNECT_REVIEW_PROVIDERS","REVIEW_FEATURES","REVIEW_INSIGHTS","COMPETITOR_INSIGHTS","CUSTOM_TEMPLATES","GUEST_SATISFACTION_SURVEY","NOTIFICATIONS"],eA=e=>eO.some(r=>r===e),eP=(e,r)=>`${e}_${r}_dismissed`,eD={__key:60993068480031,id:"37790e2e361fb343",loc:{},definitions:[]},eM={CONNECT_REVIEW_PROVIDERS:e=>{var r=e?.hrmInfo?.[0]?.subscriptions?.filter(Boolean),i=["GOOG","FB","BCOM","XPED"];return r?.some(({provider:e})=>null!=e&&i.includes(e))?"DONE":"NOT_DONE"},REVIEW_FEATURES:()=>"NOT_TRACKED",REVIEW_INSIGHTS:()=>"NOT_TRACKED",COMPETITOR_INSIGHTS:()=>"NOT_TRACKED",CUSTOM_TEMPLATES:e=>{var r=e?.rexInfo?.[0];return null==r?null:!0===r.hasCustomEmailCampaign?"DONE":"NOT_DONE"},GUEST_SATISFACTION_SURVEY:e=>{var r=e?.rexInfo?.[0]?.currentSurveyForm?.questions;return null==r?null:r.length>0?"DONE":"NOT_DONE"},NOTIFICATIONS:()=>"NOT_TRACKED"},eB=e=>{var[r]=S({query:eD,variables:{locationId:e}},{HRM_updateLocationSubscriptions:()=>"invalidateAndRefetch",RCOLL_saveEmailTemplates:()=>"invalidateAndRefetch",RCOLL_setDefaultEmailTemplates:()=>"invalidateAndRefetch",RCOLL_setLocationSurvey:()=>"invalidateAndRefetch"}),{data:i}=r;return{fetching:!1,data:eO.reduce((e,r)=>({...e,[r]:eM[r](i)}),{})}},eF=(e,r)=>{switch(r){case"CONNECT_REVIEW_PROVIDERS":case"REVIEW_FEATURES":return`/OwnerResponse-d${e}?onboarding=${r}`;case"REVIEW_INSIGHTS":return`/RMHome-d${e}?onboarding=${r}`;case"COMPETITOR_INSIGHTS":return`/RMHome-d${e}-c1?onboarding=${r}`;case"CUSTOM_TEMPLATES":case"GUEST_SATISFACTION_SURVEY":return`/RMReviewCollection-d${e}?onboarding=${r}`;case"NOTIFICATIONS":return`/OwnerNotificationSetting-d${e}?onboarding=${r}`;default:return r}},ex=e=>eO.map(r=>({flowId:r,navPath:eF(e,r)})),eV=e=>{var{data:r}=eB(e),i=ex(e),[n]=S({query:ek,variables:{requests:i.map(({flowId:r})=>({event:eP(e,r),range:{start:ee,end:er}}))}},{ReputationOwnerFeatures_addUserEvents:()=>"invalidateAndRefetch"}),{data:a,fetching:t,error:l}=n,o=a?.ReputationOwnerFeatures_getUserEventCounts?.filter(e=>"number"==typeof e);return{error:l,fetching:t,data:null!=o?{locationId:e,onboardingFlows:i.map((e,i)=>({...e,isDismissed:o[i]>0,status:r?.[e.flowId]||null}))}:void 0}},eG=e=>"reviews"===e.page||"RMHome"===e.page||"OwnerResponse"===e.page||"RMReviewCollection"===e.page||"OwnerNotificationSetting"===e.page,eH=()=>{var e=R();if(!eG(e))return null;var r=e.params.onboarding;return eA(r)?r:null},ez=e=>e.isDismissed||"DONE"===e.status,eL=e=>e.onboardingFlows.filter(ez).length,eq="rm-onboarding-seen",eU={modalContent:"npGRB z",spaceY03:"ZplDz",lineThrough:"Wa",completedIconContainer:"GfBIa f u",onboardingFlowItem:"CngBO f u Q3"},eW=e=>{var{localize:r}=f();switch(e.flowId){case"CONNECT_REVIEW_PROVIDERS":return r.string("hrm_trial_onboarding_connect_review_providers");case"NOTIFICATIONS":return r.string("hrm_trial_onboarding_notifications");case"REVIEW_INSIGHTS":return r.string("hrm_trial_onboarding_review_insights");case"COMPETITOR_INSIGHTS":return r.string("hrm_trial_onboarding_competitor_insights");case"GUEST_SATISFACTION_SURVEY":return r.string("hrm_trial_onboarding_gss");case"CUSTOM_TEMPLATES":return r.string("hrm_trial_onboarding_custom_templates");case"REVIEW_FEATURES":return r.string("hrm_trial_onboarding_review_features");default:return e.flowId}},e$=({onboardingFlow:e,onClose:r,onClick:t})=>{var l=G(),o=eW(e);return i("li",{className:eU.onboardingFlowItem,children:ez(e)?n(a,{children:[i("span",{className:eU.lineThrough,children:o}),i("div",{className:eU.completedIconContainer,children:i(A,{size:24})})]}):n(a,{children:[i(u,{variant:"title-05",children:i(k,{href:l(e.navPath),theme:"standalone",onClick:()=>{t&&t(),r()},children:i("span",{children:o})})}),i(g,{href:l(e.navPath),onClick:()=>{t&&t(),r()},icon:O,size:"medium","aria-label":o,variant:"primary-border"})]})})},ej=({onboardingInfo:e,onClose:r,onFlowClick:t})=>{var l=null!=e?eL(e):0,o=e?.onboardingFlows;return i(E,{onClose:r,children:n("div",{className:eU.modalContent,children:[i(P,{variant:"primary",children:"Reputation Pro"}),i(u,{variant:"body-01",marginTop:"spacing-03",children:i(v,{id:"hrm_trial_onboarding_card_text"})}),null!=o&&n(a,{children:[i("div",{className:V({marginTop:"spacing-03"}),children:i(D,{variant:"dark-green",numSteps:o.length,currentStep:l})}),i(u,{variant:"title-05",marginTop:"spacing-03",children:i(v,{id:"PCard_completed_steps",args:{0:l,1:o.length||0}})}),i("ul",{className:h(V({marginTop:"spacing-03"}),eU.spaceY03),children:o.map(e=>i(e$,{onboardingFlow:e,onClose:r,onClick:()=>t&&t(e)},e.flowId))})]})]})})},eK=({locationId:e,onClose:r})=>{var{data:n,fetching:a}=eV(e),l=I();return t(()=>{sessionStorage.setItem(eq,new Date().toString())},[]),i(ej,{onboardingInfo:n,fetching:a,onClose:r,onFlowClick:e=>{l({type:"click",name:"rm_tbb_onboarding_modal_flow_click",attributes:{flowId:e.flowId}})}})},eY=({totalSteps:e,fetching:r,completedSteps:a,onGetStarted:t,fullWidth:l,fullHeight:o})=>n("div",{className:F("TpnRV Ra Pk PY Px PK Gi B1 Z BB",x({display:"flex",flexDirection:"column",justifyContent:"space-between"}),{w:l,_Z:o}),children:[n("div",{children:[i("div",{children:i(P,{variant:"primary",children:i(v,{id:"hrm_template_tooltip_fremium_rp"})})}),i(u,{variant:"body-01",marginTop:"spacing-03",children:i(v,{id:"hrm_trial_onboarding_card_text"})}),i("div",{className:V({marginTop:"spacing-04"}),children:r?i(M,{height:6,width:"100%"}):i(D,{numSteps:e,currentStep:a,variant:"dark-green"})})]}),n("div",{className:F(x({display:"flex",justifyContent:"space-between",alignItems:"center"}),V({marginTop:"spacing-03"})),children:[r?i(M,{height:20,width:100}):i(u,{variant:"button-01",children:i(v,{id:"PCard_completed_steps",args:{0:a,1:e}})}),i(p,{variant:"secondary",onClick:t,size:"small",children:i(v,{id:"hrm_trial_onboarding_card_cta"})})]})]}),eZ=({locationId:e,fullHeight:r,fullWidth:n})=>{var{data:a,fetching:t}=eV(e),l=a?.onboardingFlows?.length??0,o=null!=a?eL(a):0,d=I(),{open:c}=T(({close:r})=>i(ei,{locationId:e,onClose:r}));return i(en,{totalSteps:l,completedSteps:o,onGetStarted:()=>{d({type:"click",name:"rm_tbb_onboarding_card_get_started_click"}),c()},fetching:t,fullHeight:r,fullWidth:n})},eQ={__key:0xc5314120d893,id:"c5314120d8931b0d",loc:{},definitions:[]},eJ=e=>{var[{data:r,fetching:i,error:n}]=S({query:eQ,variables:{locationId:e}},{HRM_updateTrialSubscription:()=>"invalidateAndRefetch"});return{status:r?.HRM_getLocationsReputationManagementSubscriptionInfo?.[0]?.trialInfo?.status||null,fetching:i,error:n}},eX={__key:0xe15b57e2b54c,id:"e15b57e2b54cee6e",loc:{},definitions:[]},e0=e=>{if(e)return!!e.HRM_updateTrialSubscription?.success},e1=e=>{var[{fetching:r,data:i,error:n},a]=N(eX);return[{fetching:r,data:e0(i),error:n},r=>a({request:r}).then(r=>{var i=e0(r.data);if(e?.throwOnFailure&&!i)throw Error();return i})]},e2=({locationId:e,children:r})=>{var n=eH(),{status:a,fetching:o}=et(e),d=l(!1),{open:c}=T(({close:r})=>i(ei,{locationId:e,onClose:r}));return t(()=>{d.current||o||(d.current=!0,"ACTIVE"===a&&null==n&&null==window.sessionStorage.getItem(eq)&&c())},[c,a,o,n]),r},e3={container:"liyER",block:"WvhVJ",inline:"zuHPr",inlineBlock:"JOAuK",floating:"ARaih Za",bottomPlacement:"fxAod",centerAlignment:"eGxUN",startAlignment:"eckNO",endAlignment:"qjbTU",tooltipArrow:"xvUbG o Za",arrowBottomPlacement:"uqgMN",arrowCenterAlignment:"ZrqiZ",arrowStartAlignment:"PvhEh",arrowEndAlignment:"tfdFh"},e4={modal:"mHMsD Gc Za _s Ra _T",modalHeader:"f u k Q3",modalBody:"BInen",modalClose:"hODOd",navigationBody:"f k u",dotPaginationAlignmentFix:"WSSDi"},e5=e=>_(e),e6=({header:e,children:r,initialSlideIndex:a=0,onClose:t})=>{var l=d.toArray(r).filter(e5),[o,_]=c(a),{localize:m}=f(),h=l.length>1,p=()=>{o!==l.length-1&&_(o+1)},b=()=>{0!==o&&_(o-1)};return n("div",{className:e4.modal,children:[n("div",{className:e4.modalHeader,children:[null!=e&&("string"==typeof e?i(u,{variant:"title-04",children:e}):e),i("div",{className:e4.modalClose,children:i(g,{variant:"clear",onClick:t,icon:J,"aria-label":m.string("coso_ssp_common_Close")})})]}),i("div",{className:e4.modalBody,children:l.map((e,r)=>s(e,{screenIndex:r,activeScreenIndex:o}))}),h&&n("div",{className:e4.navigationBody,children:[i(g,{onClick:()=>b(),"aria-label":m.string("common_Previous"),variant:"clear",icon:Q,size:"small"}),i("div",{className:e4.dotPaginationAlignmentFix,children:i(X,{numberOfItems:l.length,selectedIndex:o})}),i(g,{onClick:()=>p(),"aria-label":m.string("common_Next"),variant:"clear",icon:O,size:"small"})]})]})},e8=({onClose:e})=>n(eo,{header:i(u,{variant:"title-05",children:i(v,{id:"rp_competitor_insights_header"})}),onClose:e,children:[i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_competitor_insights_step1"})})}),i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_competitor_insights_step2"})})}),i(el,{children:i(u,{variant:"body-01",children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_competitor_insights_step3"})})})})]}),e7=({onClose:e})=>n(eo,{header:i(u,{variant:"title-05",children:i(v,{id:"hrm_review_insights"})}),onClose:e,children:[i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_review_insights_step1"})})}),i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_review_insights_step2"})})})]}),e9=({onClose:e})=>n(eo,{header:i(u,{variant:"title-05",children:i(v,{id:"hrm_trial_onboarding_notifications"})}),onClose:e,children:[i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_notifications_step1"})})}),i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_notifications_step2"})})}),i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_notifications_step3"})})})]}),re=({onClose:e})=>n(eo,{header:i(u,{variant:"title-05",children:i(v,{id:"hrm_trial_onboarding_gss"})}),onClose:e,children:[i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_gss_step1"})})}),i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_gss_step2"})})}),i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_gss_step3"})})}),i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_gss_step4"})})})]}),rr=({onClose:e})=>n(eo,{header:i(u,{variant:"title-05",children:i(v,{id:"hrm_trial_onboarding_custom_templates"})}),onClose:e,children:[i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_custom_templates_step1"})})}),i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_custom_templates_step2"})})}),i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_custom_templates_step3"})})})]}),ri=({onClose:e})=>n(eo,{header:i(u,{variant:"title-05",children:i(v,{id:"hrm_trial_onboarding_connect_review_providers"})}),onClose:e,children:[i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_connect_review_providers_step1"})})}),i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_connect_review_providers_step2"})})}),i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_connect_review_providers_step3"})})}),i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_connect_review_providers_step4"})})})]}),rn=({onClose:e})=>n(eo,{onClose:e,children:[i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_review_features_step1"})})}),i(el,{children:i(u,{variant:"body-01",children:i(v,{id:"hrm_trial_onboarding_review_features_step2"})})})]}),ra=({onboardingFlowId:e,onClose:r})=>{switch(e){case"COMPETITOR_INSIGHTS":return i(ed,{onClose:r});case"REVIEW_INSIGHTS":return i(ec,{onClose:r});case"CONNECT_REVIEW_PROVIDERS":return i(eh,{onClose:r});case"CUSTOM_TEMPLATES":return i(em,{onClose:r});case"GUEST_SATISFACTION_SURVEY":return i(e_,{onClose:r});case"NOTIFICATIONS":return i(es,{onClose:r});case"REVIEW_FEATURES":return i(eu,{onClose:r});default:return e}},rt={__key:870009911207,id:"00ca90a1b7a7398c",loc:{},definitions:[]},rl=()=>{var[,e]=N(rt);return(r,i)=>{e({eventKey:eP(r,i)})}},ro=e=>{switch(e){case"block":return e3.block;case"inline":return e3.inline;case"inlineBlock":return e3.inlineBlock;default:return e}},rd=({locationId:e,children:r,onboardingFlowId:a,isEnabled:o=!0,triggerDisplay:d="block",placement:s="bottom",alignment:_="center"})=>{var u=l(null),{data:p}=eV(e),{status:g}=et(e),b=m(()=>p?.onboardingFlows.some(e=>e.flowId===a&&ez(e)),[p?.onboardingFlows,a]),v=rl(),f=eH()===a&&!b&&o&&"ACTIVE"===g,[C,y]=c(!1);return t(()=>{f&&setTimeout(()=>{null!=u.current&&u.current.scrollIntoView({block:"center",behavior:"smooth"})},100)},[f]),n("div",{className:h(e3.container,ro(d)),children:["function"==typeof r?r(f):r,f&&!C&&n("div",{ref:u,className:h(e3.floating,{[e3.bottomPlacement]:"bottom"===s,[e3.centerAlignment]:"center"===_,[e3.startAlignment]:"start"===_,[e3.endAlignment]:"end"===_}),children:[i(ep,{onboardingFlowId:a,onClose:()=>{y(!0),v(e,a)}}),i("div",{className:h(e3.tooltipArrow,{[e3.arrowBottomPlacement]:"bottom"===s,[e3.arrowCenterAlignment]:"center"===_,[e3.arrowStartAlignment]:"start"===_,[e3.arrowEndAlignment]:"end"===_})})]})]})},rc=e=>{var[r,a]=c(!1),[t,l]=c(!1),[,o]=e1(),d=C(),s=I(),{localize:_}=f(),{open:m}=T(({close:r})=>i(ei,{locationId:e,onClose:r})),{open:h}=T(({close:e})=>i(eR,{onClose:e,onStart:()=>{e(),m()}})),g=new Date,b=new Date;return b.setDate(b.getDate()+30),T(({close:c})=>i(E,{title:"Reputation Pro Trial",mobileContainerStyle:"inset",onClose:c,children:n("div",{className:"kEBFH",children:[i(u,{variant:"body-01",marginBottom:"spacing-02",children:i(v,{id:"hrm_try_before_buy_upsell_description",args:{duration:30}})}),i(u,{variant:"body-01",marginBottom:"spacing-02",children:i(y,{id:"hrm_trial_starts_on",args:{date:d.formatDate("date_long",g)}})}),i(u,{variant:"body-01",marginBottom:"spacing-03",children:i(y,{id:"hrm_trial_ends_on",args:{date:d.formatDate("date_long",b)}})}),n("div",{className:"fpNRR f Q2",children:[i(p,{variant:"secondary",size:"medium",onClick:()=>{s({name:"hrm_tbb_activation_modal_cancel_click",type:"click"}),c()},children:i(v,{id:"hrm_cm_edit_cancel_button"})}),i(p,{size:"medium",loading:r,"aria-label":_.string("hrm_lander_start_free_trial"),onClick:()=>{s({name:"rm_tbb_activation_modal_start_trial_click",type:"click"}),a(!0),l(!1),o({locationId:e,status:"ACTIVE"}).then(e=>{a(!1),l(!!e),e&&(c(),h())})},children:i(v,{id:"hrm_lander_start_free_trial"})})]}),t&&i(u,{variant:"supporting-02",color:"dangerText",marginTop:"spacing-02",children:i(v,{id:"hrm_general_error"})})]})}))},rs=e=>[{title:e.string("hs_upp_selection_learn_more_rp_headline1"),description:e.string("hs_upp_selection_learn_more_rp_description1"),image:"img2/t4b/upp/learn_more/RP/v2/rp_feature_1.png"},{title:e.string("hs_upp_selection_learn_more_rp_headline2"),description:e.string("hs_upp_selection_learn_more_rp_description2"),image:"img2/t4b/upp/learn_more/RP/v2/rp_feature_2.png"},{title:e.string("hs_upp_selection_learn_more_rp_headline3"),description:e.string("hs_upp_selection_learn_more_rp_description3"),image:"img2/t4b/upp/learn_more/RP/v2/rp_feature_3.png"},{title:e.string("hs_upp_selection_learn_more_rp_headline4"),description:e.string("hs_upp_selection_learn_more_rp_description4"),image:"img2/t4b/upp/learn_more/RP/v2/rp_feature_4.png"}],r_=({locationId:e,slide:r})=>{var a=z(),{localize:t}=f(),{open:l}=eb(e),{isEligibleForTrial:o}=ew(e),d=I();return n("div",{className:"oIwBI f K Q3",children:[i("img",{className:"GNkiQ",src:`${a}/${r.image}`,alt:t.string("hrm_learn_more")}),n("div",{className:"tEZYx",children:[i(u,{variant:"title-05",marginBottom:"spacing-02",children:r.title}),i(u,{variant:"body-01",children:r.description}),n("div",{className:"VeANT f Q3 Mj",children:[i(p,{variant:"commerce",size:"medium",href:`/HotelsProductCart?uppc=rmb&detail=${e}`,onClick:()=>{d({name:"rm_learn_more_modal_upgrade_click",type:"click"})},children:i(v,{id:"hrm_try_before_buy_upgrade_cta"})}),o&&i(p,{size:"small",variant:"secondary",onClick:()=>{d({name:"rm_learn_more_modal_start_trial_click",type:"click"}),l()},children:i(v,{id:"hrm_lander_start_free_trial"})})]})]})]})},rm=({direction:e,onClick:r})=>i(g,{icon:"right"===e?q:U,size:"medium",onClick:r,variant:"primary-border","aria-label":"arrow"}),rh=e=>{var{localize:r}=f(),a="MOBILE"===L(),t=rs(r),l=r=>i(r_,{locationId:e,slide:t[r]});return T(({close:e})=>i(w,{onClose:e,children:n("div",{className:"JlfGI",children:[i(u,{variant:"title-02",children:i(v,{id:"hrm_product_name"})}),i(u,{variant:"body-01",marginBottom:"spacing-03",children:i(v,{id:"hrm_your_reputation_powered_by_trip_v2"})}),i(W,{itemRenderer:l,totalCount:t.length,arrowCenteredVerticallyInContainer:!a,arrow:i(rm,{}),hasIndicatorDots:!0,dotSpacing:16,dotTheme:"darkGreyMedium"})]})}))},ru={banner:"EQOCI w",bannerHeader:"FXuqC Wh w B0 _S",expanded:"ZlCaz",bannerHeaderLeftContainer:"NPgVg",toggle:"rRaLT",open:"zPnFJ",mainContent:"RMtbp",list:"enIjV NN",ctaContainer:"lUWZx Q2"},rp=({locationId:e,isTrial:r=!0})=>{var[a,t]=c(!1),{open:l}=eb(e),{open:o}=ev(e),d=I();return n("div",{className:h(ru.banner),children:[n("button",{className:h(ru.bannerHeader,{[ru.expanded]:a}),onClick:()=>{var r=!a;d({type:"click",name:"hrm_tbb_collapsible_banner_toggle",locationId:e,attributes:{isOpen:r}}),t(r)},children:[n("div",{className:ru.bannerHeaderLeftContainer,children:[i(u,{variant:"title-03",marginBottom:"spacing-02",children:i(v,{id:"hrm_owner_response_upsell_title"})}),!a&&i(u,{variant:"body-01",children:i(v,{id:"hrm_owner_response_upsell_description_snippet"})})]}),i("div",{className:h(ru.toggle,{[ru.open]:a}),children:i(b,{size:20})})]}),a&&n("div",{className:ru.mainContent,children:[r&&i(u,{variant:"body-01",marginBottom:"spacing-02",children:i(v,{id:"hrm_try_before_buy_upsell_description",args:{duration:30}})}),i(u,{variant:"body-01",marginBottom:"spacing-03",children:n("ul",{className:ru.list,children:[i("li",{children:i(v,{id:"hrm_reputation_pro_feature_1"})}),i("li",{children:i(v,{id:"hrm_reputation_pro_feature_2"})}),i("li",{children:i(v,{id:"hrm_reputation_pro_feature_3"})}),i("li",{children:i(v,{id:"hrm_reputation_pro_feature_4"})}),i("li",{children:i(v,{id:"hrm_reputation_pro_feature_5"})})]})}),n("div",{className:ru.ctaContainer,children:[i(p,{size:"small",variant:"secondary",onClick:()=>{o(),d({type:"click",name:"rm_tbb_collapsible_banner_learn_more_click",locationId:e})},children:i(v,{id:"hrm_learn_more"})}),r&&i(p,{size:"small",variant:"secondary-commerce",onClick:()=>{l()},children:i(v,{id:"hrm_lander_start_free_trial"})}),!r&&i(p,{variant:"secondary-commerce",size:"small",href:`/HotelsProductCart?uppc=rmb&detail=${e}`,onClick:()=>{d({name:"rm_upsell_banner_click",type:"click"})},children:i(v,{id:"hrm_try_before_buy_upgrade_cta"})})]}),r&&i(u,{variant:"supporting-03",marginTop:"spacing-02",children:i(v,{id:"hrm_try_before_buy_no_cc"})})]})]})},rg=({locationId:e,mobileContainerStyle:r,title:a,footer:t,children:l})=>{var{open:o}=eb(e),d=I();return n("div",{className:h("yMNqD z w Pk PY Px PK",{Ra:"rounded"===r}),children:[i(u,{variant:"title-02",marginBottom:"spacing-02",children:a}),i(u,{variant:"body-01",marginBottom:"spacing-02",children:l}),n("div",{className:"mJqbT f Q2",children:[i(p,{size:"small",variant:"secondary",onClick:()=>{d({type:"click",name:"rm_tbb_banner_start_trial_click"}),o()},children:i(v,{id:"hrm_lander_start_free_trial"})}),i(u,{variant:"body-01",children:i(v,{id:"hrm_try_before_buy_no_cc"})})]}),t&&i(u,{variant:"supporting-03",marginTop:"spacing-02",children:t})]})},rb=(e,r)=>{var{localize:a}=f(),t=I();switch(r){case"ReviewInsights":return{header:a.string("hrm_review_insights_upsell_title"),body:a.string("hrm_review_insights_upsell_description")};case"Notifications":return{header:a.string("hrm_review_notifications_upsell_title"),body:a.string("hrm_owner_notifications_body"),footer:n(u,{variant:"body-01",children:[i(v,{id:"hrm_owner_notifications_banner_body_secondary"})," ",i(k,{theme:"inline",href:"Settings-cs",onClick:()=>{t({type:"click",name:"manage_basic_notifications",locationId:e,page:"hrm_review_alerts"})},children:i(v,{id:"hrm_owner_notifications_secondary_cta_v3"})})]})};case"ReviewCollection":return{header:a.string("hrm_review_collection_upsell_title"),body:a.string("hrm_review_collection_upsell_description"),footer:a.string("hrm_review_collection_upsell_disclaimer")};default:return r}},rv=({locationId:e,page:r,mobileContainerStyle:n="sharp"})=>{var a=rb(e,r);return i(eC,{locationId:e,mobileContainerStyle:n,title:a.header,footer:a.footer,children:i(u,{variant:"body-01",children:a.body})})},rf={skeletonBanner:"MoGlf f j u w Ra"},rC=({fetching:e,children:r})=>e?i("div",{className:rf.skeletonBanner,children:i(B,{variant:"large"})}):r,ry={__key:0xc1ac0fb4696e,id:"c1ac0fb4696ea4d5",loc:{},definitions:[]},rI=e=>e?new Date(e):new Date,rT=e=>{var[{data:r,fetching:i,error:n}]=S({query:ry,variables:{locationId:e}},{HRM_updateTrialSubscription:()=>"invalidateAndRefetch"}),a=r?.HRM_getLocationsReputationManagementSubscriptionInfo?.[0]?.trialInfo;return{data:{locationId:a?.locationId||0,status:a?.status||"TERMINATED_ACKNOWLEDGED",startDate:rI(a?.startDate),expiryDate:rI(a?.expiryDate),endDate:a?.expiryDate?new Date(a.expiryDate):null},fetching:i,error:n}},rE=({locationId:e})=>{var r=C(),t=I(),l="MOBILE"===L(),{data:o,fetching:d}=eT(e),c=(o.expiryDate.getTime()-new Date().getTime())/864e5,s=Math.max((new Date().getTime()-o.startDate.getTime())/864e5,1);return n("div",{className:"z Pk PY Px PK B1 Z BB Ra Gi",children:[i("div",{className:"uMXsO f u",children:i(P,{variant:"primary",children:i(v,{id:"hrm_product_name_trial"})})}),n("div",{className:"LGzrK f",children:[n("div",{className:"fYvue f",children:[i(u,{variant:"supporting-01",marginY:"spacing-02",children:i(v,{id:"hrm_active_trial_upsell_prompt_2"})}),l&&i(D,{numSteps:s,currentStep:30,variant:"dark-green"}),i("div",{className:"tNzNd f u Mk",children:i(p,{variant:"commerce",size:"medium",href:`/HotelsProductCart?uppc=rmb&detail=${e}`,onClick:()=>{t({type:"click",name:"rm_tbb_tracker_card_upgrade_click"})},children:i(v,{id:"hrm_try_before_buy_upgrade_cta"})})})]}),!l&&i(Y,{variant:"green",value:d?0:s,maxValue:30,size:120,children:d?n(a,{children:[i("div",{className:V({marginBottom:"spacing-01"}),children:i(M,{width:50,height:16})}),i(M,{width:34,height:34})]}):n(a,{children:[i(u,{variant:"supporting-03",children:i(v,{id:"hrm_reputation_pro_trial_days_left"})}),i(u,{variant:"title-02",children:r.getFormattedNumber("formatNumberInteger",c)})]})})]})]})},rw=e=>{var{data:r}=$(e),{status:i,fetching:n,error:a}=et(e),{data:t}=j(e),{isSubscriber:l}=K(e);return{isEligibleForTrial:!l&&"ACCOMMODATION"===t&&null==i&&!1,fetching:n,error:a}},rN=e=>{window.open(e,"_blank")?.focus()},rS=({locationId:e,children:r,onGiveFeedbackButtonClick:a,onSubscribeClick:t})=>{var{localize:l}=f(),[o,d]=c(!1),[s,_]=c(!1),m=l.string("rm_end_of_trial_give_us_feedback");return i(E,{hideCloseButton:!0,children:n("div",{className:"XaBvw",children:[i(u,{variant:"title-02",marginBottom:"spacing-03",children:i(v,{id:"rm_end_of_trial_expired_headline"})}),o&&i(Z,{variant:"danger",label:i(v,{id:"common_Error"}),children:i(u,{variant:"body-01",children:i(v,{id:"coso_ssp_rs_ufc_repman_cancel_screen3_error_body"})})}),i(u,{variant:"body-01",marginTop:"spacing-03",marginBottom:"spacing-03",children:r}),n("div",{className:"f j Q2 K",children:[i(p,{variant:"secondary",loading:s,disabled:s||o,"aria-label":m,onClick:()=>{d(!1),_(!0),a().then(()=>{rN(`https://tripadvisor.co1.qualtrics.com/jfe/form/SV_3mJqLmCbE4UipbE?locid=${e}`)}).catch(()=>d(!0)).finally(()=>_(!1))},children:m}),i(p,{variant:"primary",href:`/HotelsProductCart?uppc=rmb&detail=${e}`,onClick:t,children:i(v,{id:"rm_end_of_trial_subscribe_now"})})]})]})})},rR=e=>{var[r,i]=c(!1),n=T(e,{onOpen:()=>i(!0)});return{...n,open:r?()=>void 0:n.open}},rk=e=>{var{status:r}=et(e),[,n]=e1({throwOnFailure:!0}),a=I(),l=eS(({close:r})=>i(eN,{locationId:e,onGiveFeedbackButtonClick:()=>(a({type:"click",name:"rm_expired_trial_modal_feedback_cta_click"}),n({locationId:e,status:"EXPIRED_ACKNOWLEDGED"}).then(r)),onSubscribeClick:()=>{a({type:"click",name:"rm_expired_trial_modal_subscribe_cta_click"})},children:i(v,{id:"rm_end_of_trial_expired_description_2"})}));t(()=>{"EXPIRED"===r&&l.open()})},rO=e=>{var{status:r}=et(e),[,n]=e1({throwOnFailure:!0}),a=I(),l=eS(({close:r})=>i(eN,{locationId:e,onGiveFeedbackButtonClick:()=>(a({type:"click",name:"rm_tbb_terminated_trial_modal_feedback_cta_click"}),n({locationId:e,status:"TERMINATED_ACKNOWLEDGED"}).then(r)),onSubscribeClick:()=>{a({type:"click",name:"rm_tbb_terminated_trial_modal_subscribe_cta_click"})},children:i(v,{id:"rm_end_of_trial_terminated_description"})}));t(()=>{"TERMINATED"===r&&l.open()})};return[()=>{ee=new Date(0).toISOString(),er=new Date(3e3,0,1).toISOString(),ei=eK,en=eY,ea=eZ,et=eJ,el=o(function({screenIndex:e=0,activeScreenIndex:r=0,children:n},a){return r===e?i("span",{ref:a,children:n}):null}),e6.WalkthroughModalScreen=el,eo=e6,ed=e8,ec=e7,es=e9,e_=re,em=rr,eh=ri,eu=rn,ep=ra,eg=rd,eb=rc,ev=rh,ef=rp,eC=rg,ey=rv,eI=rC,eT=rT,eE=rE,ew=rw,eN=rS,eS=rR,e({ActiveTrialCard:eE,CollapsibleBanner:ef,LocationOnboardingCard:ea,LocationPrimaryOnboardingModal:ei,OnboardingTooltip:eg,SkeletonBanner:eI,TrialOnboarding:e2,TryBeforeBuyBanner:ey,WelcomeTrialModal:eR,useExpiredEndOfTrialModal:rk,useFreeTrialEligibilityCheck:ew,useLocationTrialSubscriptionStatus:et,useSubscriptionConfirmationModal:eb,useTerminatedEndOfTrialModal:rO})},[e=>(i=e.jsx,n=e.jsxs,a=e.Fragment),e=>(t=e.useEffect,l=e.useRef,o=e.forwardRef,d=e.Children,c=e.useState,s=e.cloneElement,_=e.isValidElement,m=e.useMemo),e=>h=e.default,e=>u=e.default,e=>(p=e.default,g=e.CircularButton),e=>b=e.default,e=>(v=e.default,f=e.useLocalize,C=e.useIntlFormatter,y=e.UnsafeLocalize),e=>I=e.useRMInteraction,e=>T=e.useVDOMPortal,e=>(E=e.ModalContainer,w=e.Modal),e=>N=e.useMutation,e=>S=e.useInvalidatableQuery,e=>R=e.useRoute,e=>k=e.default,e=>O=e.default,e=>A=e.default,e=>P=e.default,e=>(D=e.default,M=e.Skeleton,B=e.Spinner),e=>(F=e.default,x=e.flex,V=e.margin),e=>G=e.default,e=>(H=e.CdnImage,z=e.useCdnPrefix),e=>L=e.useViewportCategory,e=>q=e.default,e=>U=e.default,e=>W=e.default,e=>($=e.useRMSubscriptionInfo,j=e.useLocationPlaceType,K=e.useAsyncHrmSubscriberCheck),e=>Y=e.CircularProgressIndicator,e=>Z=e.InlineAlert,e=>Q=e.default,e=>J=e.default,e=>X=e.default]]},["21h32l","o4yt4q","fkji80","essqvy","jppfwt","i0z8n1","7thqz4","n4erwz","4euaes","i3sz5h","mqwhqn","fbuhsy","fgwvq1","lr6tb6","6qmqhw","kq4q2w","oz3g7e","qndsds","gw8uw6","odtty9","s6q22n","ys6v1o","7a7jm3","7nq86i","811ll5","qrggyp","3ksc0j","lt9m20","a6i9w3","qkjm8h","d0lmv3"]]);
