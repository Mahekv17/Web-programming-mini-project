(this.$WP=this.$WP||[]).push(["5uaqbj",(e,a)=>{var i,l,n,t,o,s,r,c,u,d,p,g,m,h,v,y,_,f,w,k,b,C,P,T,I,D,N,S,$,L,O,x,R,M,E,H,j,q,U=({funnelKey:e,onLoginSuccess:a,navigation:l})=>({content:i(P,{funnelKey:e,pid:40794,onLoginSuccess:a,navigation:l}),accent:void 0,backgroundColor:"overlay"}),z={container:"HlTxt",logo:"_Q Pl PL Z1",loading:"fJOwE"},B=({photoId:e,alt:a,width:n=330})=>{var t=I(e);return l("div",{className:z.container,children:[i("div",{className:z.logo,children:i(D,{variant:"plus-logo-short-white",height:44})}),t?i(T,{width:n,source:t,alt:a}):i("div",{className:z.loading,style:{width:n}})]})},K=()=>i(E,{photoId:485591592,alt:"Luxury hotel room in desert"}),W=({hotelId:e,hotelName:a,savingsDisplayValue:t,savingsDisplayType:o,funnelKey:s,onLoginClick:r})=>{var c=k(),{localize:u}=x(),d=L(a,o,t);return t||(d=u.string("plus_paywall_header_perk_v2",{hotelName:a})),l(n,{children:[i("div",{className:"vZTeT",children:i(D,{variant:"plus-logo-short",height:44})}),i($,{variant:"expressive-display-03",color:"accentPurpleText",children:i(O,{id:"plus_paywall_header_v2"})}),i($,{variant:"expressive-display-03",children:d}),i($,{variant:"body-01",marginTop:"spacing-03",marginBottom:"spacing-03",children:i(O,{id:"plus_paywall_subheader_v2"})}),i("div",{className:"HrQiQ",children:i(N,{variant:"primary",fullWidth:!0,onClick:()=>{c({OptimusPaywallClick:{optimusPaywallCta:{ctaType:"SIGN_UP",funnelKey:s}}}),r()},children:i(O,{id:"plus_paywall_join_now"})})}),i("div",{className:"pseku"}),i($,{variant:"title-05",color:"accentPurpleText",children:i(O,{id:"plus_paywall_benefits_header_v2",args:{subPrice:"$99"}})}),i($,{variant:"body-01",marginTop:"spacing-01",children:i(O,{id:"plus_paywall_benefits_1",args:{numHotels:"100,000"}})}),i($,{variant:"body-01",marginTop:"spacing-01",children:i(O,{id:"plus_paywall_benefits_2"})}),i($,{variant:"body-01",marginTop:"spacing-01",children:i(O,{id:"plus_paywall_benefits_cancellation_3_v2",args:{numDays:"90"}})}),i(S,{marginTop:"spacing-04",marginBottom:"spacing-05",href:`/Plus?detailId=${e}&ik=${s}`,target:"_blank",onClick:()=>{c({OptimusPaywallClick:{optimusPaywallCta:{ctaType:"LEARN_MORE",funnelKey:s}}})},children:i(O,{id:"plus_paywall_learn_more"})})]})},F=({hotelId:e,hotelName:a,savingsDisplayType:l,savingsDisplayValue:n,funnelKey:t,onLoginClick:o})=>({content:i(j,{hotelId:e,hotelName:a,savingsDisplayType:l,savingsDisplayValue:n,funnelKey:t,onLoginClick:o}),accent:i(H,{}),backgroundColor:"beige"}),Q=({geoId:e,hotelId:a,hotelName:l,savingsDisplayType:n,savingsDisplayValue:P,funnelKey:T,onClose:I,onOpen:D})=>{var N=t(()=>T||d(),[T]),S=p(),$=b(),L=C(),{path:O}=g(),x=R(),E=!!L,[H,j]=o("paywall"),{hotels:U}=m(),{isModalCheckout:z}=s(h),B=w(),K=k(),W=r(()=>{D&&D(),B({optimusPaywall:{funnelKey:N,name:"",pageviewUid:S,userId:L}})},[N,B,D,S,L]),F=r(()=>{"confirmation"===H?(K({OptimusConfirmationModalInteraction:{optimusConfirmationModalClick:{ctaType:"Dismiss",locationId:a,isMemberSignedIn:E,servletName:"Hotel_Review",funnelKey:N}}}),$(f(`/Hotel_Review-d${a}?newPlusSubscriber=true&referringFunnelKey=${N}`))):K({OptimusPaywallClick:{optimusPaywallClose:{funnelKey:N}}}),I()},[N,a,K,E,$,I,H]),Q=z?void 0:{subscriberUrl:`/HotelReview-g${e}-d${a}`,nonSubscriberUrl:`/OptimusSubscriptionCheckout?detailId=${a}&oik=${N}`},A={paywall:q({hotelId:a,hotelName:l,savingsDisplayType:n,savingsDisplayValue:P,funnelKey:N,onLoginClick:()=>{if(z&&E){j("checkout");return}j("login"),l&&U?.checkInDate&&U?.checkOutDate&&u.set("TIERED_PROVIDERS_CHAT_CONTEXT",{locationId:e,url:`${x}${O}`,name:l,startDate:U.checkInDate,endDate:U.checkOutDate})}}),login:M({funnelKey:N,onLoginSuccess:()=>{z&&j("checkout")},navigation:Q}),checkout:v({hotelId:a,funnelKey:N,onPurchaseSuccess:()=>{j("confirmation")},backgroundColor:"beige",variant:"paywall"}),confirmation:y({hotelId:a,funnelKey:N,onClose:F,backgroundColor:"beige"})};return i(_,{currentStep:H,stepConfigMap:A,onOpen:W,onClose:F,children:(e,a)=>i("div",{className:c({"spEUw _a":!!a,LrzbL:"checkout"===H}),children:e})})};return[()=>{M=U,E=B,H=K,j=W,q=F,e("default",Q)},[e=>(i=e.jsx,l=e.jsxs,n=e.Fragment),e=>(t=e.useMemo,o=e.useState,s=e.useContext,r=e.useCallback),e=>c=e.default,e=>u=e.default,e=>d=e.uuid,e=>(p=e.usePageviewUid,g=e.useRoute),e=>m=e.useTravelInfo,e=>(h=e.ModalCheckoutContext,v=e.useCheckoutStepConfig,y=e.useConfirmationStepConfig),e=>_=e.ModalFlowWrapper,e=>f=e.needsRouting,e=>w=e.useImpressionLogger,e=>k=e.useInteractionLogger,e=>b=e.useNavigate,e=>C=e.useUserId,e=>P=e.default,e=>T=e.default,e=>I=e.default,e=>D=e.default,e=>(N=e.default,S=e.BorderlessButton),e=>$=e.default,e=>L=e.usePaywallDiscountMessaging,e=>(O=e.default,x=e.useLocalize),e=>R=e.useDomainName]]},["21h32l","o4yt4q","fkji80","tp1g68","eww825","fgwvq1","etaac9","ffcg16","kkdz8s","3e3smt","vumu0s","32pwc7","0ad67e","52far5","l8km37","34bu7w","b08kfg","sw5ax0","jppfwt","essqvy","4vrg0m","7thqz4","qlcuu5"]]);
