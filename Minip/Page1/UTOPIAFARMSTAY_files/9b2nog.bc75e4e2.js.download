(this.$WP=this.$WP||[]).push(["9b2nog",(e,t)=>{var s,i,o,r,n,a,l,_,d,c,p,g,u,m,y,S,k,v,T=()=>window.JS_SECURITY_TOKEN,h=(e,t,s)=>{fetch("/data/1.0/tap/recordEvent",{method:"POST",headers:new Headers({"content-type":"application/json","x-requested-by":T()}),credentials:"same-origin",body:JSON.stringify({eventType:s,requestGuid:e,externalId:t})}).then(e=>(e.ok||console.error(`Did not get an ok. got: ${e.statusText}`),e)).catch(e=>{console.error(`Error sending TripAds click event: ${e.message}`)})},C=(e,t)=>{h(e,t,"CLICKED")},x=(e,t)=>{h(e,t,"IMPRESSED")},I=()=>window.JS_SECURITY_TOKEN,q=(e,t)=>{var s=new Date;s.setTime(s.getTime()+1e4);var i={expires:s};g.set("sponsOppId",t,i),g.set("sponsLineItem",e,i)},b=e=>{fetch("/SponsoredListingCommerce/1.0/click",{method:"POST",headers:new Headers({"content-type":"application/json","x-requested-by":I()}),credentials:"same-origin",body:JSON.stringify(e)}).then(e=>(e.ok||e.statusText,e)).catch(e=>{console.error(`Error sending commerce click: ${e.message}`)})},E=e=>{y("action","paid_backup_sponsored_listing_click",e)},K=(e,{locationId:t,impressionKey:s,indexInList:i,listingKey:o})=>{var r=p().getState();return{area:e.placement_slot_name,click_type:"HR",dest:"Hotel_Review",from:r.route.page,listing_key:o,impression_key:s,sl_line_item_id:e.sl_line_item_id,trip_ads_id:e.trip_ads_id,location_id:t,slot:i,tt_placement:e.tt_placement,gosox:e.gosox}},L=()=>{var{page:e,tracking:t}=p().getState();return{page_geo_id:e.geoId,request_num:e.crossSells?e.crossSells.requestNumber:0,request_uid:t.uid?t.uid:void 0}},H=(e,t)=>{var s=L(),{locationId:i,listingKey:o,impressionKey:r,indexInList:n}=t;return{...s,placement_slot_name:e.placement_slot_name,slot_index:n,location_id:i,sponsored_type:e.sponsored_type,chosen_location_id:i,opportunity_uid:e.opportunity_uid,sl_line_item_id:e.sl_line_item_id,trip_ads_id:e.trip_ads_id,ik:r,tt_placement:e.tt_placement,trip_ads_select_guid:e.trip_ads_select_request_guid,listing_key:o}},w=(e,{locationId:t,listingKey:s})=>{var i=p().getState();return{is_member:i.auth.isMember,device_type:i.meta.device.userAgentCategory?i.meta.device.userAgentCategory.toLowerCase():"",locationId:t,slot:e.placement_slot_name,trip_ads_select_guid:e.trip_ads_select_request_guid,listing_key:s}},N=(e,t)=>{E(H(e,t)),u(m.HOTELS_SP_CLICK,w(e,t)),q(e.sl_line_item_id,e.opportunity_uid),b(K(e,t)),e.trip_ads_select_request_guid&&C(e.trip_ads_select_request_guid,e.opportunity_uid)},P=(e,t,s)=>{var i=p().getState();return{is_member:i.auth.isMember,device_type:i.meta.device.userAgentCategory?i.meta.device.userAgentCategory.toLowerCase():"",locationId:t,slot:e.placement_slot_name,trip_ads_select_guid:e.trip_ads_select_request_guid,listing_key:s}},O=(e,t)=>{y("impression","paid_backup_sponsored_listing_displayed",{...L(),placement_slot_name:e.placement_slot_name,slot_index:t.indexInList,location_id:t.locationId,sponsored_type:e.sponsored_type,chosen_location_id:t.locationId,opportunity_uid:e.opportunity_uid,sl_line_item_id:e.sl_line_item_id,trip_ads_id:e.trip_ads_id,trip_ads_select_guid:e.trip_ads_select_request_guid,listing_key:t.listingKey}),u(m.HOTELS_SP_IMPRESSION,P(e,t.locationId,t.listingKey)),e.trip_ads_select_request_guid&&x(e.trip_ads_select_request_guid,e.opportunity_uid)},A=(e,t,s)=>{t?.tracking_guid&&e({trackingKey:t.tracking_guid,legacyHotelTrackingFields:{bookingFlowKey:s.impressionKey,listingKey:s.listingKey||"",placement:s.placementName}})},R=(e,t,s)=>{t?.tracking_guid&&e({trackingKey:t.tracking_guid,legacyHotelTrackingFields:{bookingFlowKey:s.impressionKey,listingKey:s.listingKey||"",placement:s.placementName}})},f=()=>{var e=parseInt(p().getState().tracking.mcid||"0",10),t=d(),s=c({marketingCampaignId:e});return{sponsoredListingClickHandler:(e,t,i)=>{e?k(e,i):t&&A(s,t,i)},sponsoredListingImpressionHandler:(e,s,i)=>{e?v(e,i):s&&R(t,s,i)}}},F=({locationName:e,xsellConfig:t,position:i,useHpsData:r})=>s(o.Provider,{value:f(),children:s(S,{locationName:e,xsellConfig:t,position:i,useHpsData:r})});return[()=>{S=r((e,t)=>{var s=e?.page?.crossSells?.endpointResults?.locationMap?.[t.locationName],i=e?.page?.crossSells?.endpointResults?.isSearchComplete,o=s?.crossSells;return o&&(s.crossSells=o.map(e=>{var s,i,o;return t.useHpsData?(i=4,s=e.tagTranslations):({maxAccommodations:o,tagTranslations:s={}}=n(),i=o&&o[e.crossSellType]?o[e.crossSellType]:4),{...e,seeAllUrl:a(e.crossSellType),title:l(e.crossSellType),tooltip:_(e.crossSellType),maxAccommodations:i,tagTranslations:s}})),{...t,locationData:s,requestNumber:e.page?.crossSells?.requestNumber||0,isSearchComplete:i}})(i),k=N,v=O,e("ConnectedPageLocationWithContext",F)},[e=>s=e.jsx,e=>(i=e.PageLocation,o=e.CrossSellContext),e=>r=e.connect,e=>(n=e.getUIAssets,a=e.getSeeAllUrlForCrossSellType,l=e.getTitleForCrossSellType,_=e.getTooltipForCrossSellType),e=>(d=e.useSpImpressionLogger,c=e.useSpInteractionLogger),e=>p=e.getStore,e=>g=e.default,e=>(u=e.trackHolisticEvent,m=e.holisticEvents,y=e.trackEventWithContext)]]},["21h32l","st7iu5","2mj4nv","avx3a3","ky3i2c","45ddp0","5gpqhx","4axon3"]]);
