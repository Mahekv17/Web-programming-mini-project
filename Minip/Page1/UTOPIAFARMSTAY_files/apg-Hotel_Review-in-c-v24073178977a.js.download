var ta="undefined"!=typeof window&&window.ta||{},define,require;ta.rollupAmdShim=ta.rollupAmdShim||function(){function e(e,i){var t,o,d,f;if(!window.overrideRequire){for(t=0;e&&e.length&&t<e.length;++t)w[e[t]]=!0;for(t=0;i&&i.length&&t<i.length;++t)m[i[t]]=!0;var l,u;if(y&&window._dummyDefine&&window._dummyDefine.isDummyDefine&&(l=window._dummyDefine.pendingDefinitions,window._dummyDefine=null,define=null),"undefined"!=typeof require&&require.isDummyRequire){u=require.pendingRequirements;var a=require.pendingConfigs;if(a&&a.length)for(t=0;t<a.length;t++)f=a[t],r.config.apply(null,f);require=null}if("function"==typeof define&&define.isTaRollupShim||(E="function"==typeof define?define:null,define=n),"function"==typeof require&&require.isTaRollupShim||(O="function"==typeof require?require:null,require=r),l&&l.length)for(t=0;t<l.length;t++)o=l[t],n.apply(null,o);if(u&&u.length)for(t=0;t<u.length;t++)d=u[t],r.apply(null,d)}}function n(e,r,t,d){var f,l,a=[];if("function"==typeof r&&void 0===t&&void 0===d&&(t=r,r=[]),"string"==typeof e&&"object"==typeof r&&"function"==typeof t){if(D.hasOwnProperty(e)||v[e]&&v[e].deps)return;if(l=i(r,a))try{f=t.apply(null,l),u(e,f)}catch(e){P("Error in require callback: ",e)}else o(a,{deps:r,cb:t,defname:e},n.depLoader)}else{if(E)return E(e,r,t,d);P("invalid args for AMD define: "+typeof e+", "+typeof r+", "+typeof t)}}function r(e,r,d,f){var l=null;if("string"==typeof e&&"function"!=typeof r){try{l=i([e]),!l&&O&&(l=[O(e,r,d,f)])}catch(e){}if(!l)throw t(e);return l[0]}if("object"==typeof e&&"function"==typeof r){var u=[];if(l=i(e,u))try{r.apply(null,l)}catch(e){P("Error in require callback: ",e)}else o(u,{deps:e,cb:r,eb:"function"==typeof d&&d},n.depLoader)}else{if(O)return O(e,r,d,f);P("invalid args for AMD require: "+typeof e+", "+typeof r+". Expected either a string-literal singular dependency (i.e. synchronous) or an array of dependencies with a callback function (i.e. async).")}}function i(e,n){var r,i,t,o,d=[];for(r=0;r<e.length;++r)if(i=e[r],o=null,i)if(D.hasOwnProperty(i))o=D[i],d.push(o);else if(m[i]){for(t=i.split("/"),"underscore"===t[0]&&(t[0]="_"),o="undefined"!=typeof window&&window;t.length>1&&o;o=o[t.shift()]);t.length>0&&o&&(o=o[t[0]]||o[t[0].toLowerCase()]),o?(D[i]=o,d.push(o)):n.push(i)}else n&&n.push(i);else d.push(null);if(d.length===e.length)return d}function t(e){var n,r,i,t,o="Missing immediately required dependency: "+e;for(n=0;n<10;n++){var d=v[e];if(!d){o+=" (not specified)";break}if(d.error){o+=" ("+d.error+")";break}if(e=null,t=d.deps)for(r=0;r<t.length;r++)if(i=t[r],!D.hasOwnProperty(i)){e=i;break}if(!e)break;o+=" -> "+e}var f=new Error(o);return y&&!window.IS_DEBUG||!g||y&&null===window.require.caller&&/^R|react$/.test(e)||g.error(f),f}function o(e,n,t){var u,a,s,p,c,h,y,g=[],w=[],m=[];n.deps=n.deps||[],n.defname&&(p=v[n.defname],v[n.defname]=n,p&&p!==n&&p.needers&&p.needers.length&&(n.needers=(p.needers||[]).concat(n.needers||[])));for(var c=0;c<e.length;c++)u=e[c],h=u.lastIndexOf("!"),h>=0?(g.push(u.substring(0,h)),w.push(u.substring(h+1))):(g.push(null),w.push(u));if(g=i(g,m),!g)return o(m,n);for(var c=0;c<e.length;c++)if(a=g[c],s=v[e[c]],!s&&!D.hasOwnProperty(e[c])){s={defname:e[c]},v[e[c]]=s;var E=f(s),M=l(s);E.error=M;try{if(a)a.load(w[c],r,E,{});else if(t)t(w[c],r,E,{});else{if(!O||O.taVer)throw new Error("no loader for AMD module '"+s.defname+"'");O([s.defname],E,M)}y=!0}catch(e){n.error=e,M(e)}}n.need=0;for(var c=0;c<e.length;c++)u=e[c],s=v[u],!s||D.hasOwnProperty(u)||s.error||(s.needers=s.needers||[],s.needers.push(n),n.need+=1);!n.need&&y&&(b.push(n),q||(q=setTimeout(d,0)))}function d(){var e,n,r,t;for(q=-1;b.length>0;){var d=b.shift();if(d)try{if(d.error){d.defname&&a(d.defname);continue}if(n=[],t="string"==typeof d.deps?[d.deps]:d.deps,e=i(t||[],n),n.length>0){o(n,d);continue}r=null,d.cb&&(r=d.cb.apply(null,e)),d.deps=[],d.cb=null,d.defname&&u(d.defname,r)}catch(e){P("Error propagating dependency resolutions: ",e)}}q=null}function f(e){return function(n){e.defname&&u(e.defname,n)}}function l(e){return function(n){e.defname&&(e.error="Error loading '"+e.defname+"': "+n,P(e.error),e.need=0,e.deps=[],a(e.defname))}}function u(e,n){if(!D[e]){var r=v[e];if(D[e]=n,delete v[e],w[e]){var i,t=e.split("/"),o=ta;for("ta"===t[0]&&t.shift();t.length>1;)i=t.shift(),o[i]||(o[i]={}),o=o[i];t.length>0&&(i=t.shift(),i in o||i.toLowerCase()in o||(o[i]=n,o[i.toLowerCase()]=n))}if(E&&E(e,[],s(n)),r)for(;r.needers&&r.needers.length>0;){var f=r.needers.shift();f.need-=1,f.need||b.push(f)}b.length&&!q&&(q=setTimeout(d,0))}}function a(e){var n=v[e];if(n){var r=n.eb;for(n.deps=null,n.cb=null,n.eb=null,n.error||(n.error="Error loading '"+n.defname+"'");n.needers&&n.needers.length>0;){var i=n.needers.shift();i.error="Failed to load AMD module '"+e+"' which is depended upon by '"+i.defname+"'",i.need>0&&(i.need=0,b.push(i)),y&&!window.IS_DEBUG||!g||g.error(i.error)}if(null!=r)try{r(n.error)}catch(e){}}b.length&&!q&&(q=setTimeout(d,0))}function s(e){return function(){return e}}function p(e){return e&&(e.indexOf("trjs!")!==-1||e.indexOf("trcss!")!==-1||e.indexOf("trhtml!")!==-1||e.indexOf("trdust!")!==-1)}function c(){return!("undefined"!=typeof ta&&ta.page&&ta.page.loadDeferred)}function h(){var e,n,r,t,o;if(q)return void setTimeout(h,0);if(M=!0,v&&c())for(e in v)if(v.hasOwnProperty(e)){if(n=v[e],t=[],o=[],p(n.defname))continue;if(v.hasOwnProperty("trjs!"+n.defname))continue;if(n.deps&&n.deps.length){for(r=0;r<n.deps.length;r++)p(n.deps[r])||t.push(n.deps[r]);if(i(t,o),0===o.length)continue}P("Page 'load' event fired but we have not resolved the '"+n.defname+"' AMD module"+(n.deps&&n.deps.length?" due to missing dependencies: "+o:""))}}var y="undefined"!=typeof window,g=y&&window.console||"undefined"!=typeof console&&console||void 0,w={},m={},v={},b=[],q=null,D={ta:ta},E=null,O=null,M=!1,P=function(e,n){if("undefined"!=typeof __SERVER__)throw n;g&&g.error.apply&&g.error.apply(g,arguments),g&&!g.error.apply&&g.error&&g.error([].slice.apply(arguments))};n.amd=!0,n.isTaRollupShim=!0,n.depLoader=function(){},n.depLoader.isDefault=!0,r.isTaRollupShim=!0,r.undef=function(e){delete D[e];var n=v[e];n&&n.deps&&(n.deps=[],n.cb=null,n.defname=null,delete v[e])},r.config=function(){O&&O.config&&O.config.apply(O,arguments)},r.defined=function(e){return!!D.hasOwnProperty(e)||!v.hasOwnProperty(e)&&(O&&O.defined&&O.defined(e))},r.parsed=function(e){return!!D.hasOwnProperty(e)||v[e]&&v[e].deps},r.specified=function(e){return!(!D.hasOwnProperty(e)&&!v[e])||O&&O.specified&&O.specified(e)},y&&window.IS_DEBUG&&(window.addEventListener?window.addEventListener("load",h,!1):window.attachEvent&&window.attachEvent("onload",h));var _={install:e,reportMissing:h,define:n,require:r,initializedModules:D,debug:function(){return{globalModuleFlags:w,shimModuleFlags:m,initializedModules:D,pendingModules:v,outer:{require:O,define:E},depLoader:n.depLoader}}};return _.install(),u("ta/rollupAmdShim",_),_}();
require(['ta/rollupAmdShim'], function(rollupAmdShim) {rollupAmdShim.install(["servlets/standardTemplateSupport","ta/p13n/placements","servlets/reacthotelreview","ta/Core/TA.FireEvent"],["page-model","page-model","ta/rollupAmdShim","redux-init","ta"]);});
if(window.requirejs && requirejs.taConfig)requirejs.taConfig({"deferred":{},"name":"build/concat/apg-Hotel_Review-in","files":{"js-amd":{"src":{"servlets":{"standardTemplateSupport":1}}},"js3":{"build":{"es6":{"src":{"servlets":{"reacthotelreview":1}}}},"src":{"ta":{"Core":{"TA.FireEvent":1},"p13n":{"placements":1}}}}},"_":{"baseUrl":"/"}});
;
define("utils/throttle",[],function(){return function(t,n){var e,r;return function(){r&&(clearTimeout(r),r=0);var i=e?n-(Date.now()-e):null;if(null!==i&&i>0)return void(r=setTimeout(t.apply.bind(t,this,arguments),i));var u=t.apply(this,arguments);return e=Date.now(),u}}});
define("vanillajs",[],function(){return{}});
define("mobile/lite/image-loader",["utils/throttle","vanillajs"],function(t){"use strict";function e(e,n){n=n||document,c=e||0;var i=Array.prototype.filter.call(n.querySelectorAll("["+u+"]"),r());if(0!=i.length){var o=t(function(t){i=i.filter(r()),0==i.length&&(window.removeEventListener("scroll",o),window.removeEventListener("resize",o))},200);window.addEventListener("scroll",o),window.addEventListener("resize",o)}}function r(){return function(t){if(!document.body.contains(t))return!1;try{if(!i(t))return!0}catch(t){return!1}var e=t.getAttribute(u);if(e)return"IMG"===t.tagName?t.src=e:t.style.backgroundImage="url("+e+")",t.removeAttribute(u),!1;var r=t.getAttribute(l);return r&&"IMG"===t.tagName&&(t.srcset=r,t.removeAttribute(l)),!0}}function n(t){t=t||document;var e=t.querySelectorAll("["+u+"]");Array.prototype.filter.call(e,r())}function i(t){var e=t.getBoundingClientRect();return e.width>0&&e.height>0&&e.top+c>=0&&e.top-c<=window.innerHeight}function o(){return function(t){var e=t.getAttribute(u);return!e||("IMG"===t.tagName?t.src=e:t.style.backgroundImage="url("+e+")",t.removeAttribute(u),!1)}}function a(t){t=t||document;var e=t.querySelectorAll("["+u+"]");Array.prototype.filter.call(e,o())}var u="data-lazyurl",l="data-lazyset",c=0;return{init:e,demandLoadImages:n,forceLoadImages:a}});
define("utils/to-array",["vanillajs"],function(){return function(n){return"number"!=typeof n.length?[n]:Array.prototype.slice.call(n)}});
define("amdloaders",["utils/to-array"],function(e){var t=[],n=[],r=[],o=[],a=[],d=null,i=null,u={},s={},c={},l={},f=null,p=!1,h=1e4,m=!1,w={},v=function(e,t,r){if("@ta/"!==e.substring(0,4)){if(u[e]){if(s[e]&&/^[-a-z]+\.[-_a-zA-Z0-9]+$/.test(e))return}else u[e]=!0,n.push(e);a.push(function(n){n||!t.parsed||t.parsed(e)||(n=new Error("Dynamic load failed to define module '"+e+"'")),n&&r.error&&r.error(n)}),S()}},g=function(e,t,r){u[e]||(u[e]=!0,s[e]||t.specified(e)||n.push(e)),a.push(function(n){var o=t.parsed(e);n||s[e]||o||(n=new Error("Dynamic load failed to define '"+e+"'")),n?r.error&&r.error(n):o||define(e,[],H(!0))}),t([e],r,r.error),S()},y=function(e,n,r){t.push(e),a.push(function(e){e?r.error&&r.error(e):r(!0)}),S()},C=function(e,t,n){r.push(e),a.push(function(r){r||t.specified("trhtml!"+e)||(r=new Error("Dynamic load failed to define content '"+e+"'")),r&&n.error&&n.error(r)}),S()},L=function(e,t,n){c[e]||(c[e]=!0,l[e]||o.push(e)),a.push(function(e){e?n.error&&n.error(e):n(!0)}),S()},L=function(e,t,n){c[e]||(c[e]=!0,l[e]||o.push(e)),a.push(function(e){e?n.error&&n.error(e):n(!0)}),S()},S=function(){!f&&p&&!m&&(a.length||t.length||n.length||r.length||o.length)&&(f=setTimeout(b,0))},E=function(e,t){var n=e.getAttribute("data-rup");if(n){var r;n=n.split(",");for(var o=0;o<n.length;o++)r=n[o].trim(),r&&t(r)}},R=w.getJSRollupsLoaded=function(){var t=i||e(document.getElementsByTagName("SCRIPT")).reduce(function(e,t){return t.hasAttribute("data-is-dust")||E(t,function(t){e.dedup[t]||(e.rups.push(t),u[t]=s[t]=e.dedup[t]=!0)}),e},{rups:[],dedup:{}}).rups;return!i&&p&&(i=t),t},A=w.getCSSRollupsLoaded=function(){var t=d||(document.head?e(document.head.querySelectorAll("LINK, STYLE")).reduce(function(e,t){return E(t,function(t){e.dedup[t]||(e.rups.push(t),e.dedup[t]=!0)}),e},{rups:[],dedup:{}}).rups:[]);return!d&&p&&(d=t),t},T=w.getLoadedFilesParams=function(){return{haveJses:String(R()),haveCsses:String(A())}},b=function(){if(f=null,p&&!m){var e=t,d=a,i=r,u=o,c=T(),l=n.filter(function(e){return e&&!s[e]&&!require.parsed(e)});if(a=[],t=[],n=[],r=[],o=[],!(l.length||e.length||i.length||u.length))return void I(d);var h="haveJses="+encodeURIComponent(c.haveJses)+"&haveCsses="+encodeURIComponent(c.haveCsses)+"&needJses="+encodeURIComponent(String(l||""))+"&needCsses="+encodeURIComponent(String(e||""))+"&needDusts="+encodeURIComponent(String(u||""));i.length>0&&(h+="&needContent="+encodeURIComponent(String(i))),window.pageServlet&&(h+="&metaReferer="+encodeURIComponent(window.pageServlet));var w=null;try{w=new XMLHttpRequest}catch(e){try{w=new ActiveXObject("MSXML2.XMLHTTP")}catch(e){try{w=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){throw new Error("Can't create XMLHttpRequest or similar")}}}var v=!1;w.onreadystatechange=function(){v||4!==w.readyState||(v=!0,w.status>=200&&w.status<=299?x(d,w.responseText):I(d,new Error("XHR returned "+w.status)))},w.open("POST","/DemandLoadAjax",!0);try{w.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8")}catch(e){}try{w.setRequestHeader("X-Requested-With","XMLHttpRequest")}catch(e){}try{w.setRequestHeader("Accept","text/html, */*")}catch(e){}m=!0,w.send(h)}},I=function(e,t){if(m=!1,S(),e.length)for(var n=0;n<e.length;++n)try{e[n](t)}catch(e){window.IS_DEBUG&&console.error&&console.error("Error in async callback: ",e)}},D=w.installStyles=function(e){document.head.appendChild(e.reduce(function(e,t){return E(t,function(e){d.push(e),define("trcss!"+e,[],H(void 0))}),e.appendChild(t),e},document.createDocumentFragment()))},q=w.installScripts=function(e){return Promise.all(e.map(function(e){return E(e,function(t){e.hasAttribute("data-is-dust")?l[t]=!0:(i&&i.push(t),s[t]=!0)}),new Promise(function(t){var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("data-rup",e.getAttribute("data-rup")),e.src?(n.src=e.src,n.async=!0,n.onload=n.onerror=t,document.head.appendChild(n)):e.text&&(n.text=e.text,document.head.appendChild(n),document.head.removeChild(n),t())})}))},x=function(t,n){if(!n||!n.substr)return void I(t,new Error("no data returned from /DemandLoadAjax"));var r,o=Promise.resolve();try{var a=document.createElement("DIV");a.innerHTML=n,D(e(a.querySelectorAll("STYLE, LINK"))),o=q(e(a.getElementsByTagName("SCRIPT")));for(var d,i;d=a.firstChild;)a.removeChild(d),1===d.nodeType&&(i=d.getAttribute("data-content"),i&&define("trhtml!"+i,[],H(d)))}catch(e){r=e}o.then(I.bind(null,t,r))},H=function(e){return function(){return e}},M=w.activate=function(){p||(p=!0,define.depLoader&&!define.depLoader.isDefault||(define.depLoader=v),S())},X=function(){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++)if(e[t].hasAttribute("data-loadtrk")&&!e[t].loadtrk)return window.console&&console.warn&&console.warn(e[t].src+" is not loaded yet"),!1;return!0},P=function(){"interactive"===document.readyState&&X()&&(window.console&&console.warn&&console.warn("force activate async loading due to wait timeout"),M())};return define("trjs",[],function(){return{load:g}}),define("trcss",[],function(){return{load:y}}),define("trhtml",[],function(){return{load:C}}),define("trdust",[],function(){return{load:L}}),"undefined"!=typeof window&&(document.addEventListener&&!window.taRollupsAreAsync&&document.addEventListener("DOMContentLoaded",M,!1),window.addEventListener?window.addEventListener("load",M,!1):window.attachEvent&&window.attachEvent("onload",M),window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("Edge")>-1&&setTimeout(P,h)),w});
define("common/trackingStreams",["vanillajs","amdloaders"],function(){function l(l,e,t){if(e=Array.prototype.slice.call(e),l.handler)try{l.handler.apply(null,e),t()}catch(l){}else if(l.list){l.list.length>=l.limit&&(l.list=l.list.slice(0,l.list.length-1),l.callbacks=l.callbacks.slice(0,l.callbacks.length-1)),l.list.unshift(e),l.callbacks.unshift(t);var r=l.handlerModule;r&&l.handlerMethod&&(l.handlerModule=null,require([r+""],function(e){n(l,e[l.handlerMethod],0)}))}}function e(l,e){if(e=Array.prototype.slice.call(e),l.handler)try{l.handler.apply(null,e)}catch(l){}else if(l.list&&l.list.length<l.limit&&(l.list.push(e),l.handlerModule&&l.handlerMethod)){var t=l.handlerModule;l.handlerModule=null,require([t+""],function(e){n(l,e[l.handlerMethod],0)})}}function n(l,n,t){if(t=t||0,l.handler&&l.priority>=t)return!1;l.handler=n,l.priority=t;var a=l.list;l.list=null;for(var i=0;i<a.length;++i)try{n.apply(null,a[i]),l.callbacks&&l.callbacks[i]&&l.callbacks[i]()}catch(n){l!==r&&e(r,[n,l.name+" dispatch error"])}}var t="trjs!ta/Core/TA.Record",r={name:"errorQ",limit:3,handler:null,handlerModule:"trjs!ta/util/Error",handlerMethod:"record",list:[]},a={name:"GARecordQ",limit:100,handler:null,handlerModule:t,handlerMethod:"trackEventOnPage",list:[]},i={name:"GARecordOnPageOnceQ",limit:100,handler:null,handlerModule:t,handlerMethod:"trackEventOnPageOnce",list:[]},d={name:"SetCookieQ",limit:100,handler:null,handlerModule:t,handlerMethod:"setEvtCookie",list:[]},c={name:"UnifiedUserTrackingQ",limit:100,handler:null,handlerModule:t,handlerMethod:"trackUnifiedEvent",list:[]},o={name:"redirectCallback",limit:1,handler:null,handlerModule:t,handlerMethod:"setEvtCookie",list:[],callbacks:[]};return{error:function(){e(r,arguments)},setErrorHandler:function(l,e){n(r,l,e)},trackEvent:function(){e(a,arguments)},trackEventOnPageOnce:function(){e(i,arguments)},setTrackEventHandler:function(l,e){n(a,l,e)},setEvtCookie:function(){e(d,arguments)},trackUnifiedEvent:function(l,n,t){e(c,arguments)},redirectWithEvt:function(){var e=Array.prototype.slice.call(arguments);e.length>0&&"function"==typeof e[0]&&l(o,e.slice(1),e[0])}}});
define("ns-exporter",["vanillajs"],function(r){function n(r){if("undefined"==typeof window)return null;if("undefined"==typeof r&&(r=window),!r)return require.defined("ta/util/Error")&&require("ta/util/Error").record(null,"Using ns-exporter:exportTo without a namespace"),null;if("string"==typeof r){var n=window;n.ta||(ta={}),r.split(".").forEach(function(r){n[r]||(n[r]={}),n=n[r]}),r=n}return r}return{exportTo:function(r,e,t){if(e=n(e),!e)return!1;for(var i in r)!r.hasOwnProperty(i)||t&&i in e||(e[i]=r[i]);return!0},createNs:function(r,e,t){return!!(e=n(e))&&void(e[t]=r)}}});
define("ta/Core/TA.FireEvent",["vanillajs"],function(){var n={},e={};return n.on=function(n,r){var i=e[n];i||(i=e[n]=[]),i.push(r)},n.fireEvent=function(n,r){var i=Array.prototype.slice.call(arguments),t=e[n];i.shift(),t&&t.slice(0).forEach(function(n){try{n.apply(null,i)}catch(n){window.IS_DEBUG&&(console.error||console.log)("Exception in TA.FireEvent handler",n)}})},n.off=function(n,r){if(r){var i,t=e[n];t instanceof Array&&(i=t.indexOf(r),i>=0&&t.splice(i,1))}else delete e[n]},n.hasEventListener=function(n){return!!e[n]},n});
define("ta/Core/TA.Event",["vanillajs","common/trackingStreams","ns-exporter","ta/Core/TA.FireEvent"],function(vanilla,tracks,nsExporter,fireEvent){function _makeClosure(e,t){var n=this;return t=Array.prototype.slice.call(t),function(){e.apply(n,t)}}function QueueTimer(e,t){var n=0,r=0,o=[],a=0,u=!1;this.start=function(){n&&clearTimeout(n),a=Date.now()},this.end=function(i){var c=Date.now(),f=c-a;r+=f;var l=""+f+"ms ["+(i||"")+"]",s=e+(t?"-after":"");u?console.error("Straggler for "+s+": "+l):(o.push(l),n=setTimeout(function(){console.error("Timing for "+s+": "+r+"ms\n"+o.sort(function(e,t){return parseInt(e)-parseInt(t)}).join("\n")),u=!0},2e3))}}var exports={on:fireEvent.on,off:fireEvent.off,fireEvent:fireEvent.fireEvent,hasEventListener:fireEvent.hasEventListener};exports.call=function(e,t,n,r){if(null==t)return IS_DEBUG&&alert("You must pass the event.\n\nUsage:\nta.call('ta.namespace.Class.function', event);"),!1;if(null==e)return IS_DEBUG&&alert("ta.call of undefined function"),!1;var o=e;if("function"==typeof e)e="<func>";else if(!/^ta\.[\w\d\.]+$/.test(e))return IS_DEBUG&&alert("Invalid function name. Must be of the form: ta.namespace.Class.function"),!1;var a=t||window.event;["stopPropagation","preventDefault"].forEach(function(e){a[e]||(a[e]=function(){})}),a.stop||(a.stop=function(){a.preventDefault(),a.stopPropagation()}),n||(n=a.target||a.srcElement),n||tracks.error(null,"ta.call re-wrap fail (non-DOM element) - "+e,t,{"funcName":e});var u=arguments,i=Array.prototype.slice.call(u,3);i.splice(0,0,a,n);try{return i.unshift({callback:_ta_call_defer,evt:a}),i.unshift(o),exports.run.apply(null,i)}catch(n){tracks.error(n,"ta.call - "+e,t)}return!1};var _ta_call_defer=function(e,t){t&&delete t.evt,exports.run.apply(null,arguments)};exports.run=function(e,t){var n=arguments,r=Array.prototype.slice.call(n,2);try{var o=exports.fn(e);if("function"==typeof o){var a=o.apply(window,Array.prototype.slice.call(r));if(t&&t.onComplete){var u=exports.fn(t.onComplete);u&&u(a)}return a}t&&t.evt&&(t.evt.stopPropagation?t.evt.stopPropagation():t.evt.cancelBubble=!0,t.evt.preventDefault?t.evt.preventDefault():t.evt.returnValue=!1);var i=_makeClosure(t&&t.callback||exports.run,arguments);require(["trjs!ta/Core/TA.Load"],function(t){try{t.load(e,i)}catch(t){tracks.error(t,"ta.run - "+e)}})}catch(t){tracks.error(t,"ta.run - "+e)}return!1};var OneTimeFunctionQueue=function(e,t,n){function r(){u=!0,c()}var o,a=[],u=!!n,i=function(n,r){o&&o.start();try{n()}catch(n){try{tracks.error(n,"OneTimeFunctionQueue "+e+(t?"-after":"")+(r?"-"+r:""))}catch(e){}}o&&o.end(r)},c=function(){if(a.sort(function(e,t){return e.priority-t.priority||e.subpriority-t.subpriority}),t){var e=1;a.forEach(function(t){setTimeout(i.bind(null,t.func,t.name),e++)})}else a.forEach(function(e){i(e.func,e.name)});a=[]};null!=e&&(window.addEventListener?window.addEventListener(e,r,!1):window.attachEvent&&("DOMContentLoaded"==e?window.attachEvent("onload",r):"load"==e?window.attachEvent("on"+e,function(){setTimeout(r,1)}):window.attachEvent("on"+e,r))),this.addToQueue=function(t,n,r){return t?("string"==typeof n&&(r=n,n=!1),void(u?i(t,r):(n=n||100+a.length,a.push({func:t,priority:n,name:r,subpriority:a.length})))):void tracks.error(null,"addToQueue for "+e+" queue - no function")},this.executeQueue=function(){c()}},loaded="undefined"!=typeof document&&"complete"===document.readyState,ready="undefined"!=typeof document&&"interactive"===document.readyState||loaded,_readyQ=new OneTimeFunctionQueue("DOMContentLoaded",!1,ready),_loadQ=new OneTimeFunctionQueue("load",!1,loaded),_afterLoadQ=new OneTimeFunctionQueue("load",!0);ready||_loadQ.addToQueue(function(){_readyQ.executeQueue()},-999999999,"checkReadyQueue"),_loadQ.addToQueue(function(){_afterLoadQ.executeQueue()},999999999,"afterLoadQueue"),exports.queueForReady=function(e,t,n){_readyQ.addToQueue(e,t,n)},exports.queueForLoad=function(e,t,n){_loadQ.addToQueue(e,t,n)},exports.queueForAfterLoad=function(e,t){_afterLoadQ.addToQueue(e,0,t)},exports.fn=function(fn){switch(typeof fn){case"function":return fn;case"string":var f=!1;try{f=eval(fn)}catch(e){}if(!f){var ns=fn.split("."),n=ns.pop();try{ns=eval(ns.join(".")),f=ns&&ns._magic&&ns._magic.partial(n)}catch(e){}}if(f&&"function"==typeof f)return f}return null},exports.fireClick=function(e){if(document.createEvent){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!1),e.dispatchEvent(t)}else document.createEventObject?e.fireEvent("onclick"):"function"==typeof e.onclick&&e.onclick()},exports.throttle=function(e,t,n,r){function o(){delete m_throttles[t],a.cb()}var a,u=(new Date).getTime();if(t in m_throttles){if(a=m_throttles[t],u-a.lastReset<a.minResolution)return void(a.cb=e)}else a=m_throttles[t]={start:u,minResolution:Math.max(Math.floor(n/10),50)};a.cb=e,a.timeout&&clearTimeout(a.timeout),r&&u-a.start>r?o():(a.lastReset=u,a.timeout=setTimeout(o,n))};var m_throttles={};return nsExporter.exportTo(exports,ta),exports});
define("ta/Core/TA.LocalStorage",["vanillajs","common/trackingStreams","ns-exporter"],function(e,t,n){"use strict";var r=!1,o="taLsTest",i="1",a="TALocalStorageCurrentSessionId",u=!1,s="session-",l=!1,c=[],f=[],v=[],g=function(){return!(!u&&!l)},m=function(e){return!!g()||(t.error(null,"Accessing localStorage session cookie before session logic intialized: "+e),!1)},S=function(e){return d(e,"value")},y=function(e){return d(e,"now")},d=function(e,t){if(!t)return null;try{var n,o=JSON.parse(r.getItem(e)||"0");return o?o.ttl&&o.ttl+o.now<(new Date).getTime()?(r.removeItem(e),null):o.hasOwnProperty(t)?(r.setItem("512",o[t]),n=r.getItem("512"),r.removeItem("512"),n):null:null}catch(e){}return null},h=function(e,t){try{var n=JSON.parse(e||"0");return n&&n.hasOwnProperty(t)?n[t]:null}catch(e){return null}},w=function(e){try{var t=JSON.parse(r.getItem(e)||"0");return t?t.ttl&&t.ttl+t.now<(new Date).getTime()?(r.removeItem(e),null):t.value:null}catch(e){}return null},I=function(e){try{r.removeItem(e)}catch(e){}},p=function(e,t){var n=y(e);if(t&&n&&n<(new Date).getTime()-t)try{r.removeItem(e)}catch(e){}},O=function(e){try{var t=r.getItem(e);if(null!==t&&void 0!==t)return!0}catch(e){}return!1},T=function(e,t,n){try{r.setItem(e,JSON.stringify({ttl:n||0,now:(new Date).getTime(),value:t}))}catch(e){}},k=function(e){if(l=!0,!e)return t.error(null,"Attempting to initialize localStorage with invalid sesion key: "+e),!1;if(!V())return!1;if(u=S(a),!u||u!=e){u=e,T(a,u);var n=S("latestPageServlet");n&&T("sessionEntryServlet",n),E(),O(a)&&require.defined("ta/Core/TA.Store")&&require("ta/Core/TA.Store").store("isFirstSessionPageView",!0)}for(var r=0;r<v.length;r++)v[r]();v=[]},E=function(){try{var e=s+u,t=new RegExp("^"+s);if(r.length)for(var n=0;n<r.length;n++){var o=r.key(n);try{t.test(o)&&o!=e&&I(o)}catch(e){}}}catch(e){}},V=function(){try{if(r&&r.setItem){r.setItem(o,i);var e=r.getItem(o)!=i;return r.removeItem(o),e&&(r=!1),!!r}}catch(e){}return!1},N=function(e){try{r.setItem("session-"+u,JSON.stringify(e))}catch(e){}},b=function(){try{var e=r.getItem("session-"+u);if(e)return JSON.parse(e)}catch(e){}return{}},A=function(e){c.push(e)},C=function(e,t){f[e]||(f[e]=[]),f[e].push(t)},J=function(e){"function"==typeof e&&(g()?e():v.push(e))},L={enabled:V(),get:S,getObject:w,set:T,remove:I,removeIfElapsed:p,has:O,getTimeStamp:y,updateSessionId:k,onSessionStorageChange:A,onValueChange:C,canUseSession:g,onLocalStorageSessionInit:J,getSessionKey:function(e){if(!m(e))return null;var t=b();return t?t[e]:null},setSessionKey:function(e,t){if(m(e)){var n=b();n||(n={}),n[e]=t,N(n)}},removeSessionKey:function(e){if(m(e)){var t=b();t&&(delete t[e],N(t))}},hasSessionKey:function(e){if(!m(e))return!1;var t=b();if(t){var n=t[e];if(null!==n&&void 0!==n)return!0}return!1},setStorage:function(e){r=e,L.enabled=V()}};if("undefined"!=typeof window){var j=!1;try{j=window.localStorage}catch(e){}L.setStorage(j),function(){function e(e){if(e=e||window.event,!u||e.key&&e.key!=="session-"+u)e.key&&f[e.key]&&(e.oldValueObj=e.oldValue&&h(e.oldValue,"value"),e.newValueObj=e.newValue&&h(e.newValue,"value"),f[e.key].forEach(function(t){t(e)}));else for(var t=0,n=c.length;t<n;t++)c[t](e)}window.addEventListener?window.addEventListener("storage",e,!1):window.attachEvent&&window.attachEvent("onstorage",e)}()}return n.createNs(L,"ta","localStorage"),L});
define("ta/util/SessionStorage",["vanillajs","ns-exporter"],function(e,t){var n={};return n.canUseSessionStore=function(){try{if(window.sessionStorage){var e="taLsTest";sessionStorage.setItem(e,"1");var t=sessionStorage.getItem(e);return"1"==t}}catch(e){return!1}},n.canUseSessionStore()?(n.setObject=function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},n.getObject=function(e){var t=sessionStorage.getItem(e);return t?JSON.parse(t):null},n.remove=function(e){sessionStorage.removeItem(e)}):(n.setObject=function(){},n.getObject=function(){return null},n.remove=function(){}),t.exportTo(n,"ta.util.sessionStorage"),n});
define("ta/util/LocalStorage",["vanillajs","ns-exporter","ta/Core/TA.LocalStorage","ta/util/SessionStorage"],function(e,t,o,a){"use strict";var n={canUseLocalStore:function(){return o.enabled},canUseSessionStore:function(){return a.canUseSessionStore()}};return t.exportTo(n,"ta.util.localstorage"),n});
define("ta/util/Cookie",["vanillajs","ns-exporter"],function(e,o){var t=0,n=5e3,i={cookiePIDName:"NPID",ONE_DAY:864e5,ONE_HOUR:36e5,setPIDCookie:function(e){i.write(i.cookiePIDName,e,n,"/",window.cookieDomain)},removePIDCookie:function(){try{i.write(i.cookiePIDName,"",t,"/",window.cookieDomain)}catch(e){}},canSet:function(){return document.cookie="SessionTest=true",!!document.cookie.match("(^|;)\\s*SessionTest=true\\s*(;|$)")&&(document.cookie="SessionTest=; expires=Thu, 01 Jan 1970 00:00:01 GMT",!0)},readRaw:function(e){e=e.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1");var o=document.cookie.match(new RegExp("(?:^|;)\\s*"+e+"=([^;]*)"));return!!o&&o[1]},remove:function(e,o,t){i.write(e,"",new Date(1e3),o,t)},write:function(e,o,t,n,i){"number"==typeof t&&(t=new Date(Date.now()+t)),document.cookie=e+"="+o+(t?"; expires="+t.toUTCString():"")+(n?"; path="+n:"")+(i?"; domain="+i:"")},setOneTimeCookieOnFQDN:function(e,o){return i.write(e,o,5e3),!0},setOneTimeCookie:function(e,o){return i.write(e,o,5e3,null,window.cookieDomain),!0}};return o.exportTo({setPID:i.setPIDCookie}),o.createNs(i,"ta.util","cookie"),i});
define("ta/util/Currency",["vanillajs","ta/util/Cookie","common/trackingStreams","ns-exporter"],function(r,n,t,e){var o={},a="‏",i="؜",u=" ",c="‎";return o.formatCurrency=function(r,n,t,e){var a=n?n:"USD",i=window.currencySymbol[a],f=r;e||(f=o.formatThousands(Math.round(r)));var s=i[0],l=i[1],y=document.body.classList;return y.contains("lang_ar")?o.isCurrencyAbbreviation(s)?f+u+s+c:s+c+u+f:t?l?f+u+s:s+u+f:l?f+s:s+f},o.formatCurrencyRange=function(r,n,t,e){var c,f=document.body.classList;return c=f.contains("lang_ar")?u+"-"+i+u:ta.util.i18n.isRtl()?u+"-"+a+u:u+"-"+u,e?(r=o.formatCurrency(r,t,!0),n=o.formatCurrency(n,t,!0),r+c+n):(r=o.formatCurrency(r,t),n=o.formatCurrency(n,t),r+c+n)},o.isCurrencyAbbreviation=function(r){return/^[a-zA-Z]+[^a-zA-Z0-9]?$/i.test(r)},o.formatThousands=function(r){if("undefined"==typeof groupingSize||"undefined"==typeof groupingSeparator||groupingSize<1)return r;for(var n="",t=""+r,e=1;e<=t.length;e++)n=t.charAt(t.length-e)+n,e%groupingSize==0&&e<t.length&&(n=groupingSeparator+n);return n},o.setCurrencyAndReload=function(r,e){var o="SetCurrency";n.write(o,r,15e3),e=e?e+"|":"",t.trackEvent("CurrencyPicker","Select",e+r),location.reload(!0)},e.exportTo(o,"ta.util.currency"),o});
define("mixins/Events",["vanillajs"],function(e){"use strict";var t=function(){this.events={},Array.prototype.slice.call(arguments).forEach(function(e){this.events[e]=[]},this)};return t.create=function(){function e(e){return t.apply(this,e)}return e.prototype=t.prototype,function(){return new e(arguments)}}(),t.extend=function(e,r){var i=Object.create(t.prototype);return i.delegate=e,t.apply(i,r),i},t.prototype.on=t.prototype.addListener=function(e,t){return void 0!==this.events[e]?this.events[e].push(t):this.delegate?this.delegate.on(e,t):this.events[e]=[t],this},t.prototype.off=t.prototype.removeListener=function(e,t){if(void 0!==this.events[e])if(t){var r=this.events[e].indexOf(t);r>=0&&this.events[e].splice(r,1)}else this.events[e].length=0;else this.delegate&&this.delegate.removeListener(e,t);return this},t.prototype.removeAllListeners=function(e){if(e&&void 0!==this.events[e])this.events[e].length=0;else if(e)this.delegate&&this.delegate.removeAllListeners&&this.delegate.removeAllListeners(e);else{for(var t in this.events)this.events.hasOwnProperty(t)&&(this.events[t].length=0);this.delegate&&this.delegate.removeAllListeners&&this.delegate.removeAllListeners()}},t.prototype.hasListeners=function(e){if(e){if(this.events.hasOwnProperty(e))return this.events[e].length>0;if(this.delegate&&this.delegate.hasListeners)return this.delegate.hasListeners(e)}return!1},t.prototype.emit=function(e,t){if(this.events[e]){var r=Array.prototype.slice.call(arguments,1);this.events[e].slice(0).forEach(function(t){if(t)try{t.apply(this,r)}catch(t){"string"==typeof t&&(t=new Error(t));var i="Error in event handler for "+e;if(require.defined("ta/util/Error"))require("ta/util/Error").record(t,i);else{var s=require.defined("ta")&&require("ta");s&&s.log&&s.log.error?s.log.error(t,i):s&&s.m&&s.m.recordJSError?s.m.recordJSError([t,i]):"undefined"!=typeof console&&(console.error||console.log)(i,t)}}},this)}else this.delegate&&this.delegate.emit&&this.delegate.emit.apply(delegate,arguments);return this},t.prototype.addOrReplaceListener=function(e,t){this.off(e,t).on(e,t)},t});
define("ta/registration/RegEvents",["mixins/Events"],function(e){return new e("success")});
define("post_rollup_globals_shim",["page-model","ns-exporter","common/trackingStreams","ta/registration/RegEvents"],function(e,r,t,i){var n=e.session;i.on("success",function(){e.session.loggedIn=!0});var o={uid:n.uid,userLoggedIn:n.loggedIn,userSecurelyLoggedIn:n.securelyLoggedIn};r.exportTo(o,"ta");try{var s=XMLHttpRequest.prototype,u=s.send;s.send=function(e){try{var r=new RegExp("^(/[^/]|(http(s)?:)?//"+window.location.hostname+")");if(this._url&&r.test(this._url)){var t=n.uid;if(require.defined("redux-init")){var i=require("redux-init");i&&i.tracking&&i.tracking.uid&&(t=i.tracking.uid)}this.setRequestHeader("X-Puid",t)}}catch(e){}u.call(this,e)};var a=s.open;s.open=function(e,r){return this._url=r,a.apply(this,arguments)}}catch(e){t.error(e,"Error intercepting AJAX for tracking")}});
define("servlets/standardTemplateSupport",["page-model","mobile/lite/image-loader","ta/Core/TA.Event","ta/Core/TA.LocalStorage","ta/util/LocalStorage","ta/util/Currency","ta/util/SessionStorage","post_rollup_globals_shim"],function(e,o,s,t,a,i,n,l){function r(){s.queueForLoad(function(){o.init(200)},"lazy load images"),e&&e.session&&e.session.sessionId&&t.updateSessionId(e.session.sessionId)}return{footerInit:r}});
define("purify",["vanillajs"],function(e){function n(e,n){return e?t(e)?(window.IS_DEBUG&&console.error("You're using a jQuery object where you shouldn't. Check the stack trace and fix it!"),n&&e.length>1?e.get():e.get(0)):e.forEach&&(e.length<=1||!n)?e[0]:e:e}function t(e){return!!(e.animate&&e.get&&e.eq&&e.each)}return n});
define("babel/babel-helpers",[],function(){var e={};return e["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.jsx=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(r,t,n,o){var i=r&&r.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&i)for(var a in i)void 0===t[a]&&(t[a]=i[a]);else t||(t=i||{});if(1===u)t.children=o;else if(u>1){for(var f=Array(u),l=0;l<u;l++)f[l]=arguments[l+3];t.children=f}return{$$typeof:e,type:r,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}}(),e.asyncIterator=function(e){if("function"==typeof Symbol){if(Symbol.asyncIterator){var r=e[Symbol.asyncIterator];if(null!=r)return r.call(e)}if(Symbol.iterator)return e[Symbol.iterator]()}throw new TypeError("Object is not async iterable")},e.asyncGenerator=function(){function e(e){this.value=e}function r(r){function t(e,r){return new Promise(function(t,o){var a={key:e,arg:r,resolve:t,reject:o,next:null};u?u=u.next=a:(i=u=a,n(e,r))})}function n(t,i){try{var u=r[t](i),a=u.value;a instanceof e?Promise.resolve(a.value).then(function(e){n("next",e)},function(e){n("throw",e)}):o(u.done?"return":"normal",u.value)}catch(e){o("throw",e)}}function o(e,r){switch(e){case"return":i.resolve({value:r,done:!0});break;case"throw":i.reject(r);break;default:i.resolve({value:r,done:!1})}i=i.next,i?n(i.key,i.arg):u=null}var i,u;this._invoke=t,"function"!=typeof r["return"]&&(this["return"]=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(r.prototype[Symbol.asyncIterator]=function(){return this}),r.prototype.next=function(e){return this._invoke("next",e)},r.prototype["throw"]=function(e){return this._invoke("throw",e)},r.prototype["return"]=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new r(e.apply(this,arguments))}},"await":function(r){return new e(r)}}}(),e.asyncGeneratorDelegate=function(e,r){function t(t,n){return o=!0,n=new Promise(function(r){r(e[t](n))}),{done:!1,value:r(n)}}var n={},o=!1;return"function"==typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return this}),n.next=function(e){return o?(o=!1,e):t("next",e)},"function"==typeof e["throw"]&&(n["throw"]=function(e){if(o)throw o=!1,e;return t("throw",e)}),"function"==typeof e["return"]&&(n["return"]=function(e){return t("return",e)}),n},e.asyncToGenerator=function(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(o,i){try{var u=r[o](i),a=u.value}catch(e){return void t(e)}return u.done?void e(a):Promise.resolve(a).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}},e.classCallCheck=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},e.createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),e.defineEnumerableProperties=function(e,r){for(var t in r){var n=r[t];n.configurable=n.enumerable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t,n)}return e},e.defaults=function(e,r){for(var t=Object.getOwnPropertyNames(r),n=0;n<t.length;n++){var o=t[n],i=Object.getOwnPropertyDescriptor(r,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e},e.defineProperty=function(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e},e["extends"]=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},e.get=function e(r,t,n){null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,t);if(void 0===o){var i=Object.getPrototypeOf(r);return null===i?void 0:e(i,t,n)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(n)},e.inherits=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)},e["instanceof"]=function(e,r){return null!=r&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](e):e instanceof r},e.interopRequireDefault=function(e){return e&&e.__esModule?e:{"default":e}},e.interopRequireWildcard=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r},e.newArrowCheck=function(e,r){if(e!==r)throw new TypeError("Cannot instantiate an arrow function")},e.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},e.objectWithoutProperties=function(e,r){var t={};for(var n in e)r.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},e.possibleConstructorReturn=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r},e.selfGlobal="undefined"==typeof global?self:global,e.set=function e(r,t,n,o){var i=Object.getOwnPropertyDescriptor(r,t);if(void 0===i){var u=Object.getPrototypeOf(r);null!==u&&e(u,t,n,o)}else if("value"in i&&i.writable)i.value=n;else{var a=i.set;void 0!==a&&a.call(o,n)}return n},e.slicedToArray=function(){function e(e,r){var t=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(t.push(u.value),!r||t.length!==r);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e.slicedToArrayLoose=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var t,n=[],o=e[Symbol.iterator]();!(t=o.next()).done&&(n.push(t.value),!r||n.length!==r););return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},e.taggedTemplateLiteral=function(e,r){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))},e.taggedTemplateLiteralLoose=function(e,r){return e.raw=r,e},e.temporalRef=function(e,r,t){if(e===t)throw new ReferenceError(r+" is not defined - temporal dead zone");return e},e.temporalUndefined={},e.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},e.toConsumableArray=function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)},e});
define("widget/components",["babel/babel-helpers"],function(e){var t={};return t.initComponentWidgets=function(e,o){var n=t.getComponentWidgets(e,o);return 0===n.length?n:(require(["babel/babel-helpers","@ta/platform.runtime"],function(e,t){n.forEach(function(e){var o=e.getAttribute("data-component"),n=e.id,r=e.getAttribute("data-component-props"),i="page-manifest"===r?t.pageManifestComponents[n]:JSON.parse(r);t.importBundle(o).then(function(){var e=!!document.getElementById(n);e&&t.createRoot(n,o,i)})})}),n)},t.getComponentWidgets=function(e,t){var o=e&&e.querySelectorAll(".component-widget[data-component"+(t?"='"+t+"'":"")+"]");return o?Array.prototype.slice.apply(o):[]},t.contains=function(e,o,n){var r=t.getComponentWidgets(o||document.body,n);return r.some(function(t){return t.contains(e)})},t.termsOfUseGate=function(){return new Promise(function(e){require(["babel/babel-helpers","@ta/platform.runtime","redux-init"],function(t,o,n){if(!n.getState().auth.loggedInUserId)return e();var r="@ta/social.terms-of-use-gate";o.importBundle(r).then(function(){if(!document||!document.body)return e("Document or document body is not defined");var t=document.createElement("div");t.id=r,document.body.appendChild(t),o.createRoot(t.id,r,{onComplete:function(){o.destroyRoot(t.id),t.remove(),e()},onClose:function(n){n.trigger&&(o.destroyRoot(t.id),t.remove(),e("User has exited the gate without completing"))}})})})})},t.loadOverlayComponent=function(e){return new Promise(function(t){return require(["babel/babel-helpers","@ta/platform.runtime"],function(o,n){n.importBundle(e).then(function(){var r=document.createElement("div"),i=Math.random(),a=e+":"+i;r.id=a,document.body.appendChild(r);var u=function(t){[].concat(o.toConsumableArray(document.querySelectorAll(".ui_overlay"))).forEach(function(e){e.remove()}),n.createRoot(a,e,t)},d=function(){n.destroyRoot(a),r.remove()};t({createRoot:u,destroyRoot:d})})})})},t.socialGate=function(e,t){return new Promise(function(o){require(["babel/babel-helpers","@ta/platform.runtime"],function(n,r){var i="@ta/social.immediate-login-gate";r.importBundle(i).then(function(){if(!document||!document.body)return o("Document or document body is not defined");var n=document.createElement("div");n.id=i,document.body.appendChild(n);var a=void 0,u=document.getElementById("contextualMessage");u&&(a={contextualMessage:u.value}),r.createRoot(n.id,i,{flowOrigin:t,onComplete:function(){return r.destroyRoot(n.id),n.remove(),o()},onClose:function(e){if(e.trigger)return r.destroyRoot(n.id),n.remove(),o("User has exited the gate without completing")},pid:e,extraRegParams:a})})})})},t});
define("ta/prwidgets",["vanillajs","ns-exporter","purify","amdloaders","widget/components"],function(t,e,r,n,i){function a(t,e){var r,n=this.element._prWidgetContext;return"string"==typeof t?(t=[t],r=o(n.widget.name,t),r=r[0]&&w(r[0]),r=r&&l(n,t,[r]),r&&r[0]):(t=t.slice(),void w(o(n.widget.name,t),function(){var r=l(n,t,arguments);e&&e.apply(null,r)}))}function o(t,e,r){var n=b[t];if(!n)return[];e=e.slice();for(var i=0;i<e.length;++i){var a=e[i],o=a.replace(/^[a-z]+!/,""),l=a.substring(0,a.length-o.length);"trhtml!"===l||("widget"===o?e[i]=null:n["trjs!"===l?o:a]&&(e[i]=l+"$prw/"+t+"/"+o))}return e}function l(t,e,r){var n,i;if(r=Array.prototype.slice.apply(r),0===e.length)return r;var a=b[t.widget.name];if(r.length<e.length)for(n=o(t.widget.name,e);(i=r.length)<e.length;)n[i]?r.push(w(n[i])):r.push(null);for(var i=0;i<e.length;++i){var l=e[i].replace(/^trjs!/,"");t[l]?r[i]=t[l]:a[l]&&"function"==typeof r[i]&&(r[i]=r[i].call(null,t))}return r}function u(t){t._prWidgetContext=this.element._prWidgetContext}function p(t){var e,r,n,i,o,l;if(t&&!t._prWidgetContext&&(e=t.getAttribute("data-prwidget-init"),"string"==typeof e&&(n=t.getAttribute("data-prwidget-name")))){e=d(e),o=d(t.getAttribute("data-scriptFlags")).reduce(function(t,e){return t[e]=!0,t},{});var p=e.length;if(l=t.getAttribute("data-prwidget-deferred")){l=d(l);for(var i=0;i<l.length;i++)e.push(l[i])}var f=b[n];for(f||(b[n]=f={}),r={},i=0;i<e.length;i++)f[e[i]]=!0;r.widget={"name":n,"element":t,"modules":e,"flags":o,"markMine":u,"require":a},t._prWidgetContext=r,r.widget.require(e.slice(0,p),function(){if(t._prPendingClick){var e=t._prPendingClick;t._prPendingClick=void 0,e.key===v&&window.setTimeout(function(){y.call.apply(y,e.args)},0)}})}}function f(t,e){var n,i;if(!e&&(t=r(t,!0),t.forEach))return void t.forEach(function(t){y.initWidgets(t,!0)});for(n=t.querySelectorAll(".prw_rup"),i=0;i<n.length;i++)p(n[i]);for(n=t.querySelectorAll(".prw_dyn"),i=0;i<n.length;i++)p(n[i])}function d(t){return"string"!=typeof t?[]:t.match(/[^\s,]+(\s+[^\s,]+)*/g)||[]}function g(t){var e=t._prWidgetContext;if(e)return e;for(t=t.parentNode;t&&t.hasAttribute;t=t.parentNode){if(e=t._prWidgetContext)return e;if(t.hasAttribute("data-prwidget-init"))break}}function c(t){for(var e=t;e&&e.hasAttribute;e=e.parentNode)if(e.hasAttribute("data-prwidget-init"))return e}function s(t){t&&t.nodeName&&A.test(t.className||"")&&(t.className=(t.className||"").replace(A,""))}function h(t){t&&t.nodeName&&!A.test(t.className||"")&&(t.className=(t.className||"")+" handlerLoading")}var v,y={},m=define,w=require,b={},A=/\bhandlerLoading *\b/g;return y.define=function(t,e,r,n,i){if(e=e.replace(/\.js$/i,""),"[object Array]"!==Object.prototype.toString.call(n)&&(n=[]),r&&r.length){var a=b[t];a||(b[t]=a={});for(var u=0;u<r.length;u++)a[r[u]]=!0}m("$prw/"+t+"/"+e,o(t,n),function(){var t=Array.prototype.slice.apply(arguments);return function(r){return r[e]||(r[e]=i.apply(null,l(r,n,t))),r[e]}})},y.redefine=function(t,e){return w.undef&&w.undef("$prw/"+t+"/"+e),y.define.apply(this,arguments)},y.getjs=function(t,e){var r=g(t);if(r&&"string"==typeof e)return r.widget.require(e)},y.initWidgets=function(t,e){t||(t=document),("string"!=typeof t||(t=document.getElementById(t)))&&(f(t,e),i.initComponentWidgets(t))},y.getWidgetElement=function(t,e){return e=e||document.body,e.querySelector(".prw_"+t)},y.call=function(t,e,r,n){if("string"!=typeof t||!r)throw"ta.prwidgets.call() requires method, event||null, element";var i=g(r),a=e&&("click"===e.type||"submit"===e.type);if(a&&(e&&e.preventDefault&&e.preventDefault(),v=void 0),!i){if(a){var o=c(r);o&&!o._prWidgetContext&&(v={},o._prPendingClick={key:v,args:Array.prototype.slice.call(arguments,0)})}return!1}var l=t.match(/^((?:[^\/]+\/)*[^\/\.]+)\.([^\/]*)?$/),u=l[1];l=l[2].split(".");var p=Array.prototype.slice.call(arguments,1),f=function(e){s(r);for(var n=void 0;l.length>0&&e;)n=e,e=e[l.shift()];if("function"!=typeof e)throw"ta.prwidgets.call: '"+t+"' is not a function";return e.apply(n||{},p),!1};return i[u]?f(i[u]):void((a||require.defined("$prw/"+i.widget.name+"/"+u))&&(h(r),i.widget.require(["trjs!"+u],f)))},e.exportTo(y,"ta.prwidgets"),y});
define("ta/p13n/placement-store",["vanillajs","ta/rollupAmdShim"],function(e,r){"use strict";function t(e){return e.replace(/\.(js|es6|jsx)$/i,"")}function n(e,r,n,l,a){if(r=t(r),"[object Array]"!==Object.prototype.toString.call(l)&&(l=[]),n&&n.length){var o=y[e];o||(y[e]=o={});for(var p=0;p<n.length;p++)o[n[p]]=!0}m("$prp/"+e+"/"+r,c(e,l),function(){var e=Array.prototype.slice.apply(arguments);return function(t){return t[r]||(t[r]=a.apply(null,i(t,l,e))),t[r]}})}function l(e,r){return d.undef&&d.undef("$prp/"+e+"/"+r),n.apply(this,arguments)}function a(e,r){var t,n=v[this.id];return"string"==typeof e?(e=[e],t=c(n.placement.dir,e,n.placement),t=t[0]&&d(t[0]),t=t&&i(n,e,[t]),t&&t[0]):(e=e.slice(),void d(c(n.placement.dir,e,n.placement),function(){var t=i(n,e,arguments);r&&r.apply(null,t)}))}function c(e,r,t){var n=y[e];if(!n)return console&&console.error&&console.error(e+" _externalizeDeps - Failed to locate module map"),[];r=r.slice();for(var l=0;l<r.length;++l){var a=r[l],c=a.replace(/^[a-z]+!/,""),i=a.substring(0,a.length-c.length);"trhtml!"===i?t&&(c+=(c.indexOf("?")>=0?"&occur=":"?occur=")+t.occurrence,r[l]=i+"$prp/"+t.name+"/"+c):"placement"===c?r[l]=null:n&&n["trjs!"===i?c:a]&&(r[l]=i+"$prp/"+e+"/"+c)}return r}function i(e,r,t){var n,l;if(t=Array.prototype.slice.apply(t),0===r.length)return t;var a=y[e.placement.dir];if(t.length<r.length)for(n=c(e.placement.dir,r);(l=t.length)<r.length;)n[l]?t.push(d(n[l])):t.push(null);for(var l=0;l<r.length;++l){var i=r[l].replace(/^trjs!/,"");e[i]?t[l]=e[i]:a[i]&&"function"==typeof t[l]&&(t[l]=t[l].call(null,e))}return t}function o(e){e&&e.nodeName&&h.test(e.className||"")&&(e.className=(e.className||"").replace(h,""))}function p(e){e&&e.nodeName&&!h.test(e.className||"")&&(e.className=(e.className||"")+" handlerLoading")}function u(e,r,t,n,l,a){var c=Array.prototype.slice.call(arguments,3);if("[object Array]"!==Object.prototype.toString.call(t)&&(c=Array.prototype.slice.call(arguments,2),l=n,n=t,t=[]),"string"!=typeof e||"string"!=typeof r)throw"placements.evCall() requires id, method, event?, element?, ...";var i=v[e],u=n&&("click"===n.type||"submit"===n.type);if(u&&(n.preventDefault&&n.preventDefault(),f=void 0),!i){if(u){var s=document.getElementById(e);s&&(f={},s._prPendingClick={key:f,args:Array.prototype.slice.call(arguments)})}return!1}var m=r.match(/^((?:[^\/]+\/)*[^\/\.]+)\.([^\/]*)?$/),d=m[1];m=m[2].split(".");var y=function(e){o(l);for(var t=void 0;m.length>0&&e;)t=e,e=e[m.shift()];if("function"!=typeof e)throw"placements.evCall: '"+r+"' is not a function";return e.apply(t||{},c),!1};return i[d]?y(i[d]):(p(l),void i.placement.require(["trjs!"+d].concat(t),y))}function s(e){return{load:function(r,n,l){n=t(n);var c=l.id,i=v[c];return i||(i=e(l),v[c]=i,l=i.placement||l,i.placement=l,l.dir=r,l.require=a),i[n]||(i[n]=null,i.placement.require(n))},define:n,redefine:l,evCall:u}}var f,m=define,d=require,v={},y={},h=/\bhandlerLoading *\b/g;return s});
define("ta/p13n/placements",["vanillajs","ns-exporter","ta/prwidgets","ta/p13n/placement-store"],function(e,n,a,t){"use strict";function r(e){var n=e;return n.indexOf(":")>0&&(n=n.substring(0,n.indexOf(":"))),n}function l(){var e=Array.prototype.slice.call(arguments);require(["trjs!ta/p13n/placements-ajax"],function(n){n.loadDynamicPlacement.apply(n,e)})}function c(){var e=Array.prototype.slice.call(arguments);require(["trjs!ta/p13n/placements-ajax"],function(n){n.loadDynamicPlacement.apply(n,e)})}var i=new t(function(e){var n={};if(e)for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);return n.requestAJAXPlacement||(n.requestAJAXPlacement=function(e,a,t,r){require(["trjs!ta/p13n/placements-ajax"],function(l){l.requestAJAXPlacement(n,e,a,t,r)})}),{placement:n}}),o={"define":i.define,"redefine":i.redefine,"load":i.load,"evCall":i.evCall,"loadDynamicPlacement":l,"enableAutoRefresh":c,"getTemplateBaseFromPlacementName":r};return n.exportTo(o,"ta.p13n.placements"),o});
define("mixins/mixin",[],function(){"use strict";return function(r){var i,n,t=Array.prototype.slice.call(arguments,1);for(var e in t)if(t.hasOwnProperty(e)){i=t[e];for(n in i)r[n]=i[n]}return r}});
;
define("mixins/page-dates/WCCompat",["redux-init"],function(t,e,r,n){"use strict";function s(){var e=t.getState();return e=e&&e.travelerInfo,e||{}}function u(){var t=s().hotels;return t=t&&t.stayDates,t||null}function a(){var t=u();if(t){var e=t.split("_");if(e.length>=3)return new Date(Number(e[0]),Number(e[1])-1,Number(e[2]))}}function i(){var t=u();if(t){var e=t.split("_");if(e.length>=6)return new Date(Number(e[3]),Number(e[4])-1,Number(e[5]))}}var c=function(){this.hasDates=function(t){switch(t||""){case"STAYDATES":case"CHECKIN":case"CHECKOUT":return!!u()}return!1},this.getDates=function(t){switch(t||""){case"STAYDATES":return[a(),i()];case"CHECKIN":return[a()];case"CHECKOUT":return[i()]}return[]},this.datesToQueryString=function(t){switch(t||""){case"STAYDATES":return"staydates="+(u()||"")}return""},this.datesToQueryJson=function(t){switch(t||""){case"STAYDATES":return{staydates:u()||""}}return{}}};return c.prototype.usingUnifiedDates=!0,c});
define("common/Radio",["babel/babel-helpers"],function(e){var t={},n=/\s+/,r=function(){function t(n){e.classCallCheck(this,t),this.channel=n,this.events={},this.replies={}}return e.createClass(t,[{key:"reply",value:function(e,t,r){var i=this;return e.split(n).forEach(function(e){i.replies[e]||(i.replies[e]=[]),i.replies[e].push({callback:t,context:r||i})},this),this}},{key:"request",value:function(e){if(!this.replies[e])return null;var t=this.replies[e];t=t[t.length-1];for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.callback.apply(t.context,r)}},{key:"requestMany",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.replies[e]?this.replies[e].map(function(e){return e.callback.apply(e.context,n)}):null}},{key:"requestAll",value:function(t,n){for(var r=arguments.length,i=Array(r>2?r-2:0),u=2;u<r;u++)i[u-2]=arguments[u];if(!this.replies[t])return!0;i=[n].concat(e.toConsumableArray(i));var s="function"==typeof n?n:function(e){return e===n};return this.replies[t].reduce(function(e,t){return e&&s(t.callback.apply(t.context,i))},!0)}},{key:"requestAny",value:function(t,n){for(var r=arguments.length,i=Array(r>2?r-2:0),u=2;u<r;u++)i[u-2]=arguments[u];if(!this.replies[t])return!1;i=[n].concat(e.toConsumableArray(i));var s="function"==typeof n?n:function(e){return e===n};return this.replies[t].reduce(function(e,t){return e||s(t.callback.apply(t.context,i))},!1)}},{key:"on",value:function(e,t,r){var i=this;return e.split(n).forEach(function(e){i.events[e]||(i.events[e]=[]),i.events[e].push({callback:t,context:r||i})}),this}},{key:"once",value:function(e,t,r){var i=this;return e.split(n).forEach(function(e){i.events[e]||(i.events[e]=[]),i.events[e].push({callback:t,context:r||i,single:!0})}),this}},{key:"off",value:function(e,t){var r=this;return e.split(n).forEach(function(e){r.events[e]&&(r.events[e]=r.events[e].filter(function(e){return t&&e.callback!==t}))}),this}},{key:"trigger",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.events[e])return this.events[e]=this.events[e].filter(function(e){return e.callback.apply(e.callback,n),!e.single}),this}},{key:"clear",value:function(){return this.events={},this.replies={},this}},{key:"requestEvery",get:function(){return this.requestAll}},{key:"requestSome",get:function(){return this.requestAny}},{key:"one",get:function(){return this.once}},{key:"emit",get:function(){return this.trigger}}]),t}();return function(e){return t[e]||(t[e]=new r(e))}});
define("commerce/offerclickEvents",["mixins/Events","vanillajs"],function(e){"use strict";return new e("beforeClick","afterClick")});
define("utils/asdf-encoder",["ns-exporter","vanillajs"],function(e){"use strict";var t={};return t.getOffset=function(e){return e>=97&&e<=122?e-61:e>=65&&e<=90?e-55:e>=48&&e<=71?e-48:-1},t.asdf=function(e){for(var t={"":["&","=","p","6","?","H","%","B",".com","k","9",".html","n","M","r","www.","h","b","t","a","0","/","d","O","j","http://","_","L","i","f","1","e","-","2",".","N","m","A","l","4","R","C","y","S","o","+","7","I","3","c","5","u",0,"T","v","s","w","8","P",0,"g",0],"q":[0,"__3F__",0,"Photos",0,"https://",".edu","*","Y",">",0,0,0,0,0,0,"`","__2D__","X","<","slot",0,"ShowUrl","Owners",0,"[","q",0,"MemberProfile",0,"ShowUserReviews",'"',"Hotel",0,0,"Expedia","Vacation","Discount",0,"UserReview","Thumbnail",0,"__2F__","Inspiration","V","Map",":","@",0,"F","help",0,0,"Rental",0,"Picture",0,0,0,"hotels",0,"ftp://"],"x":[0,0,"J",0,0,"Z",0,0,0,";",0,"Text",0,"(","x","GenericAds","U",0,"careers",0,0,0,"D",0,"members","Search",0,0,0,"Post",0,0,0,"Q",0,"$",0,"K",0,"W",0,"Reviews",0,",","__2E__",0,0,0,0,0,0,0,"{","}",0,"Cheap",")",0,0,0,"#",".org"],"z":[0,"Hotels",0,0,"Icon",0,0,0,0,".net",0,0,"z",0,0,"pages",0,"geo",0,0,0,"cnt","~",0,0,"]","|",0,"tripadvisor","Images","BookingBuddy",0,"Commerce",0,0,"partnerKey",0,"area",0,"Deals","from","\\",0,"urlKey",0,"'",0,"WeatherUnderground",0,"MemberSign","Maps",0,"matchID","Packages","E","Amenities","Travel",".htm",0,"!","^","G"]},r="",a=0;a<e.length;a++){var n=e.charAt(a),o=n;t[n]&&a+1<e.length?(a++,o+=e.charAt(a)):n="";var s=getOffset(e.charCodeAt(a));r+=s<0||"String"==typeof t[n][s]?o:t[n][s]}return r},e.exportTo(t),t});
define("utils/urlutils",["vanillajs","utils/asdf-encoder"],function(e,t){"use strict";function n(e,t,n){var o=new RegExp("(-"+t+"([0-9]+))|([?&]"+n+"=([0-9]+))"),r=o.exec(e);if(r){if("undefined"!=typeof r[2])return Number(r[2]);if("undefined"!=typeof r[4])return Number(r[4])}}function o(e){return n(e,"d","detail")||n(e,"g","geo")}function r(e){for(var t={},n=e.split("#")[0].split("?")[1]||"",o=n.split("&"),r=0;r<o.length;r++){var i=o[r].split("=");i[0]&&(t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]))}return t}function i(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];if(o&&"object"==typeof o)for(var r=0;o.length&&r<o.length;++r){var i=o[r];i="object"==typeof i?"":String(i),t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}else t.push(encodeURIComponent(n)+"="+encodeURIComponent(String(o)))}return t.join("&")}function f(e){return location.protocol+"//"+location.host+e}function u(e){return e=e||"",e.indexOf("http")===-1&&(e=f(e)),e.replace("http://","https://")}function d(e){var t=l.exec(e);return{protocol:t?t[1]:"",host:t?t[2]:""}}var l=/^([^:]+:)\/\/([^\/\?]+)/,a="undefined"!=typeof window&&window.asdf||("undefined"!=typeof global&&global.asdf?global.asdf:t.asdf);return{asdf:a,getUrlArgNumeric:n,getUrlPageLoc:o,getUrlQueryArgs:r,toQueryString:i,https:u,getParts:d}});
define("utils/stopevent",["vanillajs"],function(){return function(e){return e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1),!1}});
define("utils/waiton",["vanillajs"],function(){return function(n,i,t){function o(){--u<=0&&!c&&(e&&clearTimeout(e),c=!0,i())}var u=0,e=null,c=!1;return n&&0!=n.length?(n.forEach(function(n){u++,n(o)}),void(t>0&&(e=setTimeout(function(){u=0,o()},t)))):void i()}});
define("ta/popups/PollForPartnerLoad",["common/trackingStreams"],function(t){var e=function(n,E,r,a,o){n&&setTimeout(function(){var C=null,c=(new Date).getTime()-E.getTime();try{C=n.document}catch(t){}C?c>2e4?t.trackEvent("COMMERCE_CLICK","PROVIDER_TIMEOUT",r||"",c):n.closed?t.trackEvent("COMMERCE_CLICK","PROVIDER_CLOSED",r||"",c):e(n,E,r,a,o):t.trackEvent("COMMERCE_CLICK","PROVIDER_LOADED",(o||window.pageServlet||"")+"|"+(a||"")+"|"+(r||""),c)},100)};return e});
define("ta/Browser",["vanillajs","ns-exporter"],function(e,n){var t,r={},i=function(){return navigator.userAgent.indexOf("MSIE 10.0")>=0},o=r.isIE11orHigher=function(){return navigator.userAgent.toLowerCase().indexOf("trident/7.")>-1||navigator.userAgent.toLowerCase().indexOf("msie 11.")>-1};return r.isIE9orHigher=function(){return navigator.appVersion.indexOf("MSIE 9")>=0||i()||o()},r.isIE10Metro=function(){return i()&&r.isIEMetro()},r.isIEMetro=function(){var e=null,n=o(),t=n?127:0,r=window.innerWidth==screen.width&&screen.height-window.innerHeight===t;try{e=!!new ActiveXObject("htmlfile")}catch(n){e=!1}return!e&&r&&(n||i())},r.isIE=function(){return navigator.userAgent.indexOf("MSIE")>=0},r.isChrome=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},r.getFlashVersion=function(){if("number"!=typeof t){var e;try{e=navigator.plugins["Shockwave Flash"].description}catch(n){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(e){}}var n=(e||"0 r0").match(/\d+/g);t=Number(n[0]||"0."+n[1])||0}return t},r.isChromeIncognito=function(e){var n=window.RequestFileSystem||window.webkitRequestFileSystem;return n&&"function"==typeof n?void n(window.TEMPORARY,100,function(){e("normal")},function(){e("incognito")}):void e("undetermined")},n.exportTo(r,"ta.browser"),r});
define("utils/json-to-url",["vanillajs"],function(){"use strict";return function(n){return n?Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&"):""}});
define("mobile/lite/ajax-request",["utils/json-to-url","vanillajs"],function(t){function e(t){var e=document.createElement("a");return e.href=t,e.protocol!==window.location.protocol||e.host!==window.location.hostname}return function(s,o){"object"==typeof s&&(o=s,s=o.url),o=o||{};var n=o.method||o.type||"GET",r="string"==typeof o.data?o.data:t(o.data);return new Promise(function(t,a){var i=new XMLHttpRequest;i.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&(200===this.status?(o.success&&o.success(this.responseText,this.status,i),t(this.responseText)):(o.error&&o.error(i,this.status,this.statusText),a(this.responseText)),o.complete&&o.complete(i,this.statusText))},"get"==n.toLowerCase()&&"string"==typeof r&&r.length>0&&(s+=("?"==r[0]?"":"?")+r,r=null),i.open(n,s,!o.synchronous),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e(s)||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(r)})}});
define("utils/cookieutils",["vanillajs","mobile/lite/ajax-request"],function(t,e){"use strict";var o=function(t){return"undefined"!=typeof t&&null!==t},n=function(t){return t.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},i=function(){var t=window.location.host.match(/\.tripadvisor\..*/);return null!=t?t=t[0]:null},a=function(t,e,n){if(o(n.doNotEscape)&&n.doNotEscape||(e=encodeURIComponent(e)),e+=n.domain?"; domain="+n.domain:"; domain="+i(),n.path&&(e+="; path="+n.path),n.duration){var a=new Date;a.setTime(a.getTime()+1e3*n.duration),e+="; expires="+a.toGMTString()}n.secure&&(e+="; secure");var r="%1%";o(n.ignoreVersion)&&n.ignoreVersion&&(r=""),document.cookie=t+"="+r+e};return{addPidToCookie:function(t){o(t)&&0!==t.length&&a("NPID",t,{path:"/",duration:5,ignoreVersion:!0})},roybatty:function(){var t,o=i(),n=window.taSecureToken;if(window.taEarlyRoyBattyStatus)window.taEarlyRoyBattyStatus>1&&ta&&ta.trackEventOnPage&&ta.trackEventOnPage("early_roy_batty","confirm","",0,!0);else if(t=this.getCookie("roybatty")){var a=t.split(",");if(a&&2==a.length){var r=parseInt(a[1],10);document.setCookie("roybatty",n+","+r,{domain:o,ignoreVersion:!0,path:"/"})}}else document.setCookie("roybatty",n+",1",{domain:o,ignoreVersion:!0,path:"/"}),e({method:"POST",url:"/CookiePingback"})},getCookie:function(t){var e=document.cookie.match("(?:^|;)\\s*"+n(t)+"=([^;]*)");return e?(e=e[1],0===e.indexOf("%1%")&&(e=e.substring(3)),decodeURIComponent(e)):null},setCookieInSeconds:a}});
define("commerce/cookieSetter",["vanillajs","utils/cookieutils"],function(e,i){function o(){var e=require.defined("page-model")&&require("page-model");e&&e.session.uid&&i.setCookieInSeconds(n,e.session.uid,{duration:10,ignoreVersion:!0})}var n="comm_puid";return o});
define("commerce/offerclick",["ta","mixins/mixin","commerce/offerclickEvents","utils/urlutils","utils/stopevent","utils/waiton","ta/popups/PollForPartnerLoad","ta/Browser","ta/util/Cookie","commerce/cookieSetter"],function(e,t,r,o,i,n,c,a,l,u){"use strict";function f(e,t){if("string"!=typeof e)return e;var r=o.asdf(e.trim()).replace(/&amp;/g,"&");if("undefined"!=typeof window&&window.crPageServlet&&(r=r.replace(w,"$1from=HotelDateSearch_"+crPageServlet),w.test(r)||(r+="&from="+crPageServlet)),"undefined"!=typeof document&&document.location&&document.location.href){var i=o.getUrlPageLoc(document.location.href);i&&(r+="&pageLocId="+i)}t&&(r+="&ra=true");var n=o.getUrlQueryArgs(r);return r=r.replace(E,""),{url:r,isBooking:r.indexOf("/StartBooking")>=0||r.indexOf("/MobileHotelBookingRoomSelection")>=0,ttP:n.tp,ttIK:n.ik,ttAOK:n.aok,slot:n.slot,providerName:n.p,ik:n.ik,locId:n.d||n.geo,area:n.area,contentId:n.src_0||n.src,trackingContext:n.btc,selectedPrice:n.priceShown,offerStr:n.gosox||"",openBehavior:n.ob}}function d(e){"function"==typeof e&&P.push(e)}function s(){b=!0}function p(t){return"same_tab"!==t.openBehavior&&((!t.isBooking||!a.isIE10Metro())&&"undefined"!=typeof e)}function m(e,t){t=f(t);var r=window.open(t.url,"_blank");r||(window.location=t.url),P.forEach(function(r){r(e,t,function(){})}),c(r,new Date,t.providerName,t.slot)}function v(t,r){r=f(r);var o=250;n(P.map(function(e){return e.bind(null,t,r)}),function(){"undefined"!=typeof e&&e.retrieve&&e.retrieve("ta.isIE11orHigher")?window.open(r.url,"_self",null,!1):window.location.href=r.url},o)}function k(t,o,n,c,a,l){if(t&&!c&&i(t),n=f(n,l),b){if(n&&S===n.offerStr)return!1;setTimeout(function(){S=null},1e3),S=n&&n.offerStr}if(r.emit("beforeClick",n),e.store&&e.retrieve&&o&&n&&n.ttIK&&n.selectedPrice){var d=e.retrieve("CLICK_PRICE_DOUBLE_CHECK");d||(d={}),d[n.ttIK]=String(n.selectedPrice),e.store("CLICK_PRICE_DOUBLE_CHECK",d)}return require.defined("ta/Core/TA.Event")&&setTimeout(function(){try{require("ta/Core/TA.Event").fireEvent("metaLinkClick",o,n.isBooking?"TripAdvisor":n.providerName,n.area,n.locId,n.contentId,"new_tab",n.slot),n.isBooking&&require("ta/Core/TA.Event").fireEvent("ibOfferClick",o)}catch(e){require.defined("ta/util/Error")&&require("ta/util/Error").record(e,"Commerce click tracking failed",null,{servlet:window.pageServlet,url:n.url,area:n.area})}},300),(!I||!I(n))&&(u(),p(n)?m(o,n):v(o,n),r.emit("afterClick",n),!1)}function g(e){I=e}function C(e,t){var r=t.getAttribute("data-clicktoken");r&&require(["ta/page"],function(){k(e,t,r)})}var w=new RegExp("(&|\\?)from=[^&]*"),E=new RegExp("(&|\\?)ob=[^&]*"),P=[],I=null,S=null,b=!1,_={expandToken:f,clickEvent:k,compElementClick:C,registerAsyncPreclick:d,setPreClickHandler:g,enableMultiTapPrevention:s};return t(_,r)});
define("utils/responsive",["vanillajs"],function(){"use strict";function t(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}function n(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function e(n){return function(){return t()>=n}}function r(n){return function(){return t()<=n}}function i(t,n){return function(){return e(t)()&&r(n)()}}var o={largeMonitor:1600,widescreen:1280,desktop:1024,tablet:768,mobile:767},u=Object.keys(o).sort(function(t,n){return o[n]-o[t]}),c={breakpoints:u,widths:o,atLeast:e,atMost:r,between:i,largeMonitor:e(o.largeMonitor),widescreen:e(o.widescreen),desktop:e(o.desktop),tablet:e(o.tablet),mobile:r(o.mobile),desktopOnly:i(o.desktop,o.widescreen-1),tabletOnly:i(o.tablet,o.desktop-1),landscape:function(){return t()>n()},portrait:function(){return n()>t()},currentBreakpoints:function(){return u.filter(function(t){return"function"==typeof c[t]&&c[t]()})},is:function(t,n,e){var r="function"!=typeof t&&c[t]?c[t]:t;return function(t,i){return r()?"undefined"!=typeof t?t:n:"undefined"!=typeof i?i:e}}};return c});
define("utils/ResponsiveEvents",["mixins/Events","utils/responsive","utils/throttle","vanillajs"],function(n,e,t){"use strict";function r(n,e,t){var r=n.filter(function(n){return e.indexOf(n)<0}),i=e.filter(function(e){return n.indexOf(e)<0});return t?r.reverse().concat(i.reverse()):r.concat(i)}function i(){var n=document.body.clientWidth;if(n!=o){var t=n>o,i=e.currentBreakpoints(),f=r(u,i,t);f.forEach(function(n){var e=t?"over-":"under-";c.emit(e+n)}),f.length&&c.emit("breakpoint",i[0]),u=i,o=n}}var o=document.documentElement.clientWidth,u=e.currentBreakpoints(),f=["breakpoint"];e.breakpoints.forEach(function(n){f.push("over-"+n,"under-"+n)});var c=n.create(f);return c.onOver=function(n,e){c.on("over-"+n,e)},c.onUnder=function(n,e){c.on("under-"+n,e)},c.offOver=function(n,e){c.off("over-"+n,e)},c.offUnder=function(n,e){c.off("under-"+n,e)},window.addEventListener("resize",t(i,100)),c});
define("responsive/breakpoint-tracker",["babel/babel-helpers","common/trackingStreams","utils/ResponsiveEvents","utils/responsive","vanillajs"],function(e,n,t,i){"use strict";function r(e){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r="mobile"===e?320:i.widths[e];n.trackEvent("Breakpoint",r,t)}function o(){s||(r(i.currentBreakpoints()[0]),t.on("breakpoint",r),s=!0)}var s=!1;return{init:o}});
define("ajax-request",["utils/json-to-url","utils/urlutils"],function(t,e){function r(t){var r=document.createElement("a");r.href=t;var s=e.getParts(r.href);return s.protocol!==window.location.protocol||s.host!==window.location.hostname}function s(t,e,s){try{r(t)||e.setRequestHeader("X-Requested-With","XMLHttpRequest")}catch(t){}try{var n=s["content-type"]||"application/x-www-form-urlencoded; charset=utf-8";e.setRequestHeader("Content-Type",n)}catch(t){}try{var o=s.accept||"text/html, */*";e.setRequestHeader("Accept",o)}catch(t){}try{var a=s["x-requested-by"];a&&e.setRequestHeader("X-Requested-By",a)}catch(t){}}function n(){try{return new XMLHttpRequest}catch(t){try{return new ActiveXObject("MSXML2.XMLHTTP")}catch(t){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){throw new Error("Can't create XMLHttpRequest or similar")}}}}return function(e,r){"object"==typeof e&&(r=e,e=r.url),r=r||{};var o=r.method||r.type||"GET",a="string"==typeof r.data?r.data:t(r.data);return new Promise(function(t,c){var u=n(),i=!1;u.onreadystatechange=function(){i||u.readyState!==XMLHttpRequest.DONE||(i=!0,u.status>=200&&u.status<=299?(r.success&&r.success(this.responseText,this.status,u),t(this.responseText)):u.status>0&&(r.error&&r.error(u,this.status,this.statusText),c(this.responseText)),r.complete&&r.complete(u,this.statusText))},"get"===o.toLowerCase()&&"string"==typeof a&&a.length>0&&(e+=("?"===a[0]?"":"?")+a,a=null),u.open(o,e,!r.synchronous),s(e,u,r),u.send(a)})}});
define("utils/BatchRequest",["ajax-request"],function(e){"use strict";function n(e,n){r[e]=r[e]||[],r[e].push(n),i&&clearTimeout(i),i=setTimeout(t,a)}function t(n){for(var t in r)if(r.hasOwnProperty(t)){for(var a={batched:!0},i=r[t],u=0;u<i.length;u++)for(var o in i[u])i[u].hasOwnProperty(o)&&(a["data["+u+"]["+o+"]"]=i[u][o]);e({method:"POST",url:t,data:a,synchronous:n})}r={}}var a=1500,r={},i=null;return window.addEventListener("onpagehide"in window?"pagehide":"unload",t.bind(null,!0)),{queue:n}});
define("ta/util/trackHistoryInject",["common/trackingStreams"],function(t){return function(){window.history&&window.history.state&&(window.history.state.fromBackClick&&(delete window.history.state.fromBackClick,t.trackEventOnPageOnce("commerce_history_injection","back_button_clicked")),window.history.state.fromBABackClick&&(delete window.history.state.fromBABackClick,t.trackEventOnPageOnce("ba_history_injection","back_button_clicked")))}});
define("ta/util/Object",["vanillajs","ns-exporter"],function(t,e){var r={};return r.typeOf=function(t){return Object.prototype.toString.call(t).match(/(\w+)\]$/)[1].toLowerCase()},r.merge=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n){t||(t="array"===r.typeOf(n)?[]:{});for(var o in n){var a=n[o];if(n.hasOwnProperty(o)&&"undefined"!==r.typeOf(a)){var i=r.typeOf(a);if("string"===i||"number"===i||"boolean"===i||"function"===i||null===a){t[o]=a;continue}t[o]=r.merge(t[o],a)}}}}return t},e.exportTo(r,"ta.util"),r});
define("ta/Core/TA.Store",["vanillajs","ns-exporter","ta/util/Object"],function(e,r,t){"use strict";var n={},a={};return a.store=function(e,r){return n[e]=r,r},a.retrieve=function(e){return n[e]},a.has=function(e){return"undefined"!=typeof n[e]},a.retrieveOrStore=function(e,r){var t=n[e];return"undefined"==typeof t&&(n[e]=r,t=r),t},a.remove=function(e){var r=n[e];return delete n[e],r},a.keep=function(e,r){var t,n=a.retrieve(e);t=n?n instanceof Array?n:[n]:[],r instanceof Array?r.forEach(function(e){t.contains(e)||t.push(e)}):t.push(r),a.store(e,t)},a.merge=function(e,r){a.store(e,t.merge(a.retrieve(e)||{},r))},a.asInt=function(e,r){var t=parseInt(a.retrieve(e));return isNaN(t)?r||0:t},a.asFloat=function(e,r){var t=parseFloat(a.retrieve(e));return isNaN(t)?r||0:t},a.executeCallbacks=function(e){if(a.has(e)){var r=a.retrieve(e);if(!r instanceof Array)return;for(var t=0;t<r.length;t++)r[t]()}},r.exportTo(a,"ta"),a});
define("servlets/reacthotelreview",["babel/babel-helpers","mixins/mixin","mixins/page-dates/WCCompat","common/Radio","commerce/offerclick","responsive/breakpoint-tracker","utils/BatchRequest","amdloaders","ta/util/trackHistoryInject","ta/Core/TA.Store","ta/Core/TA.Event","ta/registration/RegEvents"],function(e,t,r,i,n,o,s,a,c,l,u,d){"use strict";function f(e){if(!h){var i=e||v;v=i,h=!0,t(this,new r),m=new Promise(require.bind(null,["trjs!servlets/reacthotelreview-pl"])).then(function(e){return e.init(i),e}),m.then(a.activate.bind(a)),n.on("afterClick",function(e){var t={locId:e.locId,isMetaCheckRates:!0,contentId:e.contentId,selectedPrice:e.selectedPrice,offerStr:e.offerStr};m.then(function(e){return e.loadClickoutMonikers(t),e})}),i.preventOfferclickMultiTaps&&n.enableMultiTapPrevention(),c(),o.init(),d.on("success",function(){var e=window.sessionStorage.getItem("DELEGATE_RELOAD");"true"!==e&&window.location.reload(!0)});var s=["trcss!ui_overlays"];l.store("overlay.requiredAssets",s),u.queueForAfterLoad(function(){require(s,function(){})},"load overlay.requiredAssets")}}var v=null,m=null,h=!1;return{init:f}});
require(["ta/p13n/placements"],function(e){var n=e.define.bind(e,"masthead_h1","handlers",["handlers"]);n(["placement","ta/Core/TA.FireEvent"],function(e,n){"use strict";function t(n){var t=document.getElementById(e.id);t&&(t.innerHTML=n.innerHTML)}var r="true"===e.params.trackInView;return r&&require(["trjs!ta/util/Element"],function(n){n.trackWhenScrolledIntoView("#"+e.id,["masthead","in_view"])}),n.on("update-"+e.name,t),{}})});
require(["ta/p13n/placements"],function(e){var n=e.define.bind(e,"masthead_h1_lower","handlers",["handlers"]);n(["placement","ta/Core/TA.FireEvent"],function(e,n){"use strict";function t(n){var t=document.getElementById(e.id);t&&(t.innerHTML=n.innerHTML)}var r="true"===e.params.trackInView;return r&&require(["trjs!ta/util/Element"],function(n){n.trackWhenScrolledIntoView("#"+e.id,["masthead","in_view"])}),n.on("update-"+e.name,t),{}})});
