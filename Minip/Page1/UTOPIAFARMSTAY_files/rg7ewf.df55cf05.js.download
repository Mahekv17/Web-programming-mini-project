(this.$WP=this.$WP||[]).push(["rg7ewf",(e,r)=>{var a,i,l,t,n,o,u,s,c,d,m,h,v,p,_,g,f,T,b,k,C,N,y,x={boxChild:"F-"},O=(e,r)=>{var{state:a,update:i}=l(y),t=a[e];o(()=>{t.isDirty||t.value===r||i(e,{value:r})},[e,r,i])},w=({initialFirstName:e="",initialLastName:r="",initialEmail:o="",initialPhoneNumber:w="",initialPhoneCountryCode:S="",checkoutType:P,onChangeCallback:E,isModal:L,allowEmailEdit:D=!1,freeTrialSubscription:I=!1,optimusCashbackSelected:B=!1,toggleCashbackRewardSMSOptIn:q,isCashbackRewardSMSOptIn:A=!1,showLoginPrompt:F=!1,bookingFlow:V})=>{var{state:{firstName:j,lastName:H,phoneNumber:R,email:$,countryPhoneCode:z},update:M}=l(y),U=E?(e,r)=>{E(),M(e,r)}:M,{localize:W}=_(),K=S?`+${S}`:null,[G,J]=t(j.value),[Q,X]=t(H.value),[Y,Z]=t(R.value),[ee,er]=t($.value),[ea,ei]=t(K||z.value||"+1"),el=v(),et=el.map(({label:e,regionISOCode:r})=>({displayName:e,value:r})),en=c(),{funnelKey:eo}=l(d),eu=g(),es=f(),ec=n(e=>{var r={formFieldChange:{funnelKey:eo,pageviewUid:en,formName:"TravelerDetails",fieldName:e.field}};switch(P){case"STANDALONE":case"OptimusCurationShopping":es({OptimusStandaloneCheckout:r});break;case"HOTEL":es({OptimusHotelCheckout:r})}},[P,eo,es,en]),ed=u(n(()=>{var a=[{fieldName:"firstName",isPrefilled:!!e},{fieldName:"lastName",isPrefilled:!!r},{fieldName:"email",isPrefilled:!!o},{fieldName:"phoneNumber",isPrefilled:!!w}],i=a.some(e=>e.isPrefilled);P&&eu({optimusCheckoutForm:{flow:"OptimusCurationShopping"===P?"STANDALONE":P,funnelKey:eo,pageviewUid:en,formName:"TRAVELERDETAILS",isPrefilled:i,formFields:a}})},[P,eo,eu,e,r,o,w,en]));O("firstName",e),O("lastName",r),O("email",o),O("phoneNumber",w),O("countryPhoneCode",ea);var{regionISOCode:em}=el.find(e=>e.regionPhoneCode===S)||{},{regionISOCode:eh}=el.find(e=>e.regionPhoneCode===ea)||{};O("countryISOCode",K?em:eh);var ev=L?"supporting-03":"title-05";return a("div",{ref:ed,children:i("form",{children:[a(s,{variant:L?"title-04":"title-03",elementType:"h2",marginBottom:"spacing-04",children:a(p,{id:"plus_checkout_traveler_details_heading"})}),F&&a(m,{marginBottom:"spacing-04",children:a(N,{messagingVariant:"subscriber",view:"CHECKOUT",flow:P,bookingFlow:V})}),i(h,{space:"spacing-03",children:[i(m,{display:"flex",flexDirection:["column","column","row"],alignItems:"stretch",children:[a("div",{className:x.boxChild,children:a(k,{id:"tdf-first",label:a(s,{variant:ev,children:a(T,{children:a(p,{id:"plus_checkout_first_name_field"})})}),type:"text",value:j.value||"",onChange:e=>U("firstName",{value:e.currentTarget.value}),errorText:j.isError?W.string("plus_checkout_error_state_first_name_v2"):void 0,onBlur:e=>{e.currentTarget.value!==G&&(ec({field:"FirstName"}),J(e.currentTarget.value)),M("firstName",{isDirty:!0})}})}),a(m,{marginTop:"spacing-03",marginLeft:"spacing-03"}),a("div",{className:x.boxChild,children:a(k,{id:"tdf-last",label:a(s,{variant:ev,children:a(T,{children:a(p,{id:"plus_checkout_last_name_field"})})}),type:"text",value:H.value||"",onChange:e=>U("lastName",{value:e.currentTarget.value}),errorText:H.isError?W.string("plus_checkout_error_state_last_name_v2"):void 0,onBlur:e=>{e.currentTarget.value!==Q&&(ec({field:"LastName"}),X(e.currentTarget.value)),M("lastName",{isDirty:!0})}})})]}),i(h,{space:"spacing-01",children:[a(k,{id:"tdf-phone",label:a(s,{variant:ev,children:a(T,{children:a(p,{id:"plus_checkout_phone_number_field"})})}),type:"tel",value:R.value,onChange:e=>U("phoneNumber",{value:e.currentTarget.value}),errorText:R.isError?W.string("plus_checkout_error_state_phone_number"):void 0,onBlur:e=>{e.currentTarget.value!==Y&&(ec({field:"PhoneNumber"}),Z(e.currentTarget.value)),M("phoneNumber",{isDirty:!0})},menuLabel:W.string("createlisting_phone_country_label"),dropdownValue:ea,dropdownPlaceholder:ea,dropdownOptions:et,onDropdownChange:e=>{var[r]=el.filter(r=>r.regionISOCode===e),{regionISOCode:a,regionPhoneCode:i}=r||{},l=`+${i}`;ei(l),U("countryPhoneCode",{value:l}),U("countryISOCode",{value:a})}}),B&&a(C,{value:"cashbackRewardSMSOptIn",checked:A,label:a(s,{variant:"supporting-01",color:"secondaryText",children:a(p,{id:"optimus.checkout.vf_sms_opt_in_checkbox"})}),onToggle:q})]}),a(b,{children:a(k,{id:"tdf-email",label:a(s,{variant:ev,children:D?a(T,{children:a(p,{id:"plus_checkout_email_field"})}):a(p,{id:"plus_checkout_email_field"})}),type:"email",value:$.value,onChange:e=>U("email",{value:e.currentTarget.value}),errorText:$.isError?W.string("plus_checkout_error_state_email"):void 0,onBlur:e=>{e.currentTarget.value!==ee&&(ec({field:"Email"}),er(e.currentTarget.value)),M("email",{isDirty:!0})},helperText:(()=>{if($.value?.length)return"HOTEL"===P?W.string("plus_checkout_hotel_email_disclaimer_text",{email:$.value}):I?W.string("plus_free_trial_checkout_membership_email_disclaimer_text",{email:$.value}):W.string("plus_checkout_subscription_email_disclaimer_text",{email:$.value})})(),readOnly:!D})})]})]})})};return[()=>{e("default",w)},[e=>(a=e.jsx,i=e.jsxs),e=>(l=e.useContext,t=e.useState,n=e.useCallback,o=e.useEffect),e=>u=e.useOnVisible,e=>s=e.default,e=>c=e.usePageviewUid,e=>d=e.FunnelTracking,e=>(m=e.Box,h=e.Stack),e=>v=e.useCountryCodeValues,e=>(p=e.default,_=e.useLocalize),e=>g=e.useImpressionLogger,e=>f=e.useInteractionLogger,e=>(T=e.RequiredLabel,b=e.SensitiveInformationBlocker),e=>k=e.TextInput,e=>C=e.Checkbox,e=>N=e.MemberLoginPrompt,e=>y=e.TravelerDetails]]},["21h32l","o4yt4q","3btuy0","essqvy","fgwvq1","kkqcv8","lyyh8d","q7jm9a","7thqz4","vumu0s","32pwc7","0sjlpd","u3aiot","frf6ac","hlafd3","p33mwk"]]);
